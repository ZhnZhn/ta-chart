{"version":3,"sources":["../../../../src/components/charts/series/CandleSeria.jsx"],"names":["C","fns","timeIntervalBarWidth","format","_stroke","d","dPrev","close","UP","DOWN","_fill","open","TRANSPARENT","bbStroke","top","middle","bottom","bbFill","_crMaTooltipOption","accessor","options","type","yAccessor","stroke","windowSize","CandleSeria","id","height","timeInterval","timeFormat","sma20","sma50","bb","accessorSma20","optionsSma20","accessorSma50","optionsSma50","high","low","w","h"],"mappings":"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","file":"CandleSeria.js","sourcesContent":["import React from 'react'\r\n\r\nimport Ch from '../Ch'\r\nimport fns from '../chartFns'\r\n\r\nconst {\r\n  C,\r\n  timeIntervalBarWidth,\r\n  format\r\n} = fns;\r\n\r\nconst _stroke = (d, dPrev) => d.close > dPrev.close\r\n  ? C.UP\r\n  : C.DOWN;\r\n\r\nconst _fill = (d, dPrev) => d.close > d.open\r\n  ? C.TRANSPARENT\r\n  : _stroke(d, dPrev);\r\n\r\nconst bbStroke = {\r\n\ttop: \"#964B00\",\r\n\tmiddle: \"#000000\",\r\n\tbottom: \"#964B00\",\r\n};\r\n\r\nconst bbFill = \"#4682B4\";\r\n\r\nconst _crMaTooltipOption = (accessor, options) => ({\r\n  type: \"SMA\",\r\n  yAccessor: accessor,\r\n  stroke: options.stroke,\r\n  windowSize: options.windowSize\r\n});\r\n\r\nconst CandleSeria = ({\r\n  id, height,\r\n  timeInterval, timeFormat,\r\n  sma20, sma50, bb\r\n}) => {\r\n  const accessorSma20 = sma20.accessor()\r\n  , optionsSma20 = sma20.options()\r\n  , accessorSma50 = sma50.accessor()\r\n  , optionsSma50 = sma50.options();\r\n  return (\r\n  <Ch.Chart\r\n    id={id}\r\n    height={height}\r\n    yExtents={d => [d.high, d.low]}\r\n    origin={(w, h) => [0, h - 420]}\r\n    //onContextMenu={_onContextMenu}\r\n  >\r\n    <Ch.YAxis\r\n      axisAt=\"right\" orient=\"right\"\r\n      ticks={5} stroke=\"black\"\r\n    />\r\n    <Ch.BollingerSeries\r\n      yAccessor={d => d.bb}\r\n      stroke={bbStroke}\r\n      fill={bbFill}\r\n    />\r\n    <Ch.LineSeries\r\n      yAccessor={accessorSma20}\r\n      stroke={optionsSma20.stroke}\r\n    />\r\n    <Ch.LineSeries\r\n      yAccessor={accessorSma50}\r\n      stroke={optionsSma50.stroke}\r\n    />\r\n    <Ch.CandlestickSeries\r\n       width={timeIntervalBarWidth(timeInterval)}\r\n       fill={_fill}\r\n       stroke={_stroke}\r\n       wickStroke={_stroke}\r\n       candleStrokeWidth={0.8}\r\n    />\r\n    {/*\r\n    <EdgeIndicator\r\n       itemType=\"last\"\r\n       orient=\"right\" edgeAt=\"right\"\r\n       yAccessor={d => d.close} fill=\"blue\" />\r\n    */}\r\n    <Ch.MouseCoordinateY\r\n      at=\"right\"\r\n      orient=\"right\"\r\n      displayFormat={format(\".4f\")}\r\n    />\r\n    <Ch.OHLCTooltip\r\n      fontSize={15}\r\n      //labelFill=\"#1b2836\"\r\n      xDisplayFormat={timeFormat}\r\n      textFill=\"black\"\r\n      ohlcFormat={format(\".8f\")}\r\n      forChart={3}\r\n      origin={[5, -90]}\r\n    />\r\n    <Ch.MovingAverageTooltip\r\n      fontSize={15}\r\n      origin={[5, 320]}\r\n      options={[\r\n        _crMaTooltipOption(accessorSma20, optionsSma20),\r\n        _crMaTooltipOption(accessorSma50, optionsSma50)\r\n      ]}\r\n    />\r\n    <Ch.BollingerBandTooltip\r\n      fontSize={15}\r\n      origin={[190, 440]}\r\n      yAccessor={d => d.bb}\r\n      options={bb.options()}\r\n    />\r\n  </Ch.Chart>\r\n  );\r\n}\r\n\r\nexport default CandleSeria\r\n"]}