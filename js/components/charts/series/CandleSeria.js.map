{"version":3,"sources":["../../../../src/components/charts/series/CandleSeria.jsx"],"names":["C","fns","timeIntervalBarWidth","format","_stroke","d","dPrev","close","UP","DOWN","_fill","open","TRANSPARENT","bbStroke","top","middle","bottom","bbFill","_crMaTooltipOption","accessor","options","type","yAccessor","stroke","windowSize","CandleSeria","id","height","timeInterval","timeFormat","sma20","sma50","bb","accessorSma20","optionsSma20","accessorSma50","optionsSma50","high","low","w","h"],"mappings":"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","sourcesContent":["import React from 'react'\r\n\r\nimport Ch from '../Ch'\r\nimport fns from '../chartFns'\r\n\r\nconst {\r\n  C,\r\n  timeIntervalBarWidth,\r\n  format\r\n} = fns;\r\n\r\nconst _stroke = (d, dPrev) => d.close > dPrev.close\r\n  ? C.UP\r\n  : C.DOWN;\r\n\r\nconst _fill = (d, dPrev) => d.close > d.open\r\n  ? C.TRANSPARENT\r\n  : _stroke(d, dPrev);\r\n\r\nconst bbStroke = {\r\n\ttop: \"#964B00\",\r\n\tmiddle: \"#000000\",\r\n\tbottom: \"#964B00\",\r\n};\r\n\r\nconst bbFill = \"#4682B4\";\r\n\r\nconst _crMaTooltipOption = (accessor, options) => ({\r\n  type: \"SMA\",\r\n  yAccessor: accessor,\r\n  stroke: options.stroke,\r\n  windowSize: options.windowSize\r\n});\r\n\r\nconst CandleSeria = ({\r\n  id, height,\r\n  timeInterval, timeFormat,\r\n  sma20, sma50, bb\r\n}) => {\r\n  const accessorSma20 = sma20.accessor()\r\n  , optionsSma20 = sma20.options()\r\n  , accessorSma50 = sma50.accessor()\r\n  , optionsSma50 = sma50.options();\r\n  return (\r\n  <Ch.Chart\r\n    id={id}\r\n    height={height}\r\n    yExtents={d => [d.high, d.low]}\r\n    origin={(w, h) => [0, h - 420]}\r\n    //onContextMenu={_onContextMenu}\r\n  >\r\n    <Ch.YAxis\r\n      axisAt=\"right\" orient=\"right\"\r\n      ticks={5} stroke=\"black\"\r\n    />\r\n    <Ch.BollingerSeries\r\n      yAccessor={d => d.bb}\r\n      stroke={bbStroke}\r\n      fill={bbFill}\r\n    />\r\n    <Ch.LineSeries\r\n      yAccessor={accessorSma20}\r\n      stroke={optionsSma20.stroke}\r\n    />\r\n    <Ch.LineSeries\r\n      yAccessor={accessorSma50}\r\n      stroke={optionsSma50.stroke}\r\n    />\r\n    <Ch.CandlestickSeries\r\n       width={timeIntervalBarWidth(timeInterval)}\r\n       fill={_fill}\r\n       stroke={_stroke}\r\n       wickStroke={_stroke}\r\n       candleStrokeWidth={0.8}\r\n    />\r\n    {/*\r\n    <EdgeIndicator\r\n       itemType=\"last\"\r\n       orient=\"right\" edgeAt=\"right\"\r\n       yAccessor={d => d.close} fill=\"blue\" />\r\n    */}\r\n    <Ch.MouseCoordinateY\r\n      at=\"right\"\r\n      orient=\"right\"\r\n      displayFormat={format(\".4f\")}\r\n    />\r\n    <Ch.OHLCTooltip\r\n      fontSize={15}\r\n      //labelFill=\"#1b2836\"\r\n      xDisplayFormat={timeFormat}\r\n      textFill=\"black\"\r\n      ohlcFormat={format(\".8f\")}\r\n      forChart={3}\r\n      origin={[5, -90]}\r\n    />\r\n    <Ch.MovingAverageTooltip\r\n      fontSize={15}\r\n      origin={[5, 320]}\r\n      options={[\r\n        _crMaTooltipOption(accessorSma20, optionsSma20),\r\n        _crMaTooltipOption(accessorSma50, optionsSma50)\r\n      ]}\r\n    />\r\n    <Ch.BollingerBandTooltip\r\n      fontSize={15}\r\n      origin={[190, 440]}\r\n      yAccessor={d => d.bb}\r\n      options={bb.options()}\r\n    />\r\n  </Ch.Chart>\r\n  );\r\n}\r\n\r\nexport default CandleSeria\r\n"],"file":"CandleSeria.js"}