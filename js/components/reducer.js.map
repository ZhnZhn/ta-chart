{"version":3,"sources":["../../src/components/reducer.js"],"names":["_isDataValid","Array","isArray","data","length","reducer","state","action","type","DATA","LOADING","fetchStatus","FETCH","LOADED","providerTitle","itemTitle","timeframe","SUCCESS","LOAD_FAILED","FAILED","UPDATE","point","TypeError"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,eAAe,SAAfA,YAAe;AAAA,SAAQC,MAAMC,OAAN,CAAcC,IAAd,KACzBA,KAAKC,MAAL,GAAY,EADK;AAAA,CAArB;;AAGA,IAAMC,UAAU,SAAVA,OAAU,CAACC,KAAD,EAAQC,MAAR,EAAmB;AACjC,UAAOA,OAAOC,IAAd;AACE,SAAKC,mBAAKC,OAAV;AACC,wCACKJ,KADL;AAEEK,qBAAaC,oBAAMF;AAFrB;AAID,SAAKD,mBAAKI,MAAV;AAAkB;AAAA,YACRV,IADQ,GACCI,MADD,CACRJ,IADQ;;AAEhB,YAAK,CAACH,aAAaG,IAAb,CAAN,EAA2B;AACzB,iBAAOG,KAAP;AACD;AACD,0CACKA,KADL;AAEEH,gBAAMI,OAAOJ,IAFf;AAGEW,yBAAeP,OAAOO,aAHxB;AAIEC,qBAAWR,OAAOQ,SAJpB;AAKEC,qBAAWT,OAAOS,SALpB;AAMEL,uBAAaC,oBAAMK;AANrB;AAQD;AACD,SAAKR,mBAAKS,WAAV;AACE,wCACKZ,KADL;AAEEK,qBAAaC,oBAAMO;AAFrB;AAIF,SAAKV,mBAAKW,MAAV;AACE,wCACKd,KADL;AAEEH,yDAAWG,MAAMH,IAAjB,IAAuBI,OAAOc,KAA9B;AAFF;AAIF;AAAS,YAAM,IAAIC,SAAJ,CAAc,wBAAwBf,OAAOC,IAA7C,CAAN;AA9BX;AAgCD,CAjCD;;kBAmCeH,O","file":"reducer.js","sourcesContent":["import FETCH from './enumFetch'\r\nimport DATA from './enumData'\r\n\r\nconst _isDataValid = data => Array.isArray(data)\r\n || data.length>20;\r\n\r\nconst reducer = (state, action) => {\r\n  switch(action.type){\r\n    case DATA.LOADING:\r\n     return {\r\n       ...state,\r\n       fetchStatus: FETCH.LOADING\r\n     };\r\n    case DATA.LOADED: {\r\n      const { data } = action;\r\n      if ( !_isDataValid(data) ) {\r\n        return state;\r\n      }\r\n      return {\r\n        ...state,\r\n        data: action.data,\r\n        providerTitle: action.providerTitle,\r\n        itemTitle: action.itemTitle,\r\n        timeframe: action.timeframe,\r\n        fetchStatus: FETCH.SUCCESS\r\n      };\r\n    }\r\n    case DATA.LOAD_FAILED:\r\n      return {\r\n        ...state,\r\n        fetchStatus: FETCH.FAILED\r\n      };\r\n    case DATA.UPDATE:\r\n      return {\r\n        ...state,\r\n        data: [ ...state.data, action.point ]\r\n      };\r\n    default: throw new TypeError('Not existed action ' + action.type);\r\n  }\r\n}\r\n\r\nexport default reducer\r\n"]}