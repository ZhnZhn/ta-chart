{"version":3,"sources":["../../src/components/App.jsx"],"names":["S","MAIN","paddingTop","INLINE","display","SELECTS","verticalAlign","EL_ID","App","width","setWidth","themeId","setThemeId","reducer","initialState","state","dispatch","providerTitle","itemTitle","data","timeframe","fetchStatus","appValue","theme","hResize","_el","document","getElementById","_style","window","getComputedStyle","_w","Math","round","parseFloat","addEventListener","removeEventListener"],"mappings":";;;;;;;;;;AAAA;;;;AAEA;;;;AAEA;;;;AACA;;;;AAEA;;;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,IAAI;AACRC,QAAM;AACJC,gBAAY;AADR,GADE;AAIRC,UAAQ;AACNC,aAAS;AADH,GAJA;AAORC,WAAS;AACPD,aAAS,cADF;AAEPE,mBAAe;AAFR;AAPD,CAAV;;AAaA,IAAMC,QAAQ,eAAd;;AAEA,IAAMC,MAAM,SAANA,GAAM,GAAM;AAAA,kBACU,qBAAS,GAAT,CADV;AAAA;AAAA,MACTC,KADS;AAAA,MACFC,QADE;AAAA,mBAEU,qBAAS,CAAT,CAFV;AAAA;AAAA,MAEbC,OAFa;AAAA,MAEJC,UAFI;AAAA,oBAGM,uBAAWC,iBAAX,EAAoBC,sBAApB,CAHN;AAAA;AAAA,MAGbC,KAHa;AAAA,MAGNC,QAHM;AAAA,MAKdC,aALc,GAOZF,KAPY,CAKdE,aALc;AAAA,MAKCC,SALD,GAOZH,KAPY,CAKCG,SALD;AAAA,MAMdC,IANc,GAOZJ,KAPY,CAMdI,IANc;AAAA,MAMRC,SANQ,GAOZL,KAPY,CAMRK,SANQ;AAAA,MAMGC,WANH,GAOZN,KAPY,CAMGM,WANH;AAAA,MAQdC,QARc,GAQH,uBAAQ;AAAA,WAAM,0BAAW;AACjCN,wBADiC,EACvBO;AADuB,KAAX,CAAN;AAAA,GAAR,CARG;;AAahB,MAAMC,UAAU,SAAVA,OAAU,GAAM;AACpB,QAAMC,MAAMC,SAASC,cAAT,CAAwBpB,KAAxB,CAAZ;AAAA,QACEqB,SAASC,OAAOC,gBAAP,CAAwBL,GAAxB,CADX;AAAA,QAEEM,KAAKC,KAAKC,KAAL,CAAWC,WAAWN,OAAOnB,KAAlB,CAAX,CAFP;AAGAC,aAASqB,EAAT;AACD,GALD;AAMA,wBAAU,YAAI;AACXF,WAAOM,gBAAP,CAAwB,QAAxB,EAAkCX,OAAlC;AACA,WAAO;AAAA,aAAMK,OAAOO,mBAAP,CAA2B,QAA3B,EAAqCZ,OAArC,CAAN;AAAA,KAAP;AACF,GAHD,EAGG,EAHH;;AAKA;;;;;;;;;;;AAYA,SACE;AAAC,sBAAD,CAAU,QAAV;AAAA,MAAmB,OAAOF,QAA1B;AACA;AAAC,0BAAD,CAAY,QAAZ;AAAA,QAAqB,OAAOX,OAA5B;AACE,oCAAC,gBAAD;AACE,oBAAYC,UADd;AAEE,qBAAaS,WAFf;AAGE,uBAAeJ,aAHjB;AAIE,mBAAWC,SAJb;AAKE,mBAAWE;AALb,QADF;AAQE;AAAA;AAAA,UAAM,OAAOpB,EAAEC,IAAf;AACE,sCAAC,qBAAD;AACE,cAAIM,KADN;AAEE,iBAAOE,KAFT;AAGE,kBAAQ,GAHV;AAIE,gBAAMU,IAJR;AAKE,kBAAQK,OALV;AAME,qBAAWJ;AANb;AADF;AARF;AADA,GADF;AAuBD,CA3DD;;kBA6DeZ,G","file":"App.js","sourcesContent":["import React, { useState, useReducer, useEffect } from 'react'\r\n\r\nimport useInit from './hooks/useInit'\r\n\r\nimport AppValue from './contexts/AppValue'\r\nimport AppThemeId from './contexts/AppThemeId'\r\n\r\nimport theme from './styles/theme'\r\n\r\nimport Header from './header/Header'\r\nimport HollowChart  from './charts/HollowChart'\r\n\r\nimport initialState from './initialState'\r\nimport reducer from './reducer'\r\nimport crAppValue from './crAppValue'\r\n\r\nconst S = {\r\n  MAIN: {\r\n    paddingTop: 8\r\n  },\r\n  INLINE: {\r\n    display: 'inline-block'\r\n  },\r\n  SELECTS: {\r\n    display: 'inline-block',\r\n    verticalAlign: 'top'\r\n  }\r\n};\r\n\r\nconst EL_ID = \"chart_wrapper\";\r\n\r\nconst App = () => {\r\n  const [width, setWidth] = useState(900)\r\n  , [themeId, setThemeId] = useState(1)\r\n  , [state, dispatch] = useReducer(reducer, initialState)\r\n  , {\r\n    providerTitle, itemTitle,\r\n    data, timeframe, fetchStatus\r\n  } = state\r\n  , appValue = useInit(() => crAppValue({\r\n       dispatch, theme\r\n  }));\r\n\r\n\r\n  const hResize = () => {\r\n    const _el = document.getElementById(EL_ID)\r\n    , _style = window.getComputedStyle(_el)\r\n    , _w = Math.round(parseFloat(_style.width));\r\n    setWidth(_w)\r\n  };\r\n  useEffect(()=>{\r\n     window.addEventListener(\"resize\", hResize);\r\n     return () => window.removeEventListener(\"resize\", hResize);\r\n  }, [])\r\n\r\n  /*\r\n  console.log(JSON.stringify(data.map(obj => ({\r\n    date: obj.date,\r\n    open: obj.open,\r\n    high: obj.high,\r\n    low: obj.low,\r\n    close: obj.close,\r\n    volume: obj.volume\r\n  }))))\r\n  */\r\n\r\n\r\n  return (\r\n    <AppValue.Provider value={appValue}>\r\n    <AppThemeId.Provider value={themeId}>\r\n      <Header\r\n        setThemeId={setThemeId}\r\n        fetchStatus={fetchStatus}\r\n        providerTitle={providerTitle}\r\n        itemTitle={itemTitle}\r\n        timeframe={timeframe}\r\n      />\r\n      <main style={S.MAIN}>\r\n        <HollowChart\r\n          id={EL_ID}\r\n          width={width}\r\n          height={550}\r\n          data={data}\r\n          resize={hResize}\r\n          timeframe={timeframe}\r\n        />\r\n      </main>\r\n    </AppThemeId.Provider>\r\n    </AppValue.Provider>\r\n   )\r\n};\r\n\r\nexport default App\r\n"]}