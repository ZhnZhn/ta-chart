{"version":3,"sources":["../../src/components/App.jsx"],"names":["S","MAIN","paddingTop","INLINE","display","SELECTS","verticalAlign","EL_ID","App","width","setWidth","themeId","setThemeId","reducer","initialState","state","dispatch","providerTitle","itemTitle","data","timeframe","fetchStatus","isLiveUpdating","sec","liveUpdating","setLiveUpdating","appValue","appSettings","theme","hResize","_el","document","getElementById","_style","window","getComputedStyle","_w","Math","round","parseFloat","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import React, { useState, useReducer, useEffect } from 'react'\r\n\r\nimport useInit from './hooks/useInit'\r\n\r\nimport AppValue from './contexts/AppValue'\r\nimport AppThemeId from './contexts/AppThemeId'\r\nimport AppLiveUpdating from './contexts/AppLiveUpdating'\r\n\r\nimport appSettings from './appSettings'\r\nimport theme from './styles/theme'\r\n\r\nimport Header from './header/Header'\r\nimport HollowChart  from './charts/HollowChart'\r\n\r\nimport initialState from './initialState'\r\nimport reducer from './reducer'\r\nimport crAppValue from './crAppValue'\r\n\r\nconst S = {\r\n  MAIN: {\r\n    paddingTop: 8\r\n  },\r\n  INLINE: {\r\n    display: 'inline-block'\r\n  },\r\n  SELECTS: {\r\n    display: 'inline-block',\r\n    verticalAlign: 'top'\r\n  }\r\n};\r\n\r\nconst EL_ID = \"chart_wrapper\";\r\n\r\nconst App = () => {\r\n  const [width, setWidth] = useState(900)\r\n  , [themeId, setThemeId] = useState(1)\r\n  , [state, dispatch] = useReducer(reducer, initialState)\r\n  , {\r\n    providerTitle, itemTitle,\r\n    data, timeframe, fetchStatus,\r\n  } = state\r\n  , [ liveUpdating, setLiveUpdating] = useState({ isLiveUpdating: false, sec: '' })\r\n  , appValue = useInit(() => crAppValue({\r\n       appSettings,\r\n       theme, setThemeId,\r\n       dispatch,       \r\n       setLiveUpdating\r\n  }));\r\n\r\n\r\n  const hResize = () => {\r\n    const _el = document.getElementById(EL_ID)\r\n    , _style = window.getComputedStyle(_el)\r\n    , _w = Math.round(parseFloat(_style.width));\r\n    setWidth(_w)\r\n  };\r\n  useEffect(()=>{\r\n     window.addEventListener(\"resize\", hResize);\r\n     return () => window.removeEventListener(\"resize\", hResize);\r\n  }, [])\r\n\r\n  /*\r\n  console.log(JSON.stringify(data.map(obj => ({\r\n    date: obj.date,\r\n    open: obj.open,\r\n    high: obj.high,\r\n    low: obj.low,\r\n    close: obj.close,\r\n    volume: obj.volume\r\n  }))))\r\n  */\r\n\r\n\r\n  return (\r\n    <AppValue.Provider value={appValue}>\r\n    <AppThemeId.Provider value={themeId}>\r\n    <AppLiveUpdating.Provider value={liveUpdating}>\r\n      <Header\r\n        fetchStatus={fetchStatus}\r\n        providerTitle={providerTitle}\r\n        itemTitle={itemTitle}\r\n        timeframe={timeframe}\r\n      />\r\n      <main style={S.MAIN}>\r\n        <HollowChart\r\n          id={EL_ID}\r\n          width={width}\r\n          height={550}\r\n          data={data}\r\n          resize={hResize}\r\n          timeframe={timeframe}\r\n        />\r\n      </main>\r\n    </AppLiveUpdating.Provider>\r\n    </AppThemeId.Provider>\r\n    </AppValue.Provider>\r\n   )\r\n};\r\n\r\nexport default App\r\n"],"file":"App.js"}