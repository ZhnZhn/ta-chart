{"version":3,"sources":["../../src/components/App.jsx"],"names":["S","MAIN","paddingTop","INLINE","display","SELECTS","verticalAlign","EL_ID","App","width","setWidth","themeId","setThemeId","reducer","initialState","state","dispatch","providerTitle","itemTitle","data","timeframe","fetchStatus","isLiveUpdating","sec","liveUpdating","setLiveUpdating","appValue","appSettings","theme","hResize","_el","document","getElementById","_style","window","getComputedStyle","_w","Math","round","parseFloat","addEventListener","removeEventListener"],"mappings":";;;;;;;;;;AAAA;;;;AAEA;;;;AAEA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,IAAI;AACRC,QAAM;AACJC,gBAAY;AADR,GADE;AAIRC,UAAQ;AACNC,aAAS;AADH,GAJA;AAORC,WAAS;AACPD,aAAS,cADF;AAEPE,mBAAe;AAFR;AAPD,CAAV;;AAaA,IAAMC,QAAQ,eAAd;;AAEA,IAAMC,MAAM,SAANA,GAAM,GAAM;AAAA,kBACU,qBAAS,GAAT,CADV;AAAA;AAAA,MACTC,KADS;AAAA,MACFC,QADE;AAAA,mBAEU,qBAAS,CAAT,CAFV;AAAA;AAAA,MAEbC,OAFa;AAAA,MAEJC,UAFI;AAAA,oBAGM,uBAAWC,iBAAX,EAAoBC,sBAApB,CAHN;AAAA;AAAA,MAGbC,KAHa;AAAA,MAGNC,QAHM;AAAA,MAKdC,aALc,GAOZF,KAPY,CAKdE,aALc;AAAA,MAKCC,SALD,GAOZH,KAPY,CAKCG,SALD;AAAA,MAMdC,IANc,GAOZJ,KAPY,CAMdI,IANc;AAAA,MAMRC,SANQ,GAOZL,KAPY,CAMRK,SANQ;AAAA,MAMGC,WANH,GAOZN,KAPY,CAMGM,WANH;AAAA,mBAQqB,qBAAS,EAAEC,gBAAgB,KAAlB,EAAyBC,KAAK,EAA9B,EAAT,CARrB;AAAA;AAAA,MAQZC,YARY;AAAA,MAQEC,eARF;AAAA,MASdC,QATc,GASH,uBAAQ;AAAA,WAAM,0BAAW;AACjCC,wCADiC;AAEjCC,4BAFiC,EAE1BhB,sBAF0B;AAGjCI,wBAHiC;AAIjCS;AAJiC,KAAX,CAAN;AAAA,GAAR,CATG;;AAiBhB,MAAMI,UAAU,SAAVA,OAAU,GAAM;AACpB,QAAMC,MAAMC,SAASC,cAAT,CAAwBzB,KAAxB,CAAZ;AAAA,QACE0B,SAASC,OAAOC,gBAAP,CAAwBL,GAAxB,CADX;AAAA,QAEEM,KAAKC,KAAKC,KAAL,CAAWC,WAAWN,OAAOxB,KAAlB,CAAX,CAFP;AAGAC,aAAS0B,EAAT;AACD,GALD;AAMA,wBAAU,YAAI;AACXF,WAAOM,gBAAP,CAAwB,QAAxB,EAAkCX,OAAlC;AACA,WAAO;AAAA,aAAMK,OAAOO,mBAAP,CAA2B,QAA3B,EAAqCZ,OAArC,CAAN;AAAA,KAAP;AACF,GAHD,EAGG,EAHH;;AAKA;;;;;;;;;;;AAYA,SACE;AAAC,sBAAD,CAAU,QAAV;AAAA,MAAmB,OAAOH,QAA1B;AACA;AAAC,0BAAD,CAAY,QAAZ;AAAA,QAAqB,OAAOf,OAA5B;AACA;AAAC,iCAAD,CAAiB,QAAjB;AAAA,UAA0B,OAAOa,YAAjC;AACE,sCAAC,gBAAD;AACE,uBAAaH,WADf;AAEE,yBAAeJ,aAFjB;AAGE,qBAAWC,SAHb;AAIE,qBAAWE;AAJb,UADF;AAOE;AAAA;AAAA,YAAM,OAAOpB,EAAEC,IAAf;AACE,wCAAC,qBAAD;AACE,gBAAIM,KADN;AAEE,mBAAOE,KAFT;AAGE,oBAAQ,GAHV;AAIE,kBAAMU,IAJR;AAKE,oBAAQU,OALV;AAME,uBAAWT;AANb;AADF;AAPF;AADA;AADA,GADF;AAwBD,CAhED;;kBAkEeZ,G","file":"App.js","sourcesContent":["import React, { useState, useReducer, useEffect } from 'react'\r\n\r\nimport useInit from './hooks/useInit'\r\n\r\nimport AppValue from './contexts/AppValue'\r\nimport AppThemeId from './contexts/AppThemeId'\r\nimport AppLiveUpdating from './contexts/AppLiveUpdating'\r\n\r\nimport appSettings from './appSettings'\r\nimport theme from './styles/theme'\r\n\r\nimport Header from './header/Header'\r\nimport HollowChart  from './charts/HollowChart'\r\n\r\nimport initialState from './initialState'\r\nimport reducer from './reducer'\r\nimport crAppValue from './crAppValue'\r\n\r\nconst S = {\r\n  MAIN: {\r\n    paddingTop: 8\r\n  },\r\n  INLINE: {\r\n    display: 'inline-block'\r\n  },\r\n  SELECTS: {\r\n    display: 'inline-block',\r\n    verticalAlign: 'top'\r\n  }\r\n};\r\n\r\nconst EL_ID = \"chart_wrapper\";\r\n\r\nconst App = () => {\r\n  const [width, setWidth] = useState(900)\r\n  , [themeId, setThemeId] = useState(1)\r\n  , [state, dispatch] = useReducer(reducer, initialState)\r\n  , {\r\n    providerTitle, itemTitle,\r\n    data, timeframe, fetchStatus,\r\n  } = state\r\n  , [ liveUpdating, setLiveUpdating] = useState({ isLiveUpdating: false, sec: '' })\r\n  , appValue = useInit(() => crAppValue({\r\n       appSettings,\r\n       theme, setThemeId,\r\n       dispatch,       \r\n       setLiveUpdating\r\n  }));\r\n\r\n\r\n  const hResize = () => {\r\n    const _el = document.getElementById(EL_ID)\r\n    , _style = window.getComputedStyle(_el)\r\n    , _w = Math.round(parseFloat(_style.width));\r\n    setWidth(_w)\r\n  };\r\n  useEffect(()=>{\r\n     window.addEventListener(\"resize\", hResize);\r\n     return () => window.removeEventListener(\"resize\", hResize);\r\n  }, [])\r\n\r\n  /*\r\n  console.log(JSON.stringify(data.map(obj => ({\r\n    date: obj.date,\r\n    open: obj.open,\r\n    high: obj.high,\r\n    low: obj.low,\r\n    close: obj.close,\r\n    volume: obj.volume\r\n  }))))\r\n  */\r\n\r\n\r\n  return (\r\n    <AppValue.Provider value={appValue}>\r\n    <AppThemeId.Provider value={themeId}>\r\n    <AppLiveUpdating.Provider value={liveUpdating}>\r\n      <Header\r\n        fetchStatus={fetchStatus}\r\n        providerTitle={providerTitle}\r\n        itemTitle={itemTitle}\r\n        timeframe={timeframe}\r\n      />\r\n      <main style={S.MAIN}>\r\n        <HollowChart\r\n          id={EL_ID}\r\n          width={width}\r\n          height={550}\r\n          data={data}\r\n          resize={hResize}\r\n          timeframe={timeframe}\r\n        />\r\n      </main>\r\n    </AppLiveUpdating.Provider>\r\n    </AppThemeId.Provider>\r\n    </AppValue.Provider>\r\n   )\r\n};\r\n\r\nexport default App\r\n"]}