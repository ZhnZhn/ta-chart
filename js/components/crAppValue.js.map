{"version":3,"sources":["../../src/components/crAppValue.js"],"names":["crAppValue","appSettings","theme","setThemeId","dispatch","setLiveUpdating","dataAction","loading","type","DATA","LOADING","loadData","timeframe","C","DF_TIMEFRAME","rest","isLiveUpdating","updateWs","stopLiveUpdate","LOADED","loadFailed","LOAD_FAILED","onLiveUpdate","pair","onMessage","point","second","UPDATE","onOpen","onClose","onSecond","sec","startLiveUpdate","onStopUpdate"],"mappings":";;;;;;;;;;;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAEA,IAAMA,aAAa,SAAbA,UAAa;AAAA,MACjBC,WADiB,QACjBA,WADiB;AAAA,MAEjBC,KAFiB,QAEjBA,KAFiB;AAAA,MAEVC,UAFU,QAEVA,UAFU;AAAA,MAGjBC,QAHiB,QAGjBA,QAHiB;AAAA,MAIjBC,eAJiB,QAIjBA,eAJiB;AAAA,SAKZ;AACLJ,4BADK;AAELC,gBAFK;AAGLC,0BAHK;AAILG,gBAAY;AACVC,eAAS;AAAA,eAAMH,SAAS;AACtBI,gBAAMC,mBAAKC;AADW,SAAT,CAAN;AAAA,OADC;AAIVC,gBAAU,yBAA2C;AAAA,oCAAxCC,SAAwC;AAAA,YAAxCA,SAAwC,mCAA9BC,iBAAEC,YAA4B;AAAA,YAAXC,IAAW;;AACnDV,wBAAgB,EAAEW,gBAAgB,KAAlB,EAAhB;AACAC,2BAASC,cAAT;AACAd;AACGI,gBAAMC,mBAAKU,MADd;AAEGP;AAFH,WAGMG,IAHN;AAKD,OAZS;AAaVK,kBAAY;AAAA,eAAMhB,SAAS;AACzBI,gBAAMC,mBAAKY;AADc,SAAT,CAAN;AAAA;AAbF,KAJP;AAqBLC,kBAAc,sBAACC,IAAD,EAAU;AACtB,UAAMC,YAAY,SAAZA,SAAY,CAACC,KAAD,EAAQC,MAAR;AAAA,eAAmBtB,SAAS;AAC5CI,gBAAMC,mBAAKkB,MADiC,EACzBF;AADyB,SAAT,CAAnB;AAAA,OAAlB;AAAA,UAGEG,SAAS,SAATA,MAAS;AAAA,eAAMvB,gBAAgB,EAAEW,gBAAgB,IAAlB,EAAhB,CAAN;AAAA,OAHX;AAAA,UAIEa,UAAU,SAAVA,OAAU;AAAA,eAAMxB,gBAAgB,EAAEW,gBAAgB,KAAlB,EAAhB,CAAN;AAAA,OAJZ;AAAA,UAKEc,WAAW,SAAXA,QAAW,CAACC,GAAD;AAAA,eAAS1B,gBAAgB,EAAEW,gBAAgB,IAAlB,EAAwBe,KAAKA,GAA7B,EAAhB,CAAT;AAAA,OALb;AAMAd,yBAASe,eAAT,CAAyB;AACvBT,kBADuB,EACjBC,oBADiB,EACNI,cADM,EACEC,gBADF,EACWC;AADX,OAAzB;AAGD,KA/BI;AAgCLG,kBAAc,wBAAM;AAClBhB,yBAASC,cAAT;AACD;AAlCI,GALY;AAAA,CAAnB;;kBA2CelB,U","file":"crAppValue.js","sourcesContent":["\r\nimport C from './config'\r\nimport DATA from './enumData'\r\n\r\nimport updateWs from './updateWs'\r\n\r\nconst crAppValue = ({\r\n  appSettings,\r\n  theme, setThemeId,\r\n  dispatch,\r\n  setLiveUpdating\r\n}) => ({\r\n  appSettings,\r\n  theme,\r\n  setThemeId,\r\n  dataAction: {\r\n    loading: () => dispatch({\r\n      type: DATA.LOADING\r\n    }),\r\n    loadData: ({ timeframe=C.DF_TIMEFRAME, ...rest }) => {\r\n      setLiveUpdating({ isLiveUpdating: false })\r\n      updateWs.stopLiveUpdate()\r\n      dispatch({\r\n         type: DATA.LOADED,\r\n         timeframe,\r\n         ...rest\r\n      })\r\n    },\r\n    loadFailed: () => dispatch({\r\n      type: DATA.LOAD_FAILED\r\n    })\r\n  },\r\n  onLiveUpdate: (pair) => {\r\n    const onMessage = (point, second) => dispatch({\r\n      type: DATA.UPDATE, point\r\n    })\r\n    , onOpen = () => setLiveUpdating({ isLiveUpdating: true })\r\n    , onClose = () => setLiveUpdating({ isLiveUpdating: false })\r\n    , onSecond = (sec) => setLiveUpdating({ isLiveUpdating: true, sec: sec })\r\n    updateWs.startLiveUpdate({\r\n      pair, onMessage, onOpen, onClose, onSecond\r\n    })\r\n  },\r\n  onStopUpdate: () => {\r\n    updateWs.stopLiveUpdate()\r\n  }\r\n});\r\n\r\n\r\nexport default crAppValue\r\n"]}