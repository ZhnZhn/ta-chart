{"version":3,"sources":["../../src/components/crAppValue.js"],"names":["crAppValue","appSettings","theme","setThemeId","dispatch","setLiveUpdating","dataAction","loading","type","DATA","LOADING","loadData","timeframe","C","DF_TIMEFRAME","rest","isLiveUpdating","updateWs","stopLiveUpdate","LOADED","loadFailed","LOAD_FAILED","onLiveUpdate","pair","onMessage","point","second","UPDATE","onOpen","onClose","onSecond","sec","startLiveUpdate","onStopUpdate"],"mappings":";;;;;;;;;;;AACA;;AACA;;AAEA;;AAEA,IAAMA,UAAU,GAAG,SAAbA,UAAa;AAAA,MACjBC,WADiB,QACjBA,WADiB;AAAA,MAEjBC,KAFiB,QAEjBA,KAFiB;AAAA,MAEVC,UAFU,QAEVA,UAFU;AAAA,MAGjBC,QAHiB,QAGjBA,QAHiB;AAAA,MAIjBC,eAJiB,QAIjBA,eAJiB;AAAA,SAKZ;AACLJ,IAAAA,WAAW,EAAXA,WADK;AAELC,IAAAA,KAAK,EAALA,KAFK;AAGLC,IAAAA,UAAU,EAAVA,UAHK;AAILG,IAAAA,UAAU,EAAE;AACVC,MAAAA,OAAO,EAAE;AAAA,eAAMH,QAAQ,CAAC;AACtBI,UAAAA,IAAI,EAAEC,qBAAKC;AADW,SAAD,CAAd;AAAA,OADC;AAIVC,MAAAA,QAAQ,EAAE,yBAA2C;AAAA,oCAAxCC,SAAwC;AAAA,YAAxCA,SAAwC,gCAA9BC,mBAAEC,YAA4B;AAAA,YAAXC,IAAW;AACnDV,QAAAA,eAAe,CAAC;AAAEW,UAAAA,cAAc,EAAE;AAAlB,SAAD,CAAf;;AACAC,6BAASC,cAAT;;AACAd,QAAAA,QAAQ;AACLI,UAAAA,IAAI,EAAEC,qBAAKU,MADN;AAELP,UAAAA,SAAS,EAATA;AAFK,WAGFG,IAHE,EAAR;AAKD,OAZS;AAaVK,MAAAA,UAAU,EAAE;AAAA,eAAMhB,QAAQ,CAAC;AACzBI,UAAAA,IAAI,EAAEC,qBAAKY;AADc,SAAD,CAAd;AAAA;AAbF,KAJP;AAqBLC,IAAAA,YAAY,EAAE,sBAACC,IAAD,EAAU;AACtB,UAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAQC,MAAR;AAAA,eAAmBtB,QAAQ,CAAC;AAC5CI,UAAAA,IAAI,EAAEC,qBAAKkB,MADiC;AACzBF,UAAAA,KAAK,EAALA;AADyB,SAAD,CAA3B;AAAA,OAAlB;AAAA,UAGEG,MAAM,GAAG,SAATA,MAAS;AAAA,eAAMvB,eAAe,CAAC;AAAEW,UAAAA,cAAc,EAAE;AAAlB,SAAD,CAArB;AAAA,OAHX;AAAA,UAIEa,OAAO,GAAG,SAAVA,OAAU;AAAA,eAAMxB,eAAe,CAAC;AAAEW,UAAAA,cAAc,EAAE;AAAlB,SAAD,CAArB;AAAA,OAJZ;AAAA,UAKEc,QAAQ,GAAG,SAAXA,QAAW,CAACC,GAAD;AAAA,eAAS1B,eAAe,CAAC;AAAEW,UAAAA,cAAc,EAAE,IAAlB;AAAwBe,UAAAA,GAAG,EAAEA;AAA7B,SAAD,CAAxB;AAAA,OALb;;AAMAd,2BAASe,eAAT,CAAyB;AACvBT,QAAAA,IAAI,EAAJA,IADuB;AACjBC,QAAAA,SAAS,EAATA,SADiB;AACNI,QAAAA,MAAM,EAANA,MADM;AACEC,QAAAA,OAAO,EAAPA,OADF;AACWC,QAAAA,QAAQ,EAARA;AADX,OAAzB;AAGD,KA/BI;AAgCLG,IAAAA,YAAY,EAAE,wBAAM;AAClBhB,2BAASC,cAAT;AACD;AAlCI,GALY;AAAA,CAAnB;;eA2CelB,U","sourcesContent":["\r\nimport C from './config'\r\nimport DATA from './enumData'\r\n\r\nimport updateWs from './updateWs'\r\n\r\nconst crAppValue = ({\r\n  appSettings,\r\n  theme, setThemeId,\r\n  dispatch,\r\n  setLiveUpdating\r\n}) => ({\r\n  appSettings,\r\n  theme,\r\n  setThemeId,\r\n  dataAction: {\r\n    loading: () => dispatch({\r\n      type: DATA.LOADING\r\n    }),\r\n    loadData: ({ timeframe=C.DF_TIMEFRAME, ...rest }) => {\r\n      setLiveUpdating({ isLiveUpdating: false })\r\n      updateWs.stopLiveUpdate()\r\n      dispatch({\r\n         type: DATA.LOADED,\r\n         timeframe,\r\n         ...rest\r\n      })\r\n    },\r\n    loadFailed: () => dispatch({\r\n      type: DATA.LOAD_FAILED\r\n    })\r\n  },\r\n  onLiveUpdate: (pair) => {\r\n    const onMessage = (point, second) => dispatch({\r\n      type: DATA.UPDATE, point\r\n    })\r\n    , onOpen = () => setLiveUpdating({ isLiveUpdating: true })\r\n    , onClose = () => setLiveUpdating({ isLiveUpdating: false })\r\n    , onSecond = (sec) => setLiveUpdating({ isLiveUpdating: true, sec: sec })\r\n    updateWs.startLiveUpdate({\r\n      pair, onMessage, onOpen, onClose, onSecond\r\n    })\r\n  },\r\n  onStopUpdate: () => {\r\n    updateWs.stopLiveUpdate()\r\n  }\r\n});\r\n\r\n\r\nexport default crAppValue\r\n"],"file":"crAppValue.js"}