/*! For license information please see app_ce9c8f053dd212001645.js.LICENSE.txt */
"use strict";(self.webpackChunkTA_Chart=self.webpackChunkTA_Chart||[]).push([[143],{432:(t,e,n)=>{var r=n(745),o=n(294),i=function(t){return(t||{}).current},a=function(t,e){t&&(t.current=e)},s=function(t){var e=i(t);return e&&e.style||{}};const c=function(t){var e=(0,o.useRef)();return e.current||(e.current=t())};const u=(0,o.createContext)({});const l=(0,o.createContext)();const f=(0,o.createContext)();var d=Math.random,h=function(){return d()*(d()>.5?1:-1)},p=function(t,e){return t>e?t+.2:e+.2},v=function(t,e){return t>e?e-.2:t-.2},g={INITIAL_PROVIDER_TITLE:"Data Provider (Random)",INITIAL_ITEM_TITLE:"Item",PROXY:"http://127.0.0.1:3000/proxy",RATE_LIMIT:3e3,DF_DATA:function(){for(var t,e,n=new Date,r=[],o=0;o<100;o++)e=1+h(),t=1+h(),r.push({date:n.getTime()-864e5*o,open:e,close:t,high:p(e,t),low:v(e,t)});return r.reverse()}(),DF_TIMEFRAME:"1d"};const m=Object.freeze(g);var y=m.PROXY;const x={proxy:function(t){return t?(y=t,!0):y||""},clearProxy:function(){y=""}};var w={1:"#5f5f5f",2:"#e1e1e1",3:"#e8e0cb"},b={1:{},2:{backgroundColor:"#d4d4d4"},3:{backgroundColor:"#e8dcbe"}},k={getBgColor:function(t){return w[""+t]},getHeaderStyle:function(t){return b[""+t]},getDrawerStyle:function(t){return b[""+t]}};const C=k;function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S.apply(this,arguments)}function D(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}var A=n(893);const M=function(t){var e=t.className,n=t.style,r=t.title,o=void 0===r?"Logo of web app TA Chart v0.3.0":r;return(0,A.jsx)("span",{className:e,style:n,title:o,children:(0,A.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2",children:[(0,A.jsx)("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),(0,A.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),(0,A.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})};const T=Object.freeze({INITIAL:"INITIAL",LOADING:"LOADING",SUCCESS:"SUCCESS",FAILED:"FAILED"});var P=function(){return{}};const j=function(){return(0,o.useReducer)(P)[1]};var N=function(t,e,n){return{backgroundColor:t,width:e+"%",transition:n,opacity:1}},_=function(t,e,n){return i(t)?(a(t,!1),N(e,0)):N(e,function(t,e){return t<0?0:t>=100?(a(e,!0),100):t}(n,t),"width 500ms linear")};const E=function(t){var e=t.color,n=void 0===e?"#2f7ed8":e,r=t.completed,s=j(),c=(0,o.useRef)(!1),u=(0,o.useRef)(null);(0,o.useEffect)((function(){i(c)&&a(u,setTimeout(s,800))})),(0,o.useEffect)((function(){return function(){clearTimeout(i(u))}}),[]);var l=_(c,n,r);return(0,A.jsx)("div",{className:"progress-line",style:l})};var I="#2f7ed8",F=function(t,e){return[t,e]};const O=(0,o.memo)((function(t){var e=function(t){return t===T.LOADING?F(35,I):t===T.SUCCESS?F(100,I):t===T.FAILED?F(100,"#ed5813"):F(0,I)}(t.fetchStatus),n=e[0],r=e[1];return(0,A.jsx)(E,{color:r,completed:n})}));const L=function(t){var e=(0,o.useState)((function(){return!!t})),n=e[0],r=e[1];return[n,(0,o.useCallback)((function(t){!function(t){return"boolean"==typeof t}(t)?r((function(t){return!t})):r(t)}),[])]};var R={position:"absolute",top:0,right:16},W={transform:"translateX(334px)",pointerEvents:"none"},z={transform:"translate(0px, 0px)"},U={display:"none",opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},H={display:"block",opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"};const B=function(t){var e=t.btStyle,n=t.children,r=L(),i=r[0],a=r[1];(0,o.useEffect)((function(){document.body.style.overflowY=i?"hidden":"auto"}),[i]);var s=i?z:W,c=i?H:U,u=i?a:void 0;return[(0,A.jsx)("button",{className:"drawer-bt",style:S({},R,e),"aria-label":"Open Drawer",onClick:a,children:(0,A.jsx)("span",{className:"drawer-span",children:(0,A.jsxs)("svg",{className:"drawer-svg",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,A.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,A.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]})})},"bt-drawer"),(0,A.jsx)("div",{role:"presentation","aria-hidden":!i,className:"drawer-modal",style:c,onClick:u},"wrapper"),(0,A.jsx)("aside",{className:"drawer",style:s,children:(0,o.cloneElement)(n,{onCloseDrawer:a})},"aside")]};var X={padding:3};const Y=function(t){var e=t.style,n=t.tabIndex,r=void 0===n?-1:n,o=t.onClick;return(0,A.jsx)("button",{className:"svg-close",style:e,tabIndex:r,onClick:o,children:(0,A.jsxs)("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:X,strokeWidth:"2",stroke:"#f44336",strokeLinecap:"round",children:[(0,A.jsx)("path",{d:"M 0,0 L 12,12"}),(0,A.jsx)("path",{d:"M 12,0 L 0,12"})]})})};var V={backgroundColor:"#1b2836"},Z=function(t,e){return t===e?V:void 0};const $=function(t){var e=t.style,n=t.tabIndex,r=void 0===n?-1:n,i=t.initialValue,a=void 0===i?1:i,s=t.oneC,c=void 0===s?"One":s,u=t.twoC,l=void 0===u?"Two":u,f=t.threeC,d=void 0===f?"Three":f,h=t.onClick,p=(0,o.useState)(a),v=p[0],g=p[1],m=Z(v,1),y=Z(v,2),x=Z(v,3),w=function(t){h(t),g(t)};return(0,A.jsxs)("div",{className:"bt-triple",style:e,children:[(0,A.jsx)("button",{className:"bt-triple__one",style:m,tabIndex:r,onClick:w.bind(null,1),children:c}),(0,A.jsx)("button",{className:"bt-triple__two",style:y,tabIndex:r,onClick:w.bind(null,2),children:l}),(0,A.jsx)("button",{className:"bt-triple__three",style:x,tabIndex:r,onClick:w.bind(null,3),children:d})]})};const q=function(t){t&&(document.body.style.backgroundColor=t)};var G="drawer__title",K={TITLE:{paddingTop:12,paddingBottom:8},BT_TRIPLE:{marginRight:8},BT_CLOSE:{position:"relative",top:4}};const J=function(t){var e=t.onClose,n=t.setThemeId,r=(0,o.useContext)(u).theme;return(0,A.jsxs)("div",{className:G,style:K.TITLE,children:[(0,A.jsx)($,{style:K.BT_TRIPLE,oneC:"GREY",twoC:"LIGHT",threeC:"SAND",onClick:function(t){q(r.getBgColor(t)),n(t)}}),(0,A.jsx)(Y,{style:K.BT_CLOSE,onClick:e})]})};var Q=Date.now||function(){return new Date.getTime};const tt=function(t,e){void 0===e&&(e=800);var n=0;return function(){var r=Q();if(r-n>e)return n=r,t.apply(void 0,arguments)}};const et=function(t,e,n){return(0,o.useCallback)(tt(t,n),e||[])};const nt=function(t){var e=t.style,n=t.pages,r=t.pageCurrent,i=t.onPrevPage,a=t.onNextPage;return n.map((function(t,n){return(0,o.cloneElement)(t,{style:e,pageCurrent:r,pageNumber:n+1,onPrevPage:i,onNextPage:a})}))};var rt={position:"absolute",overflow:"hidden"},ot={display:"flex",flexFlow:"row nowrap",alignItems:"flex-start",overflowX:"hidden",transition:"all 750ms ease-out"},it=function(t){return parseInt(t.style.transform.substr(11).replace("px","").replace(")",""),10)};const at=function(t){var e=t.pageWidth,n=void 0===e?330:e,r=t.maxPages,s=void 0===r?3:r,c=t.initialPageId,u=t.pageRouter,l=(0,o.useRef)(),f=(0,o.useRef)(0),d=(0,o.useRef)({width:s*n+"px"}),h=(0,o.useRef)({width:n+"px"}),p=(0,o.useState)({pageCurrent:1,pages:[(0,o.createElement)(u[c],{key:c})]}),v=p[0],g=p[1],m=v.pageCurrent,y=v.pages,x=et((function(){g((function(t){return t.pageCurrent>1&&(t.pageCurrent-=1,a(f,-1)),S({},t)}))})),w=et((function(t){g((function(e){var n,r,i=e.pages,s=function(t,e){return t.findIndex((function(t){return t.key===e}))}(i,t);return e.pages=-1!==s?(r=s,[(n=i)[0],n.splice(r,1)[0]].concat(n.slice(1))):function(t,e){return[t[0],e].concat(t.slice(1))}(i,(0,o.createElement)(u[t],{key:t})),e.pageCurrent+=1,a(f,1),S({},e)}))})),b=function(t,e,n){var r=i(e),o=i(n),s=0;if(0!==o&&r){var c=it(r);s=1===o?c-t:c+t,a(n,0)}else 0===o&&r&&(s=it(r));return{transform:"translateX("+s+"px)"}}(n,l,f),k=S({},i(d),ot,b);return(0,A.jsx)("div",{style:rt,children:(0,A.jsx)("div",{ref:l,style:k,children:(0,A.jsx)(nt,{style:i(h),pages:y,pageCurrent:m,onPrevPage:x,onNextPage:w})})})};var st=function(){};const ct=function(t,e){void 0===t&&(t=st),void 0===e&&(e=0);var n=(0,o.useRef)(null);return(0,o.useCallback)((function(r){if(0!==e){var o=n.current,i=r.timeStamp;(null==o||i-o>e)&&(t(r),n.current=i)}else t(r)}),[e,t])};var ut=Array.isArray,lt=function(t){return ut(t)?t[0]?t[1]:"":t||""};const ft=function(t,e){var n=lt(t),r=lt(e);return n?r?n+" "+r:n:r||void 0};var dt=Array.isArray,ht=function(t){return dt(t)?t[0]?t[1]:void 0:t||void 0};const pt=function(t,e){var n=ht(t),r=ht(e);return n?r?S({},n,r):n:r||void 0};var vt={textDecoration:"underline"};const gt=function(t){var e=t.className,n=t.style,r=t.caption,o=void 0===r?"":r,i=t.accessKey,a=t.children,s=function(t,e){return t?e.toLowerCase().indexOf(t):-1}(i,o),c=-1===s?o:function(t,e){var n=e.substring(0,t),r=e.substring(t,t+1),o=e.substring(t+1);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("span",{children:n}),(0,A.jsx)("span",{style:vt,children:r}),(0,A.jsx)("span",{children:o})]})}(s,o);return(0,A.jsxs)("span",{className:e,style:n,children:[c,a]})};var mt={color:"#607d8b"},yt=(0,o.forwardRef)((function(t,e){var n=t.className,r=t.style,i=t.clDiv,a=void 0===i?"bt-flat__div":i,s=t.clCaption,c=t.isPrimary,u=t.title,l=void 0===u?"":u,f=t.caption,d=t.accessKey,h=t.timeout,p=void 0===h?500:h,v=t.onClick,g=t.children,m=(0,o.useRef)(),y=ct(v,p);(0,o.useImperativeHandle)(e,(function(){return{focus:function(){var t=m.current;t&&t.focus()}}}),[]);var x=ft("bt-flat",n),w=ft("bt-flat__span",s),b=pt(r,[c,mt]),k=function(t,e){return e?t+" ["+e+"]":t}(l,d);return(0,A.jsx)("button",{ref:m,className:x,style:b,accessKey:d,tabIndex:0,title:k,onClick:y,children:(0,A.jsxs)("div",{className:a,children:[(0,A.jsx)(gt,{className:w,caption:f,accessKey:d}),g]})})}));const xt=yt;var wt="drawer__list-bt",bt={listStyleType:"none"};const kt=function(t){var e=t.style,n=t.onNextPage;return(0,A.jsxs)("ul",{style:S({},bt,e),children:[(0,A.jsx)("li",{children:(0,A.jsx)(xt,{className:wt,caption:"App Settings",onClick:function(){return n("p1-1")}})}),(0,A.jsx)("li",{children:(0,A.jsx)(xt,{className:wt,caption:"AltCoins",onClick:function(){return n("p1-2")}})})]})};const Ct=function(t){var e=t.onClick;return(0,A.jsx)(xt,{className:"drawer__list-bt",caption:"< Menu",onClick:e})};const St=function(t){var e=t.item,n=t.propCaption;return(0,A.jsx)("span",{children:e[n]})};var Dt="zhn-select",At=Dt+"__input",Mt=Dt+"__spinner",Tt=Mt+"--failed",Pt=Dt+"__input__hr",jt=Dt+"__options",Nt=jt+"__div",_t=Dt+"__row",Et=_t+"--active",It=Dt+"__footer",Ft=It+"__index",Ot=It+"__bts",Lt=It+"--margin";const Rt=function(t,e){return t?-1!==(""+t).indexOf("%")?S({},e,{width:t}):S({},e,{width:t+"px"}):null};var Wt=["className","style","caption","onClick"];const zt=function(t){var e=t.className,n=void 0===e?"":e,r=t.style,o=t.caption,i=void 0===o?"":o,a=t.onClick,s=D(t,Wt);return(0,A.jsx)("button",S({className:"zhn-bt-circle2 "+n,style:r,onClick:a},s,{children:(0,A.jsx)("div",{children:i})}))};var Ut={backgroundColor:"#949ab4"};const Ht=(0,o.forwardRef)((function(t,e){var n=t.indexActiveOption,r=t.nFiltered,o=t.nAll,i=t.onStepDown,a=t.onStepUp,s=t.onClear;return(0,A.jsxs)("div",{className:It+" not-selected",children:[(0,A.jsxs)("span",{className:Ft,children:[(0,A.jsx)("span",{ref:e,children:n}),(0,A.jsxs)("span",{children:[": ",r,": ",o]})]}),(0,A.jsxs)("span",{className:Ot,children:[(0,A.jsx)(zt,{className:Lt,style:Ut,caption:"Dn",onClick:i}),(0,A.jsx)(zt,{className:Lt,style:Ut,caption:"Up",onClick:a}),(0,A.jsx)(zt,{style:Ut,caption:"CL",onClick:s})]})]})}));var Bt={display:"block"},Xt={display:"none"};const Yt=function(t){var e=t.refOptionsElement,n=t.refIndexElement,r=t.optionsStyle,o=t.width,i=t.isShowOption,a=t.indexActiveOption,s=t.nFiltered,c=t.nAll,u=t.onStepUp,l=t.onStepDown,f=t.onClear,d=t.children,h=Rt(o,i?Bt:Xt);return(0,A.jsxs)("div",{className:jt,style:h,"data-scrollable":!0,children:[(0,A.jsx)("div",{ref:e,className:Nt,style:S({},r,h),children:d}),(0,A.jsx)(Ht,{ref:n,indexActiveOption:a,nAll:c,nFiltered:s,onStepUp:u,onStepDown:l,onClear:f})]})};const Vt=function(t){var e=t.options,n=t.indexActiveOption,r=t.propCaption,o=t.ItemOptionComp,i=t.onClick;return e.map((function(t,e){return(0,A.jsx)("div",{role:"option","aria-selected":n===e,tabIndex:"-1",className:_t,"data-index":e,onClick:function(e){return i(t,e)},children:(0,A.jsx)(o,{item:t,propCaption:r})},e)}))};var Zt={position:"absolute",top:10,right:0,width:35,paddingRight:5,textAlign:"center",verticalAlign:"middle",cursor:"pointer"},$t={position:"relative",top:2,display:"inline-block",height:0,width:0,borderColor:"#999 transparent transparent",borderStyle:"solid",borderWidth:"10px 8px 4px"};const qt=(0,o.forwardRef)((function(t,e){var n=t.arrowStyle,r=t.onClick,i=(0,o.useRef)(),a=(0,o.useRef)();return(0,o.useImperativeHandle)(e,(function(){return{startAnimation:function(){s(i).animation="circle infinite 1.25s linear",s(a).borderColor="#1b75bb transparent transparent"},stopAnimation:function(){s(i).animation=""}}})),(0,A.jsx)("button",{type:"button",ref:i,style:Zt,tabIndex:"-1",onClick:r,children:(0,A.jsx)("span",{ref:a,style:S({},$t,n)})})}));var Gt={borderColor:"#1b75bb transparent transparent"};const Kt=function(t,e,n,r){var o=t.isLoading,i=t.isLoadingFailed,a=t.placeholder,s=t.optionName,c=void 0===s?"":s,u=t.onLoadOption,l=e.isShowOption,f=e.optionNames;return o||i?o?["Loading "+f+"...",(0,A.jsx)("span",{className:Mt,"data-loader":"circle"})]:i?["Loading "+f+" Failed",(0,A.jsx)(zt,{className:Tt,"data-loader":"circle-failed",onClick:u})]:[]:[a||"Select "+c+"...",(0,A.jsx)(qt,{ref:n,arrowStyle:l?Gt:void 0,onClick:r})]};var Jt="From input:";const Qt=function(t,e,n,r){var o=function(t,e,n){var r=e.toLowerCase();return(t||[]).filter((function(t){return-1!==t[n].toLowerCase().indexOf(r)}))}(e,t,n);return 0===o.length&&o.push(function(t,e,n){var r,o=String(t).replace(Jt,"").trim();return(r={})[e]=n?Jt+" "+o:"No results found",r.value="noresult",r.inputValue=o,r}(t,n,r)),o};const te=function(t,e){var n=(0,o.useRef)(t);return(0,o.useMemo)((function(){return[function(t){n.current=t},function(){return void 0===n.current?e:n.current}]}),[])};var ee=function(t){return"number"==typeof t&&t-t==0},ne=function(t){var e=(t.dataset||{}).index;return Number(e)};const re=function(t,e){return(0,o.useMemo)((function(){return[function(e){if(e){e.classList.add(Et);var n=ne(e),r=i(t);r&&ee(n)&&(r.textContent=n+1)}},function(t){var n=t||e();n&&n.classList.remove(Et)}]}),[])};var oe=function(t){return(t.children||{}).length};const ie=function(){var t=(0,o.useRef)(),e=(0,o.useRef)(),n=te(0),r=n[0],a=n[1],s=(0,o.useMemo)((function(){return function(){return((i(t)||{}).childNodes||[])[a()]}}),[]),c=re(e,s),u=c[0],l=c[1];return[t,e,r,a,s,u,l].concat((0,o.useMemo)((function(){return[function(){var e=s();if(e){l(e);var n=i(t);r(a()+1),a()>=oe(n)&&(r(0),n.scrollTop=0);var o=s();u(o);var c=o.offsetTop,f=n.scrollTop;c-f>70&&(n.scrollTop+=c-f-70)}},function(){var e=s();if(e){l(e);var n=i(t);if(r(a()-1),a()<0){r(oe(n)-1);var o=s();n.scrollTop=o.offsetTop}var c=s();u(c);var f=c.offsetTop,d=n.scrollTop;f-d<70&&(n.scrollTop-=70-(f-d))}}]}),[]))};var ae=[],se=function(t){var e=t.optionName,n=t.optionNames,r=t.options,o=void 0===r?ae:r;return{value:"",initialOptions:o,options:o,optionNames:n||e||""}},ce=function(){};const ue=function(t){var e=t.style,n=t.width,r=t.optionsStyle,i=t.propCaption,a=void 0===i?"caption":i,s=t.ItemOptionComp,c=void 0===s?St:s,u=t.isWithInput,l=void 0!==u&&u,f=t.onSelect,d=void 0===f?ce:f,h=(0,o.useRef)(),p=(0,o.useRef)(),v=(0,o.useState)((function(){return se(t)})),g=v[0],m=v[1],y=g.value,x=g.options,w=g.initialOptions,b=L(!1),k=b[0],C=b[1],D=ie(_,E),M=D[0],T=D[1],P=D[2],j=D[3],N=D[4],_=D[5],E=D[6],I=D[7],F=D[8],O=(0,o.useCallback)((function(){E(),m((function(){return se(t)})),C(!1),P(0),d()}),[t.options,d]),R=(0,o.useCallback)((function(t,e){E(),P(ne(e.currentTarget)),C(!1),m((function(e){return S({},e,{value:t[a]})})),d(t)}),[]),W=(0,o.useMemo)((function(){return(0,A.jsx)(Vt,{options:x,indexActiveOption:j(),propCaption:a,ItemOptionComp:c,onClick:R})}),[x]);(0,o.useEffect)((function(){if(k){var t=N();_(t),function(t){if(t){var e=t.offsetTop,n=t.parentElement,r=n.scrollTop;e-r>70&&(n.scrollTop+=e-r-70),e-r<0&&(n.scrollTop=0)}}(t)}}),[k]),(0,o.useEffect)((function(){t.options!==w&&O()}),[t.options]);var z=j(),U=Rt(n,e),H=Kt(t,g,h,C),B=H[0],X=H[1],Y=function(t,e){return[t[0]&&"noresult"!==t[0].value?t.length:0,e?e.length:0]}(x,w),V=Y[0],Z=Y[1];return(0,A.jsxs)("div",{className:Dt,style:U,children:[(0,A.jsx)("input",{ref:p,className:At,type:"text",name:"select",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,value:y,placeholder:B,onChange:function(t){var e=t.target.value,n=e.length,r=y.length;n!==r&&(0!==j()&&(E(),P(0)),m((function(t){return S({},t,{value:e,options:Qt(e,n>r?x:w,a,l)})})),C(!0))},onKeyDown:function(t){switch(t.keyCode){case 13:var e=j();if(ee(e)){var n=x[e];n&&n[a]&&(d(function(t,e,n){var r;return"noresult"!==t.value?t:n?((r={})[e]="From Input",r.value=t.inputValue,r):void 0}(n,a,l)),C(!1),m((function(t){return S({},t,{value:n[a]})})))}else d();break;case 27:case 46:t.preventDefault(),k?C(!1):O();break;case 40:k?(t.preventDefault(),I()):C(!0);break;case 38:k&&(t.preventDefault(),F());break;default:return}}}),X,(0,A.jsx)("hr",{className:Pt}),(0,A.jsx)(Yt,{refOptionsElement:M,refIndexElement:T,optionsStyle:r,width:n,isShowOption:k,indexActiveOption:z,nFiltered:V,nAll:Z,onStepUp:F,onStepDown:I,onClear:O,children:W})]})};var le={display:"flex",alignItems:"center",marginRight:5,marginTop:5,marginLeft:5,marginBottom:5},fe={marginLeft:12,marginRight:12},de={color:"#1b75bb",display:"inline-block",textAlign:"right",width:100,paddingRight:5,fontSize:"16px",fontWeight:"bold",userSelect:"none"},he={display:"none"},pe=["isShowLabels","caption","captionStyle"];const ve=function(t){var e=t.isShowLabels,n=void 0===e||e,r=t.caption,o=void 0===r?"":r,i=t.captionStyle,a=D(t,pe),s=function(t){return t&&-1===t.indexOf(":")?t+":":t}(o),c=function(t){return void 0===t&&(t=!0),t?[S({},le),S({},de)]:[S({},le,fe),S({},de,he)]}(n),u=c[0],l=c[1],f=S({width:270},a,{optionName:n?"":o.replace(":","")});return(0,A.jsxs)("div",{style:u,children:[(0,A.jsx)("span",{style:S({},l,i),children:s}),(0,A.jsx)(ue,S({},f))]})};const ge=function(t){var e=t.style,n=t.exchanges,r=t.onSelectExchange,o=t.isMarkets,i=void 0===o?{}:o,a=t.markets,s=t.onSelectMarket,c=t.timeframes,u=t.onSelectTimeframe;return(0,A.jsxs)("div",{style:e,children:[(0,A.jsx)(ve,{isShowLabels:!1,placeholder:"Exchanges",options:n,onSelect:r}),(0,A.jsx)(ve,{isShowLabels:!1,placeholder:"Time Frames (Default: 1d)",options:c,onSelect:u}),(0,A.jsx)(ve,{isShowLabels:!1,placeholder:"Markets",isLoading:i.loading,isLoadingFailed:i.failed,options:a,onSelect:s})]})};var me="MARKET_LOADING",ye="MARKET_LOADED",xe="MARKET_LOADING_FAIL",we="EXCHANGES_SET",be="EXCHANGE_SET",ke="PAIR_SET";const Ce=function(t,e){switch(e.type){case me:return S({},t,{isMarkets:{loading:!0,failed:!1}});case ye:return S({},t,{exchange:e.exchange,markets:e.markets,isMarkets:{loading:!1,failed:!1}});case xe:return S({},t,{isMarkets:{loading:!1,failed:!0}});case we:return S({},t,{exchanges:e.exchanges});case be:return S({},t,{exchange:e.exchange,pair:void 0});case ke:return S({},t,{pair:e.pair});default:throw new TypeError("Not existed action "+e.type)}};const Se={exchange:"",pair:"",isMarkets:{loading:!1,failed:!1},exchanges:[],markets:[]};const De=function(t){var e=t.dispatch,n=t.exchImpl,r=t.exchange,o=t.proxy;e({type:me}),n.fetchMarkets(o).then((function(t){e({type:ye,exchange:r,markets:t})})).catch((function(t){e({type:xe}),console.log(t.message)}))};const Ae=function(t){var e=t.exchImpl,n=t.exchange,r=t.pair,o=t.timeframe,i=t.dataAction,a=t.proxy;i.loading();var s="object"==typeof o?o:{v:o,tf:o},c=s.v,u=s.tf;e.fetchOHLCV(r,c,a).then((function(t){0!==t.length&&i.loadData({providerTitle:n,itemTitle:r,data:t,timeframe:u})})).catch((function(t){i.loadFailed(),console.log(t.message)}))};const Me=function(t){return fetch(t).then((function(t){var e=t.status;if(e>=200&&e<400)return t.json();throw new Error("Response is incorrect: "+e)}))};var Te=Array.isArray,Pe=function(t,e){var n=e?(t||{})[e]:t;return Te(n)?n:[]},je=function(t,e){return t.caption<e.caption?-1:t.caption>e.caption?1:0},Ne=function(t){return"object"==typeof t},_e="https://api.binance.com/api/v3",Ee=_e+"/exchangeInfo",Ie=_e+"/klines",Fe={fetchMarkets:function(){return Me(Ee).then((function(t){return Pe(t,"symbols").reduce((function(t,e){var n=e||{},r=n.baseAsset,o=n.quoteAsset;return"TRADING"===n.status&&t.push({caption:r+"/"+o,value:""+r+o}),t}),[]).sort(je)}))},getTimeframes:function(){return[{caption:"1m",value:"1m"},{caption:"3m",value:"3m"},{caption:"5m",value:"5m"},{caption:"15m",value:"15m"},{caption:"30m",value:"30m"},{caption:"1h",value:"1h"},{caption:"2h",value:"2h"},{caption:"4h",value:"4h"},{caption:"8h",value:"8h"},{caption:"12h",value:"12h"},{caption:"1d",value:"1d"},{caption:"3d",value:"3d"},{caption:"1w",value:"1w"},{caption:"1M",value:"1M"}]},fetchOHLCV:function(t,e){return Me(function(t,e){return Ie+"?symbol="+t+"&interval="+e}(t,e)).then((function(t){return Pe(t).reduce((function(t,e){return Ne(e)&&t.push({date:e[0],open:parseFloat(e[1]),high:parseFloat(e[2]),low:parseFloat(e[3]),close:parseFloat(e[4]),volume:parseFloat(e[5])}),t}),[])}))}};var Oe="https://www.bitstamp.net/api/v2",Le=Oe+"/trading-pairs-info/",Re=Oe+"/ohlc";const We={binance:Fe,bitstamp:{isRequireProxy:!0,fetchMarkets:function(t){return Me(t+"/"+Le).then((function(t){return Pe(t).reduce((function(t,e){var n=e||{},r=n.trading,o=n.name,i=n.url_symbol;if("Enabled"===r)return t.push({caption:o,value:i}),t}),[])}))},getTimeframes:function(){return[{caption:"1m",value:{v:"60",tf:"1m"}},{caption:"3m",value:{v:"180",tf:"3m"}},{caption:"5m",value:{v:"300",tf:"5m"}},{caption:"15m",value:{v:"900",tf:"15m"}},{caption:"30m",value:{v:"1800",tf:"30m"}},{caption:"1h",value:{v:"3600",tf:"1h"}},{caption:"2h",value:{v:"7200",tf:"2h"}},{caption:"4h",value:{v:"14400",tf:"4h"}},{caption:"10h",value:{v:"21600",tf:"10h"}},{caption:"12h",value:{v:"43200",tf:"12h"}},{caption:"1d",value:{v:"86400",tf:"1d"}},{caption:"3d",value:{v:"259200",tf:"3d"}}]},fetchOHLCV:function(t,e,n){return Me(function(t,e,n){return n+"/"+Re+"/"+t+"?step="+e+"&limit=300"}(t,e,n)).then((function(t){return Pe((t||{}).data,"ohlc").reduce((function(t,e){return Ne(e)&&t.push({date:1e3*parseFloat(e.timestamp),open:parseFloat(e.open),high:parseFloat(e.high),low:parseFloat(e.low),close:parseFloat(e.close),volume:parseFloat(e.volume)}),t}),[])}))}}};var ze=[{caption:"Binance",value:"binance"},{caption:"Bitstamp",value:"bitstamp"}],Ue="1d",He={height:400},Be={paddingLeft:8},Xe=function(t,e){return"binance"===t&&"1m"===e},Ye=function(t,e){return t.isRequireProxy&&!e};const Ve=function(t){var e=t.style,n=t.onPrevPage,r=(0,o.useContext)(u),i=r.appSettings,a=r.dataAction,s=r.onLiveUpdate,c=r.onStopUpdate,l=(0,o.useContext)(f).isLiveUpdating,d=(0,o.useReducer)(Ce,Se),h=d[0],p=d[1],v=h.exchange,g=h.pair,m=h.isMarkets,y=h.exchanges,x=h.markets,w=(0,o.useState)([]),b=w[0],k=w[1],C=(0,o.useState)(Ue),D=C[0],M=C[1],T=(0,o.useRef)(null);(0,o.useEffect)((function(){p({type:we,exchanges:ze})}),[]),(0,o.useEffect)((function(){if(v){T.current=function(t){return We[t]}(v);var t=T.current,e=i.proxy();if(Ye(t,e))return;M(Ue),k(t.getTimeframes()),De({dispatch:p,exchange:v,exchImpl:t,proxy:e})}}),[v]),(0,o.useEffect)((function(){if(g&&D){var t=T.current,e=i.proxy();if(Ye(t,e))return;Ae({exchange:v,pair:g,timeframe:D,exchImpl:t,dataAction:a,proxy:e})}}),[g,D]);return(0,A.jsxs)("div",{style:S({},He,e),children:[(0,A.jsx)(Ct,{onClick:n}),(0,A.jsx)(ge,{exchanges:y,onSelectExchange:function(t){t&&t.value&&p({type:be,exchange:t.value})},isMarkets:m,markets:x,onSelectMarket:function(t){p({type:ke,pair:t&&t.value||void 0})},timeframes:b,onSelectTimeframe:function(t){M(t&&t.value||Ue)}}),Xe(v,D)&&(0,A.jsx)("div",{style:Be,children:(0,A.jsx)(xt,{caption:l?"Stop Updating":"Live Updating 1min",onClick:l?c:function(){return s(g)}})})]})};var Ze={display:"inline",color:"green",height:26,width:40,paddingLeft:5,margin:"0 5px",fontSize:"16px",fontWeight:"bold",border:"medium none",outline:"medium none",background:"transparent none repeat scroll 0 0",backgroundColor:"#e1e1cb"},$e="text",qe="off",Ge=function(){},Ke=(0,o.forwardRef)((function(t,e){var n=t.initValue,r=t.style,i=t.spellCheck,a=t.placeholder,s=t.type,c=void 0===s?$e:s,u=t.maxLenght,l=void 0===u?125:u,f=t.onEnter,d=void 0===f?Ge:f,h=(0,o.useRef)(),p=(0,o.useState)((function(){return null!=n?n:""})),v=p[0],g=p[1],m=(0,o.useCallback)((function(t){var e=t.target.value;e.length<=l&&g(e)}),[l]),y=(0,o.useCallback)((function(t){switch(t.keyCode){case 27:case 46:t.preventDefault(),g("");break;case 13:d(t.target.value);break;default:return}}),[]);(0,o.useImperativeHandle)(e,(function(){return{getValue:function(){return(h.current||{}).value},setValue:function(t){return g(t)}}}),[]);var x=i?"on":qe,w=!!i;return(0,A.jsx)("input",{ref:h,style:S({},Ze,r),type:c,name:$e,autoCapitalize:qe,autoComplete:qe,autoCorrect:x,spellCheck:w,translate:"false",value:v,placeholder:a,maxLength:l,onChange:m,onKeyDown:y})}));const Je=Ke;var Qe={paddingLeft:4},tn={color:"#265782",display:"inline-block",padding:"0 0 4px 8px",fontWeight:"bold"},en={display:"block",width:"92%",height:32,padding:"8px 0 8px 4px"},nn={float:"right",padding:"6px 22px 0 0"},rn="http://127.0.0.1",on=function(t){return!!function(t){return"string"==typeof t}(t)&&-1!==t.indexOf(rn)};const an=function(t){var e=t.style,n=t.onPrevPage,r=(0,o.useContext)(u).appSettings,a=(0,o.useRef)(),s=(0,o.useState)(0),c=s[0],l=s[1],f=r.proxy();return(0,A.jsxs)("div",{style:S({},Qe,e),children:[(0,A.jsx)(Ct,{onClick:n}),(0,A.jsxs)("div",{children:[(0,A.jsx)("span",{style:tn,children:"Local Proxy Server"}),(0,A.jsx)(Je,{ref:a,style:en,initValue:f,placeholder:rn,onEnter:function(t){on(t)?r.proxy(t):i(a).setValue("")}},c),(0,A.jsxs)("div",{style:nn,children:[(0,A.jsx)(xt,{caption:"Clear",onClick:function(){r.clearProxy(),l((function(t){return t+1}))}}),(0,A.jsx)(xt,{caption:"Apply",onClick:function(){var t=i(a),e=t.getValue();on(e)?r.proxy(e):t.setValue("")}})]})]})]})};const sn={p1:kt,"p1-1":an,"p1-2":Ve};var cn="drawer__list";const un=function(t){var e=t.onCloseDrawer,n=(0,o.useContext)(u),r=n.theme,i=n.setThemeId,a=(0,o.useContext)(l),s=r.getDrawerStyle(a);return(0,A.jsxs)("div",{className:cn,style:s,children:[(0,A.jsx)(J,{setThemeId:i,onClose:e}),(0,A.jsx)(at,{pageRouter:sn,initialPageId:"p1",maxPages:4})]})};const ln=function(t){return(0,A.jsx)(B,{children:(0,A.jsx)(un,S({},t))})};var fn={position:"relative",top:6,left:8,display:"inline-block",verticalAlign:"middle",cursor:"pointer"},dn={color:"#80c040",display:"inline-block",paddingLeft:6,fontSize:16,fontWeight:"bold"};const hn=function(t){var e=t.spinnerCn,n=t.onStopUpdate,r=(0,o.useContext)(f),i=r.isLiveUpdating,a=r.sec;return i&&(0,A.jsxs)("button",{style:fn,onClick:n,children:[(0,A.jsx)("span",{className:e,"data-loader":"circle"}),(0,A.jsx)("span",{style:dn,children:a})]})};var pn="header",vn=pn+"__logo-notes",gn=pn+"__title-gap",mn=pn+"__title",yn=pn+"__spinner",xn=["fetchStatus","providerTitle","itemTitle","timeframe","isLiveUpdating"],wn=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},bn=function(t){var e=t.text,n=t.is;return(0,A.jsxs)("span",{className:mn,children:[wn(e),!n&&(0,A.jsx)("span",{children:":Â "})]})};const kn=function(t){var e=t.fetchStatus,n=t.providerTitle,r=void 0===n?"":n,i=t.itemTitle,a=void 0===i?"":i,s=t.timeframe,c=void 0===s?"":s,f=(t.isLiveUpdating,D(t,xn)),d=(0,o.useContext)(u),h=d.theme,p=d.onStopUpdate,v=(0,o.useContext)(l),g=h.getHeaderStyle(v);return(0,A.jsxs)("header",{className:pn,style:g,children:[(0,A.jsx)(O,{fetchStatus:e}),(0,A.jsx)(M,{className:vn}),(0,A.jsx)("span",{className:gn}),(0,A.jsx)(bn,{text:r}),(0,A.jsx)(bn,{text:a}),(0,A.jsx)(bn,{text:c,is:!0}),(0,A.jsx)(hn,{spinnerCn:yn,onStopUpdate:p}),(0,A.jsx)(ln,S({},f))]})};function Cn(t,e){return Cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cn(t,e)}function Sn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Cn(t,e)}var Dn=n(356);class An extends Map{constructor(t,e=Nn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(Tn(this,t))}has(t){return super.has(Tn(this,t))}set(t,e){return super.set(Pn(this,t),e)}delete(t){return super.delete(jn(this,t))}}class Mn extends Set{constructor(t,e=Nn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(Tn(this,t))}add(t){return super.add(Pn(this,t))}delete(t){return super.delete(jn(this,t))}}function Tn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Pn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function jn({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Nn(t){return null!==t&&"object"==typeof t?t.valueOf():t}function _n(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const En=Symbol("implicit");var In=function(t,e,n){var r=e[n];if("function"!=typeof r)throw new Error("Attempt to rebind "+n+" which isn't a function on the source object");return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var a=r.apply(e,o);return a===e?t:a}},Fn=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];for(var i=0,a=r;i<a.length;i++){var s=a[i];t[s]=In(t,e,s)}return t};const On=function(t){return t};function Ln(){var t=On,e=function(t){return t.length};function n(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r.length;if(!i)return[];for(var a=(0,Dn.VV)(r,e),s=new Array(a),c=-1;++c<a;){for(var u=-1,l=s[c]=new Array(i);++u<i;)l[u]=r[u][c];s[c]=t.apply(this,s[c])}return s}return n.combine=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n}function Rn(){var t=On,e=!0,n=function(){};function r(r){var o=Ln().combine((function(t,r){var o=e&&void 0===r?t:n(t,r);return void 0===o?t:o}));return o(r,t(r))}return r.algorithm=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.merge=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r.skipUndefined=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r}var Wn=Array.isArray,zn=function(t){void 0===t&&(t=[]);var e=Wn(t)?t:[t],n=e.length;return function(t,r){if(0===n)return null!=t?t:r;for(var o=0;null!=t&&o<n;)t=t[e[o++]];return o===n?t:r}},Un=function(t){return"function"==typeof t?t:function(){return t}};function Hn(){var t,e,n,r=void 0,o=10,i=function(){},a=0,s=function(s){var c=e||zn(t),u=Un(o).apply(this,arguments),l=s.slice(a,u+a).map(c),f=0,d=Un(r);return s.map((function(t,e){return e<a+u-1?d(c(t),e,n):(e>=a+u&&(l.shift(),l.push(c(t,e))),i(l,e,f++,n))}))};return s.undefinedValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],s):r},s.windowSize=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],s):o},s.misc=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],s):n},s.accumulator=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],s):i},s.skipInitial=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],s):a},s.sourcePath=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.source=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s}var Bn=function(t){switch(t){default:case"Solid":return"none";case"ShortDash":return"6, 2";case"ShortDash2":return"6, 3";case"ShortDot":return"2, 2";case"ShortDashDot":return"6, 2, 2, 2";case"ShortDashDotDot":return"6, 2, 2, 2, 2, 2";case"Dot":return"2, 6";case"Dash":return"4, 6";case"LongDash":return"16, 6";case"DashDot":return"8, 6, 2, 6";case"LongDashDot":return"16, 6, 2, 6";case"LongDashDotDot":return"16, 6, 2, 6, 2, 6"}},Xn=function(t){var e=Bn(t).split(",");return 1===e.length?[]:e.map((function(t){return Number(t)}))},Yn=function(t){return"translate("+t[0]+", "+t[1]+")"},Vn=function t(){var e=new An,n=[],r=[],o=En;function i(t){let i=e.get(t);if(void 0===i){if(o!==En)return o;e.set(t,i=n.push(t)-1)}return r[i%r.length]}return i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=new An;for(const r of t)e.has(r)||e.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(r=Array.from(t),i):r.slice()},i.unknown=function(t){return arguments.length?(o=t,i):o},i.copy=function(){return t(n,r).unknown(o)},_n.apply(i,arguments),i}(["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"]),Zn=function(t){return null!=t},$n=function(t){return!Zn(t)};var qn=function(t,e){var n=t.replace("#","");if(t.indexOf("#")>-1&&(3===n.length||6===n.length)){var r=3===n.length?1:2;return"rgba("+parseInt(n.substring(0,1*r),16)+", "+parseInt(n.substring(1*r,2*r),16)+", "+parseInt(n.substring(2*r,3*r),16)+", "+e+")"}return t},Gn=function(t,e){if(!e||!t){var n=t?t.length:0;return n?t[n-1]:void 0}for(var r,o=t.length-1;o>=0;o--)if(r=t[o],Zn(e(r)))return r},Kn=function(t,e){if(!e||!t)return t?t[0]:void 0;for(var n,r=0;r<t.length;r++)if(n=t[r],Zn(e(n)))return n},Jn=Kn,Qn=function(t,e){var n,r=t.widthRatio,o=e.xScale,i=o.range(),a=i[0],s=i[1],c=Math.abs(s-a);if(null!=o.invert){var u=o.domain(),l=u[0],f=u[1];n=c/Math.abs(l-f)}else n=c/o.domain().length;return n*r},tr=function(t,e,n){for(var r=0,o=t.length-1;o-r>1;){var i=Math.round((r+o)/2);n(t[i])<=e?r=i:o=i}var a=n(t[r]),s=n(t[o]);return(null==a?void 0:a.valueOf())===(null==e?void 0:e.valueOf())&&(o=r),(null==s?void 0:s.valueOf())===(null==e?void 0:e.valueOf())&&(r=o),a<e&&s<e&&(r=o),a>e&&s>e&&(o=r),{left:r,right:o}},er=function(t,e){if(t===e)return!0;if(!(t instanceof Object&&e instanceof Object))return!1;for(var n=Object.keys(t),r=n.length,o=0;o<r;o++)if(!(n[o]in e))return!1;for(var i=0;i<r;i++)if(t[n[i]]!==e[n[i]])return!1;return r===Object.keys(e).length},nr=(o.Component,Array.isArray),rr=function(t){return(t>0)-(t<0)},or=function(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)},ir="mouseenter.interaction",ar="mouseleave.interaction",sr="mousemove.pan",cr="mouseup.pan",ur="touchmove.pan",lr="touchend.pan touchcancel.pan",fr=function(t){return{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY}},dr=function(t,e,n){return[Math.round(t.clientX-e.left-n.clientLeft),Math.round(t.clientY-e.top-n.clientTop)]},hr=function(t,e){var n=e.currentTarget,r=n.getBoundingClientRect();return dr(t,r,n)},pr=function(t,e){var n=t.currentTarget,r=null!=e?e:n.getBoundingClientRect();return dr(t,r,n)},vr=function(t,e){t.forEach((function(t){t.setTransform(1,0,0,1,0,0),t.clearRect(-1,-1,t.canvas.width+2,t.canvas.height+2),t.scale(e,e)}))},gr=n(779),mr=n.n(gr),yr=Math.sqrt(50),xr=Math.sqrt(10),wr=Math.sqrt(2);function br(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=yr?10:i>=xr?5:i>=wr?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=yr?10:i>=xr?5:i>=wr?2:1)}function kr(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=yr?o*=10:i>=xr?o*=5:i>=wr&&(o*=2),e<t?-o:o}function Cr(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sr(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Dr(t){let e,n,r;function o(t,r,o=0,i=t.length){if(o<i){if(0!==e(r,r))return i;do{const e=o+i>>>1;n(t[e],r)<0?o=e+1:i=e}while(o<i)}return o}return 2!==t.length?(e=Cr,n=(e,n)=>Cr(t(e),n),r=(e,n)=>t(e)-n):(e=t===Cr||t===Sr?t:Ar,n=t,r=t),{left:o,center:function(t,e,n=0,i=t.length){const a=o(t,e,n,i-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,o=0,i=t.length){if(o<i){if(0!==e(r,r))return i;do{const e=o+i>>>1;n(t[e],r)<=0?o=e+1:i=e}while(o<i)}return o}}}function Ar(){return 0}const Mr=Dr(Cr),Tr=Mr.right,Pr=(Mr.left,Dr((function(t){return null===t?NaN:+t})).center,Tr);function jr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Nr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _r(){}var Er=.7,Ir=1/Er,Fr="\\s*([+-]?\\d+)\\s*",Or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rr=/^#([0-9a-f]{3,8})$/,Wr=new RegExp(`^rgb\\(${Fr},${Fr},${Fr}\\)$`),zr=new RegExp(`^rgb\\(${Lr},${Lr},${Lr}\\)$`),Ur=new RegExp(`^rgba\\(${Fr},${Fr},${Fr},${Or}\\)$`),Hr=new RegExp(`^rgba\\(${Lr},${Lr},${Lr},${Or}\\)$`),Br=new RegExp(`^hsl\\(${Or},${Lr},${Lr}\\)$`),Xr=new RegExp(`^hsla\\(${Or},${Lr},${Lr},${Or}\\)$`),Yr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Vr(){return this.rgb().formatHex()}function Zr(){return this.rgb().formatRgb()}function $r(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Rr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?qr(e):3===n?new Jr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Gr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Gr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Wr.exec(t))?new Jr(e[1],e[2],e[3],1):(e=zr.exec(t))?new Jr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ur.exec(t))?Gr(e[1],e[2],e[3],e[4]):(e=Hr.exec(t))?Gr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Br.exec(t))?oo(e[1],e[2]/100,e[3]/100,1):(e=Xr.exec(t))?oo(e[1],e[2]/100,e[3]/100,e[4]):Yr.hasOwnProperty(t)?qr(Yr[t]):"transparent"===t?new Jr(NaN,NaN,NaN,0):null}function qr(t){return new Jr(t>>16&255,t>>8&255,255&t,1)}function Gr(t,e,n,r){return r<=0&&(t=e=n=NaN),new Jr(t,e,n,r)}function Kr(t,e,n,r){return 1===arguments.length?((o=t)instanceof _r||(o=$r(o)),o?new Jr((o=o.rgb()).r,o.g,o.b,o.opacity):new Jr):new Jr(t,e,n,null==r?1:r);var o}function Jr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Qr(){return`#${ro(this.r)}${ro(this.g)}${ro(this.b)}`}function to(){const t=eo(this.opacity);return`${1===t?"rgb(":"rgba("}${no(this.r)}, ${no(this.g)}, ${no(this.b)}${1===t?")":`, ${t})`}`}function eo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function no(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ro(t){return((t=no(t))<16?"0":"")+t.toString(16)}function oo(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ao(t,e,n,r)}function io(t){if(t instanceof ao)return new ao(t.h,t.s,t.l,t.opacity);if(t instanceof _r||(t=$r(t)),!t)return new ao;if(t instanceof ao)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,c=(i+o)/2;return s?(a=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=c<.5?i+o:2-i-o,a*=60):s=c>0&&c<1?0:a,new ao(a,s,c,t.opacity)}function ao(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function so(t){return(t=(t||0)%360)<0?t+360:t}function co(t){return Math.max(0,Math.min(1,t||0))}function uo(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function lo(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}jr(_r,$r,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Vr,formatHex:Vr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return io(this).formatHsl()},formatRgb:Zr,toString:Zr}),jr(Jr,Kr,Nr(_r,{brighter(t){return t=null==t?Ir:Math.pow(Ir,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Er:Math.pow(Er,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Jr(no(this.r),no(this.g),no(this.b),eo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qr,formatHex:Qr,formatHex8:function(){return`#${ro(this.r)}${ro(this.g)}${ro(this.b)}${ro(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:to,toString:to})),jr(ao,(function(t,e,n,r){return 1===arguments.length?io(t):new ao(t,e,n,null==r?1:r)}),Nr(_r,{brighter(t){return t=null==t?Ir:Math.pow(Ir,t),new ao(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Er:Math.pow(Er,t),new ao(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Jr(uo(t>=240?t-240:t+120,o,r),uo(t,o,r),uo(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new ao(so(this.h),co(this.s),co(this.l),eo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=eo(this.opacity);return`${1===t?"hsl(":"hsla("}${so(this.h)}, ${100*co(this.s)}%, ${100*co(this.l)}%${1===t?")":`, ${t})`}`}}));const fo=t=>()=>t;function ho(t,e){return function(n){return t+n*e}}function po(t){return 1==(t=+t)?vo:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):fo(isNaN(e)?n:e)}}function vo(t,e){var n=e-t;return n?ho(t,n):fo(isNaN(t)?e:t)}const go=function t(e){var n=po(e);function r(t,e){var r=n((t=Kr(t)).r,(e=Kr(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=vo(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function mo(t){return function(e){var n,r,o=e.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Kr(e[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=t(i),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=s(t),r+""}}}mo((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,s=r<e-1?t[r+2]:2*i-o;return lo((n-r/e)*e,a,o,i,s)}})),mo((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return lo((n-r/e)*e,o,i,a,s)}}));function yo(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=Ao(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function xo(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function wo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function bo(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ao(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var ko=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Co=new RegExp(ko.source,"g");function So(t,e){var n,r,o,i=ko.lastIndex=Co.lastIndex=0,a=-1,s=[],c=[];for(t+="",e+="";(n=ko.exec(t))&&(r=Co.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:wo(n,r)})),i=Co.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}function Do(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function Ao(t,e){var n,r,o=typeof e;return null==e||"boolean"===o?fo(e):("number"===o?wo:"string"===o?(n=$r(e))?(e=n,go):So:e instanceof $r?go:e instanceof Date?xo:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?yo:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?bo:wo:Do))(t,e)}function Mo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function To(t){return+t}var Po=[0,1];function jo(t){return t}function No(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function _o(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=No(o,r),i=n(a,i)):(r=No(r,o),i=n(i,a)),function(t){return i(r(t))}}function Eo(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=No(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(e){var n=Pr(t,e,1,r)-1;return i[n](o[n](e))}}function Io(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fo(){var t,e,n,r,o,i,a=Po,s=Po,c=Ao,u=jo;function l(){var t,e,n,c=Math.min(a.length,s.length);return u!==jo&&(t=a[0],e=a[c-1],t>e&&(n=t,t=e,e=n),u=function(n){return Math.max(t,Math.min(e,n))}),r=c>2?Eo:_o,o=i=null,f}function f(e){return null==e||isNaN(e=+e)?n:(o||(o=r(a.map(t),s,c)))(t(u(e)))}return f.invert=function(n){return u(e((i||(i=r(s,a.map(t),wo)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,To),l()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),c=Mo,l()},f.clamp=function(t){return arguments.length?(u=!!t||jo,l()):u!==jo},f.interpolate=function(t){return arguments.length?(c=t,l()):c},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function Oo(){return Fo()(jo,jo)}var Lo=n(196),Ro=n(85);var Wo=n(602);function zo(t,e,n,r){var o,i=kr(t,e,n);switch((r=(0,Lo.Z)(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,Ro.Z)(e)/3)))-(0,Ro.Z)(Math.abs(t)))}(i,a))||(r.precision=o),(0,Wo.jH)(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,(0,Ro.Z)(e)-(0,Ro.Z)(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-(0,Ro.Z)(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return(0,Wo.WU)(r)}function Uo(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,o,i,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=br(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)/a}return r&&i.reverse(),i}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return zo(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),a=0,s=i.length-1,c=i[a],u=i[s],l=10;for(u<c&&(o=c,c=u,u=o,o=a,a=s,s=o);l-- >0;){if((o=br(c,u,n))===r)return i[a]=c,i[s]=u,e(i);if(o>0)c=Math.floor(c/o)*o,u=Math.ceil(u/o)*o;else{if(!(o<0))break;c=Math.ceil(c*o)/o,u=Math.floor(u*o)/o}r=o}return t},t}var Ho=function(t){return"chart_"+t},Bo=function(t,e){return(t||[]).find((function(t){return t.id===e}))},Xo=(0,o.createContext)(S({},ks,{chartConfig:{},chartId:0})),Yo=(0,o.memo)((function(t){var e=t.id,n=void 0===e?0:e,r=t.onContextMenu,i=t.onDoubleClick,a=t.children,s=(0,o.useContext)(Cs),c=s.subscribe,u=s.unsubscribe,l=s.chartConfigs,f=(0,o.useCallback)((function(t,e,o,a){switch(t){case"contextmenu":if(void 0===r)return;e.currentCharts.indexOf(n)>-1&&r(a,e);break;case"dblclick":if(void 0===i)return;e.currentCharts.indexOf(n)>-1&&i(a,e);break;default:return}}),[r,i,n]),d=Bo(l,n),h=(0,o.useMemo)((function(){return S({},s,{chartId:n,chartConfig:d})}),[s,n,d]),p=Yn(d.origin);return(0,o.useEffect)((function(){return c(Ho(n),{listener:f}),function(){u(Ho(n))}}),[]),(0,A.jsx)(Xo.Provider,{value:h,children:(0,A.jsx)("g",{transform:p,children:a})})})),Vo={id:0,flipYScale:!1,origin:[0,0],padding:0,yPan:!0,yPanEnabled:!1,yScale:function t(){var e=Oo();return e.copy=function(){return Io(e,t())},_n.apply(e,arguments),Uo(e)}()},Zo=Array.isArray,$o=function(t){return function(e){var n=t(e);return function(t){return Zn(t)&&"object"==typeof t&&!nr(t)}(n)?function(t,e){void 0===t&&(t={}),void 0===e&&(e=function(t){return t});var n=Object.keys(t),r=new Array(n.length);return n.forEach((function(n,o){r[o]=e(t[n],n,t)})),r}(n):n}},qo=function(t){if(Zo(t)&&2===t.length){var e=t[0],n=t[1];return"number"==typeof e&&"number"==typeof n}return!1},Go=function(t,e,n){return void 0===n&&(n=[]),o.Children.map(e,(function(e){if(null!=e&&(void 0!==(C=e.props)&&void 0!==C.id)){var r=S({},Vo,e.props),o=r.id,i=r.origin,a=r.padding,s=r.yExtents,c=r.yScale,u=void 0===c?Vo.yScale:c,l=r.flipYScale,f=r.yExtentsCalculator,d=u.copy(),h=function(t,e){var n=t.width,r=t.height;return{availableHeight:r,width:n,height:e.height||r}}(t,r),p=h.width,v=h.height,g=h.availableHeight,m=r.yPan,y=Zn(s)?(Zo(s)?s:[s]).map(Un):void 0,x=n.find((function(t){return t.id===o})),w=r.yPanEnabled;if(qo(s))if(Zn(x)&&x.yPan&&x.yPanEnabled&&m&&w&&er(x.originalYExtentsProp,s))d.domain(x.yScale.domain());else{var b=s[0],k=s[1];d.domain([b,k])}else Zn(x)&&x.yPanEnabled&&(qo(x.originalYExtentsProp)||(d.domain(x.yScale.domain()),w=!0));return{id:o,origin:Un(i)(p,g),padding:a,originalYExtentsProp:s,yExtents:y,yExtentsCalculator:f,flipYScale:l,yScale:d,yPan:m,yPanEnabled:w,width:p,height:v}}var C})).filter((function(t){return void 0!==t}))},Ko=function(t,e){return t.filter((function(t){var n=t.origin[1],r=n+t.height;return e[1]>n&&e[1]<r})).map((function(t){return t.id}))},Jo=function(t,e,n,r,o){var i=e.plotData,a=e.xAccessor,s=e.displayXAccessor,c=e.fullData,u=t.map((function(t){var e=t.yExtentsCalculator,o=t.yExtents,u=t.yScale,l=Zn(e)?e({plotData:i,xDomain:n,xAccessor:a,displayXAccessor:s,fullData:c}):function(t,e,n){var r=t.map((function(t){return n.map($o(t))})),o=mr()(r);return e.invert?(0,Dn.We)(o):[].concat(new Set(o).values())}(o,u,i),f=void 0!==r?u.range().map((function(t){return t-r})).map(u.invert):u.domain();return{realYDomain:l,yDomainDY:f,prevYDomain:u.domain()}})),l=Ln().combine((function(t,e){var n=e.realYDomain,r=e.yDomainDY,i=e.prevYDomain,a=t.id,s=t.padding,c=t.height,u=t.yScale,l=t.yPan,f=t.flipYScale,d=t.yPanEnabled,h=void 0!==d&&d,p=void 0===o||o.indexOf(a)>-1,v=l&&h?p?r:i:n,g=function(t,e,n,r){if(t.rangeRoundPoints||$n(t.invert)){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");t.rangeRoundPoints&&t.rangeRoundPoints(r?[0,e]:[e,0],n),t.rangeRound&&t.range(r?[0,e]:[e,0]).padding(n)}else{var o=isNaN(n)?n:{top:n,bottom:n},i=o.top,a=o.bottom;t.range(r?[i,e-a]:[e-a,i])}return t}(u.copy().domain(v),c,s,f);return S({},t,{yScale:g,realYDomain:n})}));return l(t,u)},Qo=function(t,e,n,r){var o;if(t.invert){o=function(t,e,n){var r=tr(t,e,n),o=r.left,i=r.right;if(o===i)return t[o];var a=n(t[o]),s=n(t[i]);return Math.abs(a.valueOf()-e.valueOf())<Math.abs(s.valueOf()-e.valueOf())?t[o]:t[i]}(r,t.invert(n[0]),e)}else{var i=t.range().map((function(t,e){return{x:Math.abs(t-n[0]),idx:e}})).reduce((function(t,e){return t.x<e.x?t:e}));o=void 0!==i?r[i.idx]:r[0]}return o};function ti(){}function ei(t){return null==t?ti:function(){return this.querySelector(t)}}function ni(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ri(){return[]}function oi(t){return function(e){return e.matches(t)}}var ii=Array.prototype.find;function ai(){return this.firstElementChild}var si=Array.prototype.filter;function ci(){return this.children}function ui(t){return new Array(t.length)}function li(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function fi(t,e,n,r,o,i){for(var a,s=0,c=e.length,u=i.length;s<u;++s)(a=e[s])?(a.__data__=i[s],r[s]=a):n[s]=new li(t,i[s]);for(;s<c;++s)(a=e[s])&&(o[s]=a)}function di(t,e,n,r,o,i,a){var s,c,u,l=new Map,f=e.length,d=i.length,h=new Array(f);for(s=0;s<f;++s)(c=e[s])&&(h[s]=u=a.call(c,c.__data__,s,e)+"",l.has(u)?o[s]=c:l.set(u,c));for(s=0;s<d;++s)u=a.call(t,i[s],s,i)+"",(c=l.get(u))?(r[s]=c,c.__data__=i[s],l.delete(u)):n[s]=new li(t,i[s]);for(s=0;s<f;++s)(c=e[s])&&l.get(h[s])===c&&(o[s]=c)}function hi(t){return t.__data__}function pi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}li.prototype={constructor:li,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var vi="http://www.w3.org/1999/xhtml";const gi={svg:"http://www.w3.org/2000/svg",xhtml:vi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mi(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),gi.hasOwnProperty(e)?{space:gi[e],local:t}:t}function yi(t){return function(){this.removeAttribute(t)}}function xi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function wi(t,e){return function(){this.setAttribute(t,e)}}function bi(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ki(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Ci(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Si(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Di(t){return function(){this.style.removeProperty(t)}}function Ai(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Mi(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ti(t){return function(){delete this[t]}}function Pi(t,e){return function(){this[t]=e}}function ji(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ni(t){return t.trim().split(/^|\s+/)}function _i(t){return t.classList||new Ei(t)}function Ei(t){this._node=t,this._names=Ni(t.getAttribute("class")||"")}function Ii(t,e){for(var n=_i(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function Fi(t,e){for(var n=_i(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function Oi(t){return function(){Ii(this,t)}}function Li(t){return function(){Fi(this,t)}}function Ri(t,e){return function(){(e.apply(this,arguments)?Ii:Fi)(this,t)}}function Wi(){this.textContent=""}function zi(t){return function(){this.textContent=t}}function Ui(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Hi(){this.innerHTML=""}function Bi(t){return function(){this.innerHTML=t}}function Xi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Yi(){this.nextSibling&&this.parentNode.appendChild(this)}function Vi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===vi&&e.documentElement.namespaceURI===vi?e.createElement(t):e.createElementNS(n,t)}}function $i(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function qi(t){var e=mi(t);return(e.local?$i:Zi)(e)}function Gi(){return null}function Ki(){var t=this.parentNode;t&&t.removeChild(this)}function Ji(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Qi(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ta(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function ea(t,e,n){return function(){var r,o=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},o?o.push(r):this.__on=[r]}}function na(t,e,n){var r=Si(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function ra(t,e){return function(){return na(this,t,e)}}function oa(t,e){return function(){return na(this,t,e.apply(this,arguments))}}Ei.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ia=[null];function aa(t,e){this._groups=t,this._parents=e}function sa(){return new aa([[document.documentElement]],ia)}aa.prototype=sa.prototype={constructor:aa,select:function(t){"function"!=typeof t&&(t=ei(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=e[o],c=s.length,u=r[o]=new Array(c),l=0;l<c;++l)(i=s[l])&&(a=t.call(i,i.__data__,l,s))&&("__data__"in i&&(a.__data__=i.__data__),u[l]=a);return new aa(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:ni(e)}}(t):function(t){return null==t?ri:function(){return this.querySelectorAll(t)}}(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,s=e[i],c=s.length,u=0;u<c;++u)(a=s[u])&&(r.push(t.call(a,a.__data__,u,s)),o.push(a));return new aa(r,o)},selectChild:function(t){return this.select(null==t?ai:function(t){return function(){return ii.call(this.children,t)}}("function"==typeof t?t:oi(t)))},selectChildren:function(t){return this.selectAll(null==t?ci:function(t){return function(){return si.call(this.children,t)}}("function"==typeof t?t:oi(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,c=r[o]=[],u=0;u<s;++u)(i=a[u])&&t.call(i,i.__data__,u,a)&&c.push(i);return new aa(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,hi);var n,r=e?di:fi,o=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=i.length,s=new Array(a),c=new Array(a),u=new Array(a),l=0;l<a;++l){var f=o[l],d=i[l],h=d.length,p=ni(t.call(f,f&&f.__data__,l,o)),v=p.length,g=c[l]=new Array(v),m=s[l]=new Array(v);r(f,d,g,m,u[l]=new Array(h),p,e);for(var y,x,w=0,b=0;w<v;++w)if(y=g[w]){for(w>=b&&(b=w+1);!(x=m[b])&&++b<v;);y._next=x||null}}return(s=new aa(s,o))._enter=c,s._exit=u,s},enter:function(){return new aa(this._enter||this._groups.map(ui),this._parents)},exit:function(){return new aa(this._exit||this._groups.map(ui),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){if(!(t instanceof aa))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c,u=e[s],l=n[s],f=u.length,d=a[s]=new Array(f),h=0;h<f;++h)(c=u[h]||l[h])&&(d[h]=c);for(;s<r;++s)a[s]=e[s];return new aa(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=pi);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],c=s.length,u=o[i]=new Array(c),l=0;l<c;++l)(a=s[l])&&(u[l]=a);u.sort(e)}return new aa(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=mi(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?xi:yi:"function"==typeof e?n.local?Ci:ki:n.local?bi:wi)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Di:"function"==typeof e?Mi:Ai)(t,e,null==n?"":n)):function(t,e){return t.style.getPropertyValue(e)||Si(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ti:"function"==typeof e?ji:Pi)(t,e)):this.node()[t]},classed:function(t,e){var n=Ni(t+"");if(arguments.length<2){for(var r=_i(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?Ri:e?Oi:Li)(n,e))},text:function(t){return arguments.length?this.each(null==t?Wi:("function"==typeof t?Ui:zi)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Hi:("function"==typeof t?Xi:Bi)(t)):this.node().innerHTML},raise:function(){return this.each(Yi)},lower:function(){return this.each(Vi)},append:function(t){var e="function"==typeof t?t:qi(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:qi(t),r=null==e?Gi:"function"==typeof e?e:ei(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ki)},clone:function(t){return this.select(t?Qi:Ji)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?ea:ta,r=0;r<a;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var c,u=0,l=s.length;u<l;++u)for(r=0,c=s[u];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?oa:ra)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,o=t[e],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};function ca(t){return"string"==typeof t?new aa([[document.querySelector(t)]],[document.documentElement]):new aa([[t]],ia)}function ua(t){let e;for(;e=t.sourceEvent;)t=e;return t}function la(t,e){if(t=ua(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}function fa(t,e){return t.target&&(t=ua(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>la(t,e)))}var da="zhn-charts",ha="tooltip",pa=da+"-"+ha,va=da+"-"+ha+"-label",ga=da+"-"+ha+"-hover",ma=da+"-bb-"+ha,ya=da+"-ma-"+ha,xa=da+"-ohlc-"+ha,wa="cursor",ba=da+"-grabbing-"+wa,ka=da+"-crosshair-"+wa,Ca=da+"-default-"+wa,Sa=da+"-move-"+wa,Da=da+"-pointer-"+wa,Aa=da+"-ns-resize-"+wa,Ma=da+"-ew-resize-"+wa,Ta="interaction",Pa=da+"-avoid-"+Ta,ja=da+"-enable-"+Ta,Na="axis",_a=da+"-x-"+Na,Ea=da+"-y-"+Na,Ia=da+"-"+Na+"-domain",Fa="series",Oa=da+"-bb-"+Fa,La=da+"-bb-"+Fa+"-area",Ra=da+"-rsi-"+Fa,Wa="candlestick",za=da+"-"+Wa,Ua=da+"-"+Wa+"-wick",Ha=da+"-"+Wa+"-candle",Ba=da+"-up",Xa=da+"-down",Ya=da+"-crosshair",Va=da+"-cross_hair",Za=da+"-text-background",$a="line",qa=da+"-"+$a,Ga=da+"-"+$a+"-stroke",Ka=da+"-bar",Ja="-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",Qa=["chartsToPan"],ts=["chartsToPan"],es=function(t,e,n){(void 0===n&&(n=null),t.panInProgress||t.dragInProgress)||ca(or(e.current)).on(sr,n)},ns=function(t){function e(e){var n;return(n=t.call(this,e)||this).clicked=void 0,n.dx=0,n.dy=0,n.dragHappened=void 0,n.focus=void 0,n.lastNewPos=void 0,n.mouseInside=!1,n.mouseInteraction=!0,n.panEndTimeout=void 0,n.panHappened=void 0,n.ref=o.createRef(),n.handleEnter=function(t){var e=n.props.onMouseEnter;void 0!==e&&(n.mouseInside=!0,es(n.state,n.ref,n.handleMouseMove),e(t))},n.handleLeave=function(t){var e=n.props.onMouseLeave;void 0!==e&&(n.mouseInside=!1,es(n.state,n.ref),e(t))},n.handleWheel=function(t){var e=n.props,r=e.pan,o=e.onPan,i=e.zoom,a=e.onZoom;if(r||i){var s=n.state.panInProgress,c=Math.abs(t.deltaY)>Math.abs(t.deltaX)&&Math.abs(t.deltaY)>0,u=pr(t);if(t.preventDefault(),i&&n.focus&&c&&!s){var l=t.deltaY>0?1:-1;void 0!==a&&a(l,u,t)}else if(n.focus){if(n.shouldPan()&&void 0!==n.state.panStart){var f=n.state.panStart,d=f.panStartXScale,h=f.chartsToPan;n.lastNewPos=u,n.panHappened=!0,void 0===n.dx&&(n.dx=0),void 0===n.dy&&(n.dy=0),n.dx-=t.deltaX,n.dy+=t.deltaY;var p={dx:n.dx,dy:n.dy};void 0!==o&&o(u,d,p,h,t)}else{var v=n.props,g=v.xScale,m=v.chartConfig,y=Ko(m,u);n.dx=0,n.dy=0,n.setState({panInProgress:!0,panStart:{panStartXScale:g,panOrigin:u,chartsToPan:y}})}n.queuePanEnd(t)}}},n.handleMouseMove=function(t){var e=n.props,r=e.onMouseMove,o=e.mouseMove;void 0!==r&&(n.mouseInteraction&&o&&!n.state.panInProgress&&r(la(t,n.ref.current),"mouse",t))},n.handleClick=function(t){var e=pr(t),r=n.props,o=r.onClick,i=r.onDoubleClick;n.panHappened||n.dragHappened||(n.clicked&&void 0!==i?(i(e,t),n.clicked=!1):void 0!==o&&(o(e,t),n.clicked=!0,setTimeout((function(){n.clicked&&(n.clicked=!1)}),400)))},n.handleRightClick=function(t){t.stopPropagation(),t.preventDefault();var e=n.props,r=e.onContextMenu,o=e.onPanEnd,i=pr(t,n.ref.current.getBoundingClientRect());if(void 0!==n.state.panStart){var a=n.state.panStart,s=a.panStartXScale,c=a.panOrigin,u=c[0],l=c[1],f=a.chartsToPan;n.panHappened&&void 0!==o&&o(i,s,{dx:u,dy:l},f,t),ca(or(n.ref.current)).on(sr,null).on(cr,null),n.setState({panInProgress:!1,panStart:void 0})}void 0!==r&&r(i,t)},n.handleDrag=function(t){var e=n.props.onDrag;if(void 0!==e){n.dragHappened=!0;var r=n.state.dragStartPosition;if(void 0!==r)e({startPos:r,mouseXY:la(t,n.ref.current)},t)}},n.handleDragEnd=function(t){var e=la(t,n.ref.current);if(ca(or(n.ref.current)).on(sr,n.mouseInside?n.handleMouseMove:null).on(cr,null),n.dragHappened){var r=n.props.onDragComplete;void 0!==r&&r({mouseXY:e},t)}n.setState({dragInProgress:!1}),n.mouseInteraction=!0},n.canPan=function(){var t=n.props.getAllPanConditions,e=n.props.pan,r=t().reduce((function(t,e){return{draggable:t.draggable||e.draggable,panEnabled:t.panEnabled&&e.panEnabled}}),{draggable:!1,panEnabled:e});return{panEnabled:r.panEnabled,somethingSelected:r.draggable}},n.handleMouseDown=function(t){if(0===t.button){var e=n.props,r=e.xScale,o=e.chartConfig,i=e.onMouseDown;if(n.panHappened=!1,n.dragHappened=!1,n.focus=!0,!n.state.panInProgress&&n.mouseInteraction){var a=pr(t),s=Ko(o,a),c=n.canPan(),u=c.panEnabled,l=c.somethingSelected,f=u&&!l;if(f)n.setState({panInProgress:f,panStart:{panStartXScale:r,panOrigin:a,chartsToPan:s}}),ca(or(n.ref.current)).on(sr,n.handlePan).on(cr,n.handlePanEnd);else if(l){n.setState({panInProgress:!1,dragInProgress:!0,panStart:void 0,dragStartPosition:a});var d=n.props.onDragStart;void 0!==d&&d({startPos:a},t),ca(or(n.ref.current)).on(sr,n.handleDrag).on(cr,n.handleDragEnd)}void 0!==i&&i(a,s,t)}t.preventDefault()}},n.shouldPan=function(){var t=n.props,e=t.pan,r=t.onPan;return e&&r&&void 0!==n.state.panStart},n.handlePan=function(t){if(n.shouldPan()&&void 0!==n.state.panStart){n.panHappened=!0;var e,r,o,i=n.state.panStart,a=i.panStartXScale,s=i.panOrigin,c=i.chartsToPan;n.mouseInteraction?(o=la(t,n.ref.current),n.lastNewPos=o,e=o[0]-s[0],r=o[1]-s[1]):(o=fa(t,n.ref.current)[0],n.lastNewPos=o,e=s[0]-o[0],r=s[1]-o[1]),n.dx=e,n.dy=r;var u=n.props.onPan;void 0!==u&&u(o,a,{dx:e,dy:r},c,t)}},n.handlePanEnd=function(t){var e=n.props,r=e.pan,o=e.onPanEnd;if(void 0!==n.state.panStart){var i=n.state.panStart,a=i.panStartXScale,s=i.chartsToPan;if(ca(or(n.ref.current)).on(sr,n.mouseInside?n.handleMouseMove:null).on(cr,null).on(ur,null).on(lr,null),n.panHappened&&r&&o){var c=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),u=c.dx,l=void 0===u?0:u,f=c.dy,d=void 0===f?0:f;delete n.dx,delete n.dy,void 0!==n.lastNewPos&&o(n.lastNewPos,a,{dx:l,dy:d},s,t)}n.setState({panInProgress:!1,panStart:void 0})}},n.handleTouchMove=function(t){var e=n.props.onMouseMove;if(void 0!==e){var r=fr(t.touches[0]);e(hr(r,t),"touch",t)}},n.handleTouchStart=function(t){n.mouseInteraction=!1;var e=n.props,r=e.pan,o=e.chartConfig,i=e.onMouseMove,a=e.xScale,s=e.onPanEnd;if(1===t.touches.length){n.panHappened=!1;var c=hr(fr(t.touches[0]),t);if(void 0!==i&&i(c,"touch",t),r){var u=Ko(o,c);n.setState({panInProgress:!0,panStart:{panStartXScale:a,panOrigin:c,chartsToPan:u}}),ca(or(n.ref.current)).on(ur,n.handlePan,!1).on(lr,n.handlePanEnd,!1)}}else if(2===t.touches.length){var l=n.state,f=l.panInProgress,d=l.panStart;if(f&&r&&s&&void 0!==d){var h=d.panStartXScale,p=d.panOrigin,v=p[0],g=p[1],m=d.chartsToPan;ca(or(n.ref.current)).on(sr,n.mouseInside?n.handleMouseMove:null).on(cr,null).on(ur,n.handlePinchZoom,!1).on(lr,n.handlePinchZoomEnd,!1);var y=hr(fr(t.touches[0]),t),x=hr(fr(t.touches[1]),t);n.panHappened&&r&&s&&void 0!==n.lastNewPos&&s(n.lastNewPos,h,{dx:v,dy:g},m,t),n.setState({panInProgress:!1,pinchZoomStart:{xScale:a,touch1Pos:y,touch2Pos:x,range:a.range(),chartsToPan:m}})}}},n.handlePinchZoom=function(t){var e=n.state.pinchZoomStart;if(void 0!==e){var r=n.props,o=r.xScale,i=r.zoom,a=r.onPinchZoom;if(i&&void 0!==a){var s=fa(n.ref.current),c=s[0],u=s[1];e.chartsToPan;a(D(e,Qa),{touch1Pos:c,touch2Pos:u,xScale:o},t)}}},n.handlePinchZoomEnd=function(t){ca(or(n.ref.current)).on(ur,null).on(lr,null);var e=n.state.pinchZoomStart;if(void 0!==e){e.chartsToPan;var r=D(e,ts),o=n.props,i=o.zoom,a=o.onPinchZoomEnd;i&&a&&a(r,t),n.setState({pinchZoomStart:void 0})}},n.setCursorClass=function(t){t!==n.state.cursorOverrideClass&&n.setState({cursorOverrideClass:t})},n.focus=e.focus,n.state={panInProgress:!1},n}Sn(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props.disableInteraction,e=this.ref.current;null!==e&&(t||(ca(e).on(ir,this.handleEnter).on(ar,this.handleLeave),e.addEventListener("wheel",this.handleWheel,{passive:!1})))},n.componentDidUpdate=function(){this.componentDidMount()},n.componentWillUnmount=function(){var t=this.props.disableInteraction,e=this.ref.current;null!==e&&(t||(ca(e).on(ir,null).on(ar,null),ca(or(e)).on(sr,null),e.removeEventListener("wheel",this.handleWheel,{passive:!1})))},n.queuePanEnd=function(t){var e=this;void 0!==this.panEndTimeout&&window.clearTimeout(this.panEndTimeout),this.panEndTimeout=window.setTimeout((function(){e.handlePanEnd(t)}),100)},n.cancelDrag=function(){ca(or(this.ref.current)).on(sr,this.mouseInside?this.handleMouseMove:null).on(cr,null),this.setState({dragInProgress:!1}),this.mouseInteraction=!0},n.render=function(){var t=this.props,e=t.height,n=t.width,r=t.disableInteraction,o=t.useCrossHairStyleCursor,i=this.state,a=i.cursorOverrideClass,s=i.panInProgress,c=r?void 0:void 0!==a?a:o?s?ba:ka:void 0,u=r||{onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleRightClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove};return(0,A.jsx)("rect",S({ref:this.ref,className:c,width:n,height:e,style:{opacity:0}},u))},e}(o.Component);ns.defaultProps={mouseMove:!1,zoom:!1,pan:!1,panSpeedMultiplier:1,focus:!1,disableInteraction:!1};var rs=function(t){var e,n;return null!=(e=null==(n=i(t))?void 0:n.getContext("2d"))?e:void 0},os=(0,o.memo)((0,o.forwardRef)((function(t,e){var n=t.style,r=t.width,i=t.height,a=t.ratio,s=(0,o.useRef)(),c=(0,o.useRef)(),u=(0,o.useRef)();(0,o.useImperativeHandle)(e,(function(){return{getCanvasContexts:function(){return{bg:rs(s),axes:rs(c),mouseCoord:rs(u)}}}}));var l=r*a,f=i*a,d={position:"absolute",width:r,height:i};return(0,A.jsxs)("div",{style:S({},n,{position:"absolute"}),children:[(0,A.jsx)("canvas",{ref:s,width:l,height:f,style:d}),(0,A.jsx)("canvas",{ref:c,width:l,height:f,style:d}),(0,A.jsx)("canvas",{ref:u,width:l,height:f,style:d})]})}))),is="chart-area-clip";const as=function(t){return t.configs.map((function(t,e){return(0,A.jsx)("clipPath",{id:is+"-"+t.id,children:(0,A.jsx)("rect",{x:"0",y:"0",width:t.width,height:t.height})},e)}))};const ss=function(t){var e=t.dimensions,n=t.chartConfig;return(0,A.jsxs)("defs",{children:[(0,A.jsx)("clipPath",{id:is,children:(0,A.jsx)("rect",{x:"0",y:"0",width:e.width,height:e.height})}),(0,A.jsx)(as,{configs:n})]})};function cs(t,e,n,r){var o=t.lastItem,i=t.lastItemX,a=e(o),s=n.range(),c=s[0];return(s[1]-c)/(i.valueOf()-c)*(a.valueOf()-r.valueOf())+r.valueOf()}function us(t,e,n,r,o){return{filterData:function(i,a,s,c,u){var l=void 0===u?{}:u,f=l.currentPlotData,d=l.currentDomain,h=l.fallbackStart,p=l.fallbackEnd,v=l.ignoreThresholds,g=void 0!==v&&v;if(t)return{plotData:i,domain:a};var m=Kn(a),y=Gn(a),x=a,w=fs(i,m,y,s);1===w.length&&void 0!==h&&(x=[m=h,y=cs(p,s,c,m)],w=fs(i,m,y,s)),"function"==typeof e?x=e(x,[s(Kn(i)),s(Gn(i))]):("left"!==e&&"both"!==e&&!0!==e||(x=[(0,Dn.Fp)([m,s(Kn(i))]),x[1]]),"right"!==e&&"both"!==e&&!0!==e||(x=[x[0],(0,Dn.VV)([y,s(Gn(i))])])),x!==a&&(w=fs(i,x[0],x[1],s));var b,k,C=x,S=c.copy().domain(C),D=Math.floor(S(s(Gn(w)))-S(s(Kn(w))));o&&D<0&&(D*=-1);var A=Gn(S.range())-Kn(S.range());if(g&&w.length>1||function(t,e,n,r){var o=function(t,e){return Math.max(1,Math.ceil(t*e))}(t,r),i=ls(t,n);return e>=o&&e<i}(D,w.length,n,r))b=w,k=C;else if(A>ls(D,n)&&Zn(p)){b=w;var M=cs(p,s,c,Kn(C));k=[Kn(C),M]}else b=null!=f?f:w.slice(w.length-function(t,e){return Math.floor(.97*ls(t,e))}(D,n)),k=null!=d?d:[s(Kn(b)),s(Gn(b))];return{plotData:b,domain:k}}}}function ls(t,e){return Math.floor(t*e)}function fs(t,e,n,r){var o=tr(t,e,r).left,i=tr(t,n,r).right;return t.slice(o,i+1)}var ds=["seriesName"],hs=function(t){var e=t.margin,n=e.top,r=e.bottom,o=e.left,i=e.right;return{height:t.height-n-r,width:t.width-o-i}},ps=function(t){var e=t.data,n=t.plotFull,r=t.xScale,o=t.clamp,i=t.pointsPerPxThreshold,a=t.flipXScale,s=t.xAccessor,c=t.displayXAccessor,u=t.minPointsPerPxThreshold,l=function(t){var e=t.xScale,n=t.useWholeData,r=t.clamp,o=t.pointsPerPxThreshold,i=t.minPointsPerPxThreshold,a=t.flipXScale;return us(n||$n(e.invert),r,o,i,a)}({xScale:r,useWholeData:void 0!==n?n:s===On,clamp:o,pointsPerPxThreshold:i,minPointsPerPxThreshold:u,flipXScale:a}),f=l.filterData;return{xAccessor:s,displayXAccessor:null!=c?c:s,xScale:r.copy(),fullData:e,filterData:f}},vs=function(t,e,n,r){if(void 0===r&&(r=1),t.rangeRoundPoints){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");t.rangeRoundPoints([0,e.width],n)}else if(t.padding){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");t.range([0,e.width]),t.padding(n/2)}else{var o=isNaN(n)?n:{left:n,right:n},i=o.left,a=o.right;r>0?t.range([i,e.width-a]):t.range([e.width-a,i])}return t},gs=function(t){return t?-1:1},ms=function(t){var e=function(t){var e=t.xAccessor,n=t.xExtents,r=t.data,o=t.padding,i=t.flipXScale,a=gs(i),s=hs(t),c="function"==typeof n?n(r):(0,Dn.We)(n.map((function(t){return Un(t)})).map((function(t){return t(r,e)}))),u=ps(t),l=u.xAccessor,f=u.displayXAccessor,d=u.xScale,h=u.fullData,p=u.filterData,v=vs(d,s,o,a),g=p(h,c,e,v),m=g.plotData,y=g.domain;return{plotData:m,xScale:v.domain(y),xAccessor:l,displayXAccessor:f,fullData:h,filterData:p}}(t),n=e.xAccessor,r=e.displayXAccessor,o=e.fullData,i=e.plotData,a=e.xScale,s=t.postCalculator,c=t.children,u=void 0!==s?s(i):i,l=hs(t),f=Jo(Go(l,c),{plotData:u,xAccessor:n,displayXAccessor:r,fullData:o},a.domain());return S({},e,{xScale:a,plotData:u,chartConfigs:f})},ys=function(t){var e=t.touch1Pos,n=t.touch2Pos;return{topLeft:[Math.min(e[0],n[0]),Math.min(e[1],n[1])],bottomRight:[Math.max(e[0],n[0]),Math.max(e[1],n[1])]}},xs=function(t,e,n){return!isNaN(t(e(Kn(n))))&&Zn(t.invert)},ws=function(t,e,n,r,o){var i=Kn(t),a=Kn(e.domain()),s=n(i),c=Gn(t),u=Gn(e.domain()),l=n(c);a<s&&void 0!==o&&o(a,s),l<u&&void 0!==r&&r(l,u)},bs=function(){},ks={amIOnTop:function(){return!1},chartConfigs:[],chartId:0,displayXAccessor:function(){return 0},fullData:[],getMutableState:function(){return{}},height:0,margin:{},plotData:[],setCursorClass:bs,subscribe:bs,unsubscribe:bs,width:0,xAccessor:function(){return 0},xScale:bs},Cs=(0,o.createContext)(ks),Ss=function(t,e,n){return t.map((function(t){return t.id===e?S({},t,{yScale:t.yScale.copy().domain(n),yPanEnabled:!0}):t}))},Ds=function(t){function e(n){var r;return(r=t.call(this,n)||this).canvasContainerRef=(0,o.createRef)(),r.eventCaptureRef=(0,o.createRef)(),r.finalPinch=void 0,r.lastSubscriptionId=0,r.mutableState={},r.panInProgress=!1,r.prevMouseXY=void 0,r._isDidUpdateRedraw=!1,r._asyncRedrawId=void 0,r.subscriptions=[],r.waitingForPinchZoomAnimationFrame=void 0,r.waitingForPanAnimationFrame=void 0,r.waitingForMouseMoveAnimationFrame=void 0,r.hackyWayToStopPanBeyondBounds__plotData=void 0,r.hackyWayToStopPanBeyondBounds__domain=void 0,r.getMutableState=function(){return r.mutableState},r.getCanvasContexts=function(){var t;return null==(t=r.canvasContainerRef.current)?void 0:t.getCanvasContexts()},r.generateSubscriptionId=function(){return r.lastSubscriptionId++,r.lastSubscriptionId},r.subscribe=function(t,e){var n=e.getPanConditions,o=void 0===n?Un({draggable:!1,panEnabled:!0}):n;r.subscriptions=r.subscriptions.concat(S({id:t},e,{getPanConditions:o}))},r.unsubscribe=function(t){r.subscriptions=r.subscriptions.filter((function(e){return e.id!==t}))},r.getAllPanConditions=function(){return r.subscriptions.map((function(t){return t.getPanConditions()}))},r.setCursorClass=function(t){var e;null==(e=r.eventCaptureRef.current)||e.setCursorClass(t)},r.amIOnTop=function(t){var e=r.subscriptions.filter((function(t){return t.getPanConditions().draggable}));return e.length>0&&Gn(e).id===t},r.handleContextMenu=function(t,e){var n=r.state,o=n.xAccessor,i=n.chartConfigs,a=n.plotData,s=n.xScale,c=Ko(i,t),u=Qo(s,o,t,a);r.triggerEvent("contextmenu",{mouseXY:t,currentItem:u,currentCharts:c},e)},r.calculateStateForDomain=function(t){var e=r.state,n=e.fullData,o=e.xAccessor,i=e.displayXAccessor,a=e.xScale,s=e.chartConfigs,c=e.plotData,u=e.filterData,l=r.props.postCalculator,f=u(n,t,o,a,{currentPlotData:c,currentDomain:a.domain()}),d=f.plotData,h=f.domain,p=l(d),v=a.copy().domain(h),g=Jo(s,{plotData:p,xAccessor:o,displayXAccessor:i,fullData:n},v.domain());return{xScale:v,plotData:p,chartConfigs:g}},r.pinchZoomHelper=function(t,e){var n=t.xScale,o=r.state,i=o.fullData,a=o.xScale,s=o.chartConfigs,c=o.plotData,u=o.xAccessor,l=o.displayXAccessor,f=o.filterData,d=r.props.postCalculator,h=function(t,e,n){var r=ys(t),o=r.topLeft,i=r.bottomRight,a=ys(e),s=a.topLeft,c=a.bottomRight,u=n.range()[1],l=Math.round(-(i[0]*s[0]-o[0]*c[0])/(o[0]-i[0])),f=Math.round(u+((u-i[0])*(u-s[0])-(u-o[0])*(u-c[0]))/(u-o[0]-(u-i[0])));return[Math.round(-l*o[0]/(-l+s[0])),Math.round(u-(f-u)*(u-o[0])/(f+(u-s[0])))].map(n.invert)}(t,e,n),p=f(i,h,u,n,{currentPlotData:c,currentDomain:a.domain()}),v=p.plotData,g=p.domain,m=d(v),y=a.copy().domain(g),x=e.touch1Pos;return{chartConfigs:Jo(s,{plotData:m,xAccessor:u,displayXAccessor:l,fullData:i},y.domain()),xScale:y,plotData:m,mouseXY:x,currentItem:Qo(y,u,x,m)}},r.handlePinchZoom=function(t,e,n){if(!r.waitingForPinchZoomAnimationFrame){r.waitingForPinchZoomAnimationFrame=!0;var o=r.pinchZoomHelper(t,e);r.triggerEvent("pinchzoom",o,n),r.finalPinch=e,requestAnimationFrame((function(){r.clearBothCanvas(),r.draw({trigger:"pinchzoom"}),r.waitingForPinchZoomAnimationFrame=!1}))}},r.handlePinchZoomEnd=function(t,n){var o=r.state,i=o.fullData,a=o.xAccessor,s=void 0===a?e.defaultProps.xAccessor:a;if(r.finalPinch){var c=r.pinchZoomHelper(t,r.finalPinch),u=c.xScale,l=r.props,f=l.onLoadAfter,d=l.onLoadBefore;r.triggerEvent("pinchzoom",c,n),r.finalPinch=void 0,r.clearThreeCanvas(),r.setState(c,(function(){return ws(i,u,s,f,d)}))}},r._zoomXImpl=function(t,e,n,o,i){r.triggerEvent("zoom",S({xScale:n,plotData:t,chartConfigs:e},o,{show:!0}),i);var a=r.state,s=a.fullData,c=a.xAccessor,u=r.props,l=u.onZoom,f=u.onLoadAfter,d=u.onLoadBefore;l((t||[]).length),r._isDidUpdateRedraw=!0,r.setState({xScale:n,plotData:t,chartConfigs:e},(function(){return ws(s,n,c,f,d)}))},r.handleZoom=function(t,e,n){if(!r.panInProgress){var o=r.state,i=o.xAccessor,a=o.xScale,s=o.plotData,c=r.props,u=c.zoomMultiplier,l=(0,c.zoomAnchor)({xScale:a,xAccessor:i,mouseXY:e,plotData:s}),f=function(t,e){return t>0?1*e:1/e}(t,u),d=function(t,e,n){var r=t(e);return t.range().map((function(t){return r+(t-r)*n})).map((function(e){return t.invert(e)}))}(a,l,f),h=r.calculateStateForDomain(d),p=h.xScale,v=h.plotData,g=h.chartConfigs;r.mutableState={mouseXY:e,currentItem:Qo(p,i,e,v),currentCharts:Ko(g,e)},r._zoomXImpl(v,g,p,r.mutableState,n)}},r.xAxisZoom=function(t){var e=r.calculateStateForDomain(t),n=e.xScale,o=e.plotData,i=e.chartConfigs;r._zoomXImpl(o,i,n)},r.yAxisZoom=function(t,e){r._isDidUpdateRedraw=!0,r.setState({chartConfigs:Ss(r.state.chartConfigs,t,e)})},r.draw=function(t){r.subscriptions.forEach((function(e){Zn(e.draw)&&e.draw(t)}))},r.redraw=function(){r.clearThreeCanvas(),r.draw({force:!0})},r.panHelper=function(t,e,n,o){var i=n.dx,a=n.dy,s=r.state,c=s.fullData,u=s.xAccessor,l=s.displayXAccessor,f=s.chartConfigs,d=s.filterData,h=r.props.postCalculator,p=d(c,e.range().map((function(t){return t-i})).map((function(t){return e.invert(t)})),u,e,{currentPlotData:r.hackyWayToStopPanBeyondBounds__plotData,currentDomain:r.hackyWayToStopPanBeyondBounds__domain,ignoreThresholds:!0}),v=p.plotData,g=p.domain,m=e.copy().domain(g),y=h(v),x=Qo(m,u,t,y),w=Jo(f,{plotData:y,xAccessor:u,displayXAccessor:l,fullData:c},m.domain(),a,o);return{xScale:m,plotData:y,chartConfigs:w,mouseXY:t,currentCharts:Ko(w,t),currentItem:x}},r.handlePan=function(t,e,n,o,i){if(!r.waitingForPanAnimationFrame){var a,s;r.waitingForPanAnimationFrame=!0,r.hackyWayToStopPanBeyondBounds__plotData=null!=(a=r.hackyWayToStopPanBeyondBounds__plotData)?a:r.state.plotData,r.hackyWayToStopPanBeyondBounds__domain=null!=(s=r.hackyWayToStopPanBeyondBounds__domain)?s:r.state.xScale.domain();var c=r.panHelper(t,e,n,o);r.hackyWayToStopPanBeyondBounds__plotData=c.plotData,r.hackyWayToStopPanBeyondBounds__domain=c.xScale.domain(),r.panInProgress=!0,r.triggerEvent("pan",c,i),r.mutableState={mouseXY:c.mouseXY,currentItem:c.currentItem,currentCharts:c.currentCharts},requestAnimationFrame((function(){r.waitingForPanAnimationFrame=!1,r.clearBothCanvas(),r.draw({trigger:"pan"})}))}},r.handlePanEnd=function(t,e,n,o,i){var a=r.panHelper(t,e,n,o),s=a.xScale,c=a.plotData,u=a.chartConfigs;r.hackyWayToStopPanBeyondBounds__plotData=null,r.hackyWayToStopPanBeyondBounds__domain=null,r.panInProgress=!1,r.triggerEvent("panend",a,i),requestAnimationFrame((function(){var t=r.state,e=t.fullData,n=t.xAccessor,o=r.props,i=o.onLoadAfter,a=o.onLoadBefore;r._isDidUpdateRedraw=!0,r.setState({xScale:s,plotData:c,chartConfigs:u},(function(){return ws(e,s,n,i,a)}))}))},r.handleMouseDown=function(t,e,n){r.triggerEvent("mousedown",r.mutableState,n)},r.handleMouseEnter=function(t){r.triggerEvent("mouseenter",{show:!0},t)},r.handleMouseMove=function(t,e,n){if(!r.waitingForMouseMoveAnimationFrame){r.waitingForMouseMoveAnimationFrame=!0;var o=r.state,i=o.chartConfigs,a=o.plotData,s=o.xScale,c=o.xAccessor,u=Ko(i,t),l=Qo(s,c,t,a);r.triggerEvent("mousemove",{show:!0,mouseXY:t,prevMouseXY:r.prevMouseXY,currentItem:l,currentCharts:u},n),r.prevMouseXY=t,r.mutableState={mouseXY:t,currentItem:l,currentCharts:u},requestAnimationFrame((function(){r.clearMouseCanvas(),r.draw({trigger:"mousemove"}),r.waitingForMouseMoveAnimationFrame=!1}))}},r.handleMouseLeave=function(t){r.triggerEvent("mouseleave",{show:!1},t),r.clearMouseCanvas(),r.draw({trigger:"mouseleave"})},r.handleDragStart=function(t,e){var n=t.startPos;r.triggerEvent("dragstart",{startPos:n},e)},r.handleDrag=function(t,e){var n=t.startPos,o=t.mouseXY,i=r.state,a=i.chartConfigs,s=i.plotData,c=i.xScale,u=i.xAccessor,l=Ko(a,o),f=Qo(c,u,o,s);r.triggerEvent("drag",{startPos:n,mouseXY:o,currentItem:f,currentCharts:l},e),r.mutableState={mouseXY:o,currentItem:f,currentCharts:l},requestAnimationFrame((function(){r.clearMouseCanvas(),r.draw({trigger:"drag"})}))},r.handleDragEnd=function(t,e){var n=t.mouseXY;r.triggerEvent("dragend",{mouseXY:n},e),requestAnimationFrame((function(){r.clearMouseCanvas(),r.draw({trigger:"dragend"})}))},r.handleClick=function(t,e){r.triggerEvent("click",r.mutableState,e),requestAnimationFrame((function(){r.clearMouseCanvas(),r.draw({trigger:"click"})}))},r.handleDoubleClick=function(t,e){r.triggerEvent("dblclick",{},e)},r.resetYDomain=function(t){var e=r.state.chartConfigs,n=!1,o=e.map((function(e){return!$n(t)&&e.id!==t||er(e.yScale.domain(),e.realYDomain)?e:(n=!0,S({},e,{yScale:e.yScale.domain(e.realYDomain),yPanEnabled:!1}))}));n&&(r.clearThreeCanvas(),r.setState({chartConfigs:o}))},r.state=ms(n),r}Sn(e,t);var n=e.prototype;return n.clearBothCanvas=function(){var t=this.getCanvasContexts()||{},e=t.axes,n=t.mouseCoord;e&&n&&vr([e,n],this.props.ratio)},n.clearMouseCanvas=function(){var t=(this.getCanvasContexts()||{}).mouseCoord;t&&vr([t],this.props.ratio)},n.clearThreeCanvas=function(){var t=this.getCanvasContexts()||{},e=t.axes,n=t.mouseCoord,r=t.bg;e&&n&&r&&vr([e,n,r],this.props.ratio)},n.cancelDrag=function(){var t;null==(t=this.eventCaptureRef.current)||t.cancelDrag(),this.triggerEvent("dragcancel")},n.triggerEvent=function(t,e,n){var r=this;this.subscriptions.forEach((function(o){var i=S({},r.state,{subscriptions:r.subscriptions});o.listener(t,e,i,n)}))},n.getContextValues=function(){var t=this.props,e=t.margin,n=t.ratio,r=this.state,o=r.fullData,i=r.plotData,a=r.chartConfigs,s=r.xScale,c=r.xAccessor,u=r.displayXAccessor,l=hs(this.props);return{chartId:-1,margin:e,ratio:n,plotData:i,chartConfigs:a,xScale:s,xAccessor:c,displayXAccessor:u,width:l.width,height:l.height,fullData:o||[],xAxisZoom:this.xAxisZoom,yAxisZoom:this.yAxisZoom,getCanvasContexts:this.getCanvasContexts,redraw:this.redraw,subscribe:this.subscribe,unsubscribe:this.unsubscribe,generateSubscriptionId:this.generateSubscriptionId,getMutableState:this.getMutableState,amIOnTop:this.amIOnTop,setCursorClass:this.setCursorClass}},e.getDerivedStateFromProps=function(t,e){var n,r=e.recentProps,o=void 0===r?{}:r,i=e.chartConfigs,a=e.plotData,s=e.xAccessor,c=e.xScale,u=function(t,e){return!ds.every((function(n){return er(t[n],e[n])}))}(o,t);if(xs(c,s,a)&&!u&&er(o.xExtents,t.xExtents)){var l=c.domain(),f=l[0],d=l[1],h=Gn(e.fullData),p=ps(t),v=(0,p.xAccessor)(h);n=function(t,e,n,r,o){var i,a=t.fullData,s=t.xScale,c=t.xAccessor,u=t.displayXAccessor,l=t.filterData,f=Gn(a),d=c(f),h=e.domain(),p=h[0],v=h[1],g=n.postCalculator,m=n.children,y=n.padding,x=n.flipXScale,w=n.maintainPointsPerPixelOnResize,b=gs(x),k=hs(n),C=vs(s,k,y,b);if(!r||v>=d){var S=e.range(),D=S[0],A=S[1],M=C.range(),T=M[0],P=(M[1]-T)/(A-D)*(v.valueOf()-p.valueOf()),j=l(a,[w?v.valueOf()-P:p,v],c,C,{fallbackStart:p,fallbackEnd:{lastItem:f,lastItemX:e(d)}});i=j.plotData,C.domain(j.domain)}else if(r&&v<d){var N=e(d)-e.range()[1],_=e.range().map((function(t){return t+N})).map((function(t){return e.invert(t)})),E=l(a,[_[0],_[1]],c,C);i=E.plotData,C.domain(E.domain)}var I=g(i),F=Go(k,m,o),O=Jo(F,{plotData:I,xAccessor:c,displayXAccessor:u,fullData:a},C.domain());return{xScale:C,xAccessor:c,chartConfigs:O,plotData:I,fullData:a,filterData:l}}(p,c,t,v<=d&&v>=f,i)}else n=ms(t);return S({},n,{recentProps:t})},n.componentDidUpdate=function(t){var e=this;this._isDidUpdateRedraw?(this._isDidUpdateRedraw=!1,this.redraw()):t===this.props||this.panInProgress||(clearTimeout(this._asyncRedrawId),this._asyncRedrawId=setTimeout((function(){e.redraw()}),0)),t.data!==this.props.data&&this.triggerEvent("dataupdated",{chartConfigs:this.state.chartConfigs,xScale:this.state.xScale,plotData:this.state.plotData})},n.shouldComponentUpdate=function(){return!this.panInProgress},n.render=function(){var t,e=this.props,n=e.disableInteraction,r=e.disablePan,o=e.disableZoom,i=e.useCrossHairStyleCursor,a=e.height,s=e.width,c=e.margin,u=e.className,l=e.zIndex,f=e.defaultFocus,d=e.ratio,h=e.mouseMoveEvent,p=e.onClick,v=e.onDoubleClick,g=e.children,m=this.state,y=m.plotData,x=m.xScale,w=m.xAccessor,b=m.chartConfigs,k=hs(this.props),C=xs(x,w,y),S=i&&C;return(0,A.jsx)(Cs.Provider,{value:this.getContextValues(),children:(0,A.jsxs)("div",{className:u,style:{position:"relative",width:s,height:a},onClick:p,onDoubleClick:v,children:[(0,A.jsx)(os,{ref:this.canvasContainerRef,ratio:d,width:s,height:a,style:{height:a,zIndex:l,width:s}}),(0,A.jsxs)("svg",{className:u,width:s,height:a,style:{position:"absolute",zIndex:l+5},children:[(t="\n\t."+ba+" {\n\t\tpointer-events: all;\n\t\tcursor: -moz-grabbing;\n\t\tcursor: -webkit-grabbing;\n\t\tcursor: grabbing;\n\t}\n\t."+ka+" {\n\t\tpointer-events: all;\n\t\tcursor: arrow;\n\t}\n\t."+ga+" {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t."+Pa+" {\n\t\tpointer-events: none;\n\t}\n\t."+ja+" {\n\t\tpointer-events: all;\n\t}\n\t."+pa+" {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t."+Ca+" {\n\t\tcursor: default;\n\t}\n\t."+Sa+" {\n\t\tcursor: move;\n\t}\n\t."+Da+" {\n\t\tcursor: pointer;\n\t}\n\t."+Aa+" {\n\t\tcursor: ns-resize;\n\t}\n\t."+Ma+" {\n\t\tcursor: ew-resize;\n\t}",(0,A.jsx)("style",{type:"text/css",children:t})),(0,A.jsx)(ss,{dimensions:k,chartConfig:b}),(0,A.jsxs)("g",{transform:"translate("+(c.left+.5)+", "+(c.top+.5)+")",children:[(0,A.jsx)(ns,{ref:this.eventCaptureRef,useCrossHairStyleCursor:S,mouseMove:h&&C,zoom:!o&&C,pan:!r&&C,width:k.width,height:k.height,chartConfig:b,xScale:x,xAccessor:w,focus:f,disableInteraction:n,getAllPanConditions:this.getAllPanConditions,onContextMenu:this.handleContextMenu,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:this.handleDragEnd,onZoom:this.handleZoom,onPinchZoom:this.handlePinchZoom,onPinchZoomEnd:this.handlePinchZoomEnd,onPan:this.handlePan,onPanEnd:this.handlePanEnd}),(0,A.jsx)("g",{className:Pa,children:g})]})]})]})})},e}(o.Component);Ds.defaultProps={clamp:!1,className:da,defaultFocus:!0,disablePan:!1,disableInteraction:!1,disableZoom:!1,flipXScale:!1,maintainPointsPerPixelOnResize:!0,margin:{top:0,right:40,bottom:40,left:0},minPointsPerPxThreshold:.01,mouseMoveEvent:!0,postCalculator:On,padding:0,pointsPerPxThreshold:2,useCrossHairStyleCursor:!0,xAccessor:On,xExtents:[Dn.VV,Dn.Fp],zIndex:1,zoomAnchor:function(t){var e=t.xScale,n=t.xAccessor,r=t.mouseXY,o=t.plotData;return n(Qo(e,n,r,o))},zoomMultiplier:1.1,onZoom:bs};const As=function(t){var e=(0,o.useRef)(null);return(0,o.useLayoutEffect)((function(){e.current=t})),(0,o.useCallback)((function(){var t=e.current;return t?t.apply(void 0,arguments):void 0}),[])};var Ms=Object.assign,Ts={mouseleave:"mousemove",panend:"pan",pinchzoom:"pan",mousedown:"mousemove",click:"mousemove",contextmenu:"mousemove",dblclick:"mousemove",dragstart:"drag",dragend:"drag",dragcancel:"drag",zoom:"zoom"},Ps=function(t){return t.mouseCoord},js=function(t,e){return e?{clipPath:"url(#chart-area-clip"+(void 0!==t?"-"+t:"")+")"}:void 0},Ns=(0,o.memo)((0,o.forwardRef)((function(t,e){var n=t.isHover,r=t.clip,i=void 0===r||r,a=t.edgeClip,s=void 0!==a&&a,c=t.canvasToDraw,u=void 0===c?Ps:c,l=t.canvasDraw,f=t.svgDraw,d=t.preCanvasDraw,h=t.postCanvasDraw,p=t.updateMoreProps,v=t.getMoreProps,g=(0,o.useContext)(Cs),m=(0,o.useContext)(Xo).chartId,y=(0,o.useMemo)((function(){return(null==g.generateSubscriptionId?void 0:g.generateSubscriptionId())||0}),[]),x=j(),w=g.getCanvasContexts,b=g.subscribe,k=g.unsubscribe,C=(0,o.useRef)({chartId:g.chartId,hovering:!1,currentCharts:[],chartConfigs:g.chartConfigs,fullData:g.fullData,plotData:g.plotData,xScale:g.xScale,xAccessor:g.xAccessor}),D=(0,o.useRef)(!1),M=(0,o.useRef)(!1),T=(0,o.useRef)(!1),P=(0,o.useCallback)((function(t,e){Ms(e,t||{}),null==p||p(t,e)}),[p]),N=(0,o.useCallback)((function(){var t=g.chartConfigs,e=g.xAccessor,n=g.displayXAccessor,r=g.width,o=g.height,i=g.fullData,a=null==v?void 0:v(C.current);return S({displayXAccessor:n,width:r,height:o},C.current,{fullData:i,chartConfigs:t,xAccessor:e},a,{chartConfig:Bo(t,m)})}),[g,v,m]);(0,o.useImperativeHandle)(e,(function(){return{getMoreProps:N}}),[N]);var _=(0,o.useCallback)((function(t){return void 0!==n&&n(N(),t)}),[n,N]),E=(0,o.useCallback)((function(t,e){null==d||d(t,e)}),[d]),I=(0,o.useCallback)((function(t,e){null==h||h(t,e)}),[h]),F=As((function(e,n){var r=Ts[e]||e;if(t.drawOn.includes(r)&&(!t.shouldTypeProceed||t.shouldTypeProceed(e,C.current)))switch(e){case"zoom":case"mouseenter":break;case"mouseleave":C.current.hovering=!1,t.onUnHover&&t.onUnHover(n,N());break;case"contextmenu":t.onContextMenu&&t.onContextMenu(n,N()),C.current.hovering&&t.onContextMenuWhenHover&&t.onContextMenuWhenHover(n,N());break;case"mousedown":t.onMouseDown&&t.onMouseDown(n,N());break;case"click":var o=t.onClick,i=t.onClickOutside,a=t.onClickWhenHover,s=N();s.hovering&&void 0!==a?a(n,s):void 0!==i&&i(n,s),void 0!==o&&o(n,s);break;case"mousemove":var c=C.current.hovering;C.current.hovering=_(n);var u=g.amIOnTop,l=g.setCursorClass;C.current.hovering&&!t.selected&&u(y)&&void 0!==t.onHover?(l("react-financial-charts-pointer-cursor"),T.current=!0):C.current.hovering&&t.selected&&u(y)?(l(t.interactiveCursorClass),T.current=!0):c&&!C.current.hovering&&T.current&&(T.current=!1,l(null));var f=N();C.current.hovering&&!c&&t.onHover&&t.onHover(n,f),c&&!C.current.hovering&&t.onUnHover&&t.onUnHover(n,f),t.onMouseMove&&t.onMouseMove(n,f);break;case"dblclick":var d=N();t.onDoubleClick&&t.onDoubleClick(n,d),C.current.hovering&&t.onDoubleClickWhenHover&&t.onDoubleClickWhenHover(n,d);break;case"pan":C.current.hovering=!1,t.onPan&&t.onPan(n,N());break;case"panend":t.onPanEnd&&t.onPanEnd(n,N());break;case"dragstart":if(W().draggable)(0,g.amIOnTop)(y)&&(D.current=!0,void 0!==t.onDragStart&&t.onDragStart(n,N()));break;case"drag":D.current&&t.onDrag&&t.onDrag(n,N());break;case"dragend":D.current&&t.onDragComplete&&t.onDragComplete(n,N()),D.current=!1;break;case"dragcancel":if(D.current||T.current)(0,g.setCursorClass)(null);break;default:return}})),O=As((function(t,e,n,r){e&&P(e,C.current),M.current=!0,F(t,r),M.current=!1})),L=(0,o.useCallback)((function(){if(void 0!==l&&void 0!==u){var t=N(),e=null==w?void 0:w();if(void 0!==e){var n=u(e);void 0!==n&&(E(n,t),l(n,t),I(n,t))}}}),[u,l,w,E,I,N]),R=As((function(e){var n=e.trigger,r=e.force,o=void 0!==r&&r,i=Ts[n]||n;(t.drawOn.indexOf(i)>-1||t.selected||o)&&(void 0===l?x():L())})),W=As((function(){return{draggable:!!(C.current.hovering&&(t.selected||t.enableDragOnHover)),panEnabled:!t.disablePan}}));return(0,o.useEffect)((function(){var e=g.setCursorClass;t.selected&&C.current.hovering?(T.current=!0,e(t.interactiveCursorClass)):(T.current=!1,e(null))}),[t.selected]),(0,o.useEffect)((function(){void 0===l||M.current||(P(void 0,C.current),L())})),(0,o.useEffect)((function(){return b(y,{chartId:m,clip:i,edgeClip:s,listener:O,draw:R,getPanConditions:W}),function(){k(y),T.current&&g.setCursorClass(null)}}),[m,y,s,i]),void 0!==l||void 0===f?null:(0,A.jsx)("g",{style:js(m,i),children:f(N())})}))),_s=["refComp","drawOn"],Es=Array.isArray,Is=["drag","dragend"],Fs=function(t,e,n,r,o){t.beginPath(),t.rect(e,n,r,o),t.clip()},Os=[];const Ls=function(t){var e=t.refComp,n=t.drawOn,r=void 0===n?Os:n,i=D(t,_s),a=(0,o.useContext)(Xo),s=i.clip,c=i.edgeClip,u=i.disablePan,l=a.chartId,f=a.ratio,d=a.margin,h=d.left,p=d.right,v=d.top,g=(0,o.useCallback)((function(t,e){var n=Bo(e.chartConfigs,l);if(n){t.save();var r=n.width,o=n.height,i=n.origin,a=.5*f,u=a+i[0]+h,d=a+i[1]+v;t.setTransform(1,0,0,1,0,0),t.scale(f,f),c&&Fs(t,-1,d-10,r+h+p+1,o+20),t.translate(u,d),s&&Fs(t,-1,-1,r+1,o+1)}}),[h,p,v,f,s,c,l]),m=(0,o.useCallback)((function(t,e){t.restore()}),[]),y=(0,o.useCallback)((function(t,e){var n=(t||e).chartConfig;if(n&&Es(n)&&(e.chartConfig=n.find((function(t){return t.id===l}))),Zn(e.chartConfig)){var r=e.chartConfig.origin,o=r[0],i=r[1],a=t.mouseXY,s=t.startPos;if(Zn(a)){var c=a[0],u=a[1];e.mouseXY=[c-o,u-i]}if(Zn(s)){var f=s[0],d=s[1];e.startPos=[f-o,d-i]}}}),[l]),x=(0,o.useCallback)((function(t,e){if(u&&("mousemove"===t||"click"===t))return!0;var n=(e||{}).currentCharts;return!Zn(n)||-1!==Is.indexOf(t)||n.indexOf(l)>-1}),[u,l]);return(0,A.jsx)(Ns,S({},i,{ref:e,drawOn:r,preCanvasDraw:g,postCanvasDraw:m,updateMoreProps:y,shouldTypeProceed:x}))};var Rs=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).ref=(0,o.createRef)(),e.clicked=!1,e.dragHappened=!1,e.state={startPosition:null},e.handleDragEnd=function(t){var n=i(e.ref);if(n){if(!e.dragHappened)if(e.clicked){var r=la(t,n),o=e.props.onDoubleClick;void 0!==o&&o(t,r)}else e.clicked=!0,setTimeout((function(){e.clicked=!1}),300);ca(or(n)).on(sr,null).on(cr,null).on(ur,null).on(lr,null),e.setState({startPosition:null})}},e.handleDrag=function(t){var n=i(e.ref);if(n){e.dragHappened=!0;var r=e.props,o=r.getMouseDelta,a=r.inverted,s=e.state.startPosition;if(null!==s){var c=s.startScale,u=o(s.startXY,la(t,n)),l=(0,Dn.J6)(c.range());if(void 0===l)return;var f=c.range().map((function(t){return a?t-rr(t-l)*u:t+rr(t-l)*u})),d=f.map(c.invert);if(rr(Gn(c.range())-Jn(c.range()))===rr(Gn(f)-Jn(f))){var h=e.props.axisZoomCallback;void 0!==h&&h(d)}}}},e.handleDragStartTouch=function(t){var n=i(e.ref);if(n){e.dragHappened=!1;var r=e.props.getScale();if(1===t.touches.length&&void 0!==r.invert){ca(or(n)).on(ur,e.handleDrag).on(lr,e.handleDragEnd);var o=hr(fr(t.touches[0]),t);e.setState({startPosition:{startScale:r,startXY:o}})}}},e.handleDragStartMouse=function(t){t.preventDefault();var n=i(e.ref);if(n){e.dragHappened=!1;var r=e.props.getScale();if(void 0!==r.invert){ca(or(n)).on(sr,e.handleDrag,!1).on(cr,e.handleDragEnd,!1);var o=pr(t);e.setState({startPosition:{startXY:o,startScale:r}})}}},e.handleRightClick=function(t){t.stopPropagation(),t.preventDefault();var n=i(e.ref),r=e.props.onContextMenu;if(n&&r){var o=n.getBoundingClientRect(),a=pr(t,o);ca(or(n)).on(sr,null).on(cr,null),e.setState({startPosition:null}),r(t,a)}},e}return Sn(e,t),e.prototype.render=function(){var t=this.props,e=t.bg,n=t.className,r=t.zoomCursorClassName,o=null===this.state.startPosition?Ca:r||"";return(0,A.jsx)("rect",{ref:this.ref,className:ja+" "+o+" "+n,x:e.x,y:e.y,height:e.h,width:e.w,opacity:0,onContextMenu:this.handleRightClick,onMouseDown:this.handleDragStartMouse,onTouchStart:this.handleDragStartTouch})},e}(o.Component);Rs.defaultProps={inverted:!0,className:""};const Ws=Rs;var zs=function(t){return t.axes},Us=function(t){return t.mouseCoord},Hs=n(623),Bs=["orient","innerTickSize","tickFormat","tickPadding","tickLabelFill","tickStrokeWidth","tickStrokeDasharray","fontSize","fontFamily","fontWeight","showTicks","showTickLabel","ticks","tickValues","tickStrokeStyle","tickInterval","tickIntervalFunction"],Xs=function(t,e){var n=e.ticks,r=e.tickStrokeStyle;void 0!==r&&(t.strokeStyle=r,t.fillStyle=r),n.forEach((function(n){!function(t,e,n){var r=n.tickStrokeWidth,o=n.tickStrokeDasharray;t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=r;var i=Xn(o);t.setLineDash(i),t.stroke()}(t,n,e)}))},Ys=function(t,e,n){e.ticks.forEach((function(r){!function(t,e,n,r){var o=n.orient,i=n.gridLinesStrokeWidth,a=n.gridLinesStrokeStyle,s=n.gridLinesStrokeDasharray,c=r.chartConfig,u=c.height,l=c.width;void 0!==a&&(t.strokeStyle=a),t.beginPath();var f="top"===o||"left"===o?1:-1;switch(o){case"top":case"bottom":t.moveTo(e.x1,0),t.lineTo(e.x2,f*u);break;default:t.moveTo(0,e.y1),t.lineTo(f*l,e.y2)}t.lineWidth=i;var d=Xn(s);t.setLineDash(d),t.stroke()}(t,r,e,n)}))},Vs=["pan"];const Zs=function(t){var e=t.getScale,n=t.edgeClip,r=t.zoomEnabled,a=t.zoomCursorClassName,s=t.bg,c=t.className,u=t.inverted,l=t.transform,f=t.getMouseDelta,d=t.axisZoomCallback,h=t.onContextMenu,p=t.onDoubleClick,v=(0,o.useRef)(),g=(0,o.useCallback)((function(){return e(i(v).getMoreProps())}),[e]),m=As((function(n,r){!function(t,e){t.save(),t.translate(e[0],e[1])}(n,l);var o=function(t,e){var n,r=t.orient,o=t.innerTickSize,i=void 0===o?4:o,a=t.tickFormat,s=t.tickPadding,c=void 0===s?4:s,u=t.tickLabelFill,l=t.tickStrokeWidth,f=t.tickStrokeDasharray,d=t.fontSize,h=void 0===d?12:d,p=t.fontFamily,v=t.fontWeight,g=t.showTicks,m=t.showTickLabel,y=t.ticks,x=t.tickValues,w=t.tickStrokeStyle,b=t.tickInterval,k=t.tickIntervalFunction,C=D(t,Bs);if(void 0!==x)n="function"==typeof x?x(e.domain()):x;else if(void 0!==b){var A=e.domain(),M=A[0],T=A[1],P=(0,Dn.w6)(M,T,(T-M)/b);n=k?k(M,T,b):P}else n=void 0!==e.ticks?e.ticks(y):e.domain();var j,N,_,E,I=void 0===a?e.tickFormat(y):function(t){return a(t)||""},F="top"===r||"left"===r?-1:1,O=Math.max(i,0)+c;if("bottom"===r||"top"===r){var L=F*i,R=F*O;if(N=F<0?"0em":".71em",_=F<0?0:.71*h,E="middle",j=n.map((function(t){var n=Math.round(e(t));return{value:t,x1:n,y1:0,x2:n,y2:L,labelX:n,labelY:R}})),g){for(var W=j.map((function(t){return{id:t.value,value:t.value,fy:t.y2,origX:t.x1}})),z=(0,Hs.A4)(W).force("x",(0,Hs.RU)((function(t){return t.origX})).strength(1)).force("collide",(0,Hs.Hh)(22)).stop(),U=0;U<100;++U)z.tick();j=(0,Dn.$R)(j,W).map((function(t){var e=t[0],n=t[1];return Math.abs(n.x-n.origX)>.01?S({},e,{x2:n.x,labelX:n.x}):e}))}}else j=n.map((function(t){var n=Math.round(e(t));return{value:t,x1:0,y1:n,x2:F*i,y2:n,labelX:F*O,labelY:n}})),N=".32em",_=.32*h,E=F<0?"end":"start";return S({orient:r,ticks:j,scale:e,tickStrokeStyle:w,tickLabelFill:u||w,tickStrokeWidth:l,tickStrokeDasharray:f,dy:N,canvas_dy:_,textAnchor:E,fontSize:h,fontFamily:p,fontWeight:v,format:I,showTickLabel:m},C)}(t,e(r));t.showTicks&&Xs(n,o),t.showGridLines&&Ys(n,o,r),t.showTickLabel&&function(t,e){var n,r=e.textAnchor,o=e.tickLabelFill;t.font=(n=e).fontWeight+" "+n.fontSize+"px "+n.fontFamily,void 0!==o&&(t.fillStyle=o),t.textAlign="middle"===r?"center":r,e.ticks.forEach((function(n){!function(t,e,n){var r=n.canvas_dy,o=(0,n.format)(e.value);t.beginPath(),t.fillText(o,e.labelX,e.labelY+r)}(t,n,e)}))}(n,o),t.showDomain&&function(t,e){var n=e.orient,r=e.outerTickSize,o=e.strokeStyle,i=e.strokeWidth,a=e.range,s="top"===n||"left"===n?-1:1,c="bottom"===n||"top"===n;t.lineWidth=i,t.strokeStyle=o,t.beginPath();var u=Jn(a),l=Gn(a),f=s*r;c?(t.moveTo(u,f),t.lineTo(u,0),t.lineTo(l,0),t.lineTo(l,f)):(t.moveTo(f,u),t.lineTo(0,u),t.lineTo(0,l),t.lineTo(f,l)),t.stroke()}(n,t),n.restore()}));return(0,A.jsxs)("g",{transform:Yn(l),children:[r?(0,A.jsx)(Ws,{className:c,zoomCursorClassName:a,inverted:u,bg:s,axisZoomCallback:d,getScale:g,getMouseDelta:f,onContextMenu:h,onDoubleClick:p}):null,(0,A.jsx)(Ls,{refComp:v,clip:!1,edgeClip:n,canvasToDraw:zs,canvasDraw:m,drawOn:Vs})]})};var $s=["getMouseDelta","outerTickSize","showTicks","strokeStyle","strokeWidth","zoomEnabled"],qs=function(t){return t<400?2:t<500?6:8},Gs=function(t){var e,n,r,o=t.xScale,i=t.width;return o.invert?(r=(n=[0,i]).map((e=o).invert),e.copy().domain(r).range(n)):o},Ks=function(t){var e=(0,o.useContext)(Xo),n=e.xAxisZoom,r=e.chartConfig,i=r.width,a=r.height,s=t.getMouseDelta,c=t.outerTickSize,u=t.showTicks,l=t.strokeStyle,f=t.strokeWidth,d=t.zoomEnabled,h=D(t,$s),p=function(t,e,n){var r=t.axisAt,o=t.xZoomHeight,i=t.orient,a=t.ticks,s="top"===i?-o:0,c=o,u=e,l=function(t,e){return"top"===t?0:"bottom"===t?e:"middle"===t?e/2:t}(r,n);return{bg:{x:0,y:s,h:c,w:u},transform:[0,l],range:[0,e],getScale:Gs,ticks:null!=a?a:qs(e)}}(t,i,a);return(0,A.jsx)(Zs,S({},h,p,{getMouseDelta:s,outerTickSize:c,showTicks:u,strokeStyle:l,strokeWidth:f,zoomEnabled:d&&u,axisZoomCallback:n}))},Js="#000000";Ks.defaultProps={axisAt:"bottom",className:_a,domainClassName:Ia,fontFamily:Ja,fontSize:12,fontWeight:400,getMouseDelta:function(t,e){return t[0]-e[0]},gridLinesStrokeStyle:"#e2e4ec",gridLinesStrokeWidth:1,orient:"bottom",outerTickSize:0,innerTickSize:4,showDomain:!0,showGridLines:!1,showTicks:!0,showTickLabel:!0,strokeStyle:Js,strokeWidth:1,tickPadding:4,tickLabelFill:Js,tickStrokeStyle:Js,xZoomHeight:25,zoomEnabled:!0,zoomCursorClassName:Ma};const Qs=Ks;var tc=["getMouseDelta","outerTickSize","strokeStyle","strokeWidth"],ec=["zoomEnabled"],nc=function(t){return t<300?2:t<500?6:8},rc=function(t){var e=t.chartConfig,n=e.yScale,r=e.flipYScale,o=e.height;if(n.invert){var i=r?[0,o]:[o,0],a=i.map(n.invert);return n.copy().domain(a).range(i)}return n},oc=function(t){var e=(0,o.useContext)(Xo),n=e.chartId,r=e.chartConfig,i=r.width,a=r.height,s=r.yPan,c=e.yAxisZoom,u=(0,o.useCallback)((function(t){c(n,t)}),[n,c]),l=t.getMouseDelta,f=t.outerTickSize,d=t.strokeStyle,h=t.strokeWidth,p=D(t,tc),v=function(t,e,n,r){var o=t.axisAt,i=t.ticks,a=t.yZoomWidth,s=t.orient,c=function(t,e){return"left"===t?0:"right"===t?e:"middle"===t?e/2:t}(o,e);return{transform:[c,0],range:[0,n],bg:{x:"left"===s?-a:0,y:0,h:n,w:a},getScale:rc,ticks:null!=i?i:nc(n),zoomEnabled:r}}(t,i,a,s),g=v.zoomEnabled,m=D(v,ec);return(0,A.jsx)(Zs,S({},p,m,{edgeClip:!0,outerTickSize:f,strokeStyle:d,strokeWidth:h,zoomEnabled:t.zoomEnabled&&g,getMouseDelta:l,axisZoomCallback:u}))},ic="#000000";oc.defaultProps={axisAt:"right",className:Ea,domainClassName:Ia,fontFamily:Ja,fontSize:12,fontWeight:400,getMouseDelta:function(t,e){return t[1]-e[1]},gridLinesStrokeStyle:"#e2e4ec",gridLinesStrokeWidth:1,innerTickSize:4,outerTickSize:0,orient:"right",showDomain:!0,showGridLines:!1,showTicks:!0,showTickLabel:!0,strokeStyle:ic,strokeWidth:1,tickPadding:4,tickLabelFill:ic,tickStrokeStyle:ic,yZoomWidth:40,zoomEnabled:!0,zoomCursorClassName:Aa};const ac=oc;var sc=n(859),cc=function(){},uc=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).isHover=function(t){var n=e.props,r=n.yAccessor,o=n.hoverTolerance;if(!n.highlightOnHover)return!1;var i=t.mouseXY,a=t.currentItem,s=t.xScale,c=t.xAccessor,u=t.plotData,l=t.chartConfig,f=l.yScale,d=l.origin,h=i[0],p=i[1],v=o,g=tr(u,s.invert(h),c),m=g.left,y=g.right;if(m===y){var x=f(r(a))+d[1],w=s(c(a))+d[0];return Math.pow(h-w,2)+Math.pow(p-x,2)<Math.pow(v,2)}var b=u[m],k=u[y],C=s(c(b))+d[0],S=f(r(b))+d[1],D=s(c(k))+d[0],A=(f(r(k))+d[1]-S)/(D-C),M=-1*A*C+S,T=Math.round(A*h+M);return p>=T-v&&p<=T+v},e.drawOnCanvas=function(t,n){var r=e.props,o=r.yAccessor,i=r.stroke,a=r.strokeOpacity,s=r.strokeWidth,c=r.hoverStrokeWidth,u=r.defined,l=r.strokeDasharray,f=r.interpolation,d=r.canvasClip,h=r.connectNulls,p=n.hovering,v=n.xScale,g=n.xAccessor,m=n.plotData,y=n.chartConfig.yScale;d&&(t.save(),d(t,n)),t.lineWidth=p?c:s,t.strokeStyle=qn(i,a),t.setLineDash(Bn(l).split(","));var x=(0,sc.jv)().x((function(t){return Math.round(v(g(t)))})).y((function(t){return Math.round(y(o(t)))}));Zn(f)&&x.curve(f),h||x.defined((function(t){return u(o(t))})),t.beginPath(),x.context(t)(m),t.stroke(),d&&t.restore()},e.renderSVG=function(t){var n=e.props,r=n.yAccessor,o=n.stroke,i=n.strokeOpacity,a=n.strokeWidth,s=n.strokeDasharray,c=n.hoverStrokeWidth,u=n.defined,l=n.connectNulls,f=n.interpolation,d=n.style,h=t.xAccessor,p=t.xScale,v=t.plotData,g=t.hovering,m=t.chartConfig.yScale,y=(0,sc.jv)().x((function(t){return Math.round(p(h(t)))})).y((function(t){return Math.round(m(r(t)))}));Zn(f)&&y.curve(f),l||y.defined((function(t){return u(r(t))}));var x=y(v),w=e.props,b=w.fill,k=w.className;return(0,A.jsx)("path",{style:d,className:k+" "+(o?"":Ga),d:x,stroke:o,strokeOpacity:i,strokeWidth:g?c:a,strokeDasharray:Bn(s),fill:b})},e}return Sn(e,t),e.prototype.render=function(){var t=this.props,e=t.highlightOnHover,n=t.onHover,r=t.onUnHover,o=e||n||r?{isHover:this.isHover,drawOn:["mousemove","pan"],canvasToDraw:Us}:{drawOn:["pan"],canvasToDraw:zs};return(0,A.jsx)(Ls,S({svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,onClickWhenHover:this.props.onClick,onDoubleClickWhenHover:this.props.onDoubleClick,onContextMenuWhenHover:this.props.onContextMenu,onHover:this.props.onHover,onUnHover:this.props.onUnHover},o))},e}(o.Component);uc.defaultProps={className:qa,strokeWidth:1,strokeOpacity:1,hoverStrokeWidth:4,fill:"none",stroke:"#4682b4",strokeDasharray:"Solid",defined:function(t){return!isNaN(t)},hoverTolerance:6,highlightOnHover:!1,connectNulls:!1,onClick:cc,onDoubleClick:cc,onContextMenu:cc};const lc=uc;var fc=function(t,e){return Math.round(t(e))},dc=function(t,e,n,r,o,i,a){return"horizontal"===t?{x1:0,y1:fc(n,o),x2:i,y2:fc(n,o)}:{x1:fc(e,r),y1:0,x2:fc(e,r),y2:a}},hc=["pan"],pc=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).renderSVG=function(t){var n=e.props,r=n.type,o=n.className,i=n.opacity,a=n.stroke,s=n.strokeWidth,c=n.strokeDasharray,u=n.yValue,l=n.xValue,f=t.width,d=t.height,h=t.xScale,p=t.chartConfig.yScale,v=dc(r,h,p,l,u,f,d);return(0,A.jsx)("line",S({className:o,strokeDasharray:Bn(c),stroke:a,strokeWidth:s,strokeOpacity:i},v))},e.drawOnCanvas=function(t,n){var r=e.props,o=r.type,i=r.opacity,a=r.stroke,s=r.strokeWidth,c=r.strokeDasharray,u=r.yValue,l=r.xValue,f=n.xScale,d=n.chartConfig,h=d.yScale,p=d.width,v=d.height,g=dc(o,f,h,l,u,p,v),m=g.x1,y=g.y1,x=g.x2,w=g.y2;t.beginPath(),t.strokeStyle=qn(a,i),t.lineWidth=s,t.setLineDash(function(t){return Bn(t).split(",")}(c)),t.moveTo(m,y),t.lineTo(x,w),t.stroke()},e}return Sn(e,t),e.prototype.render=function(){return(0,A.jsx)(Ls,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:zs,drawOn:hc})},e}(o.Component);pc.defaultProps={type:"horizontal",className:qa,opacity:.5,stroke:"#000000",strokeWidth:1,strokeDasharray:"Solid"};const vc=pc;const gc=function(t){var e=t.children;return(0,A.jsx)(Ls,{svgDraw:e})};var mc=function(){return"rsi-clip-"+String(Math.round(1e4*Math.random()*1e4))},yc=function(t){return{clipPath:"url(#"+t+")"}},xc=function(t){function e(e){var n;return(n=t.call(this,e)||this).topAndBottomClip=function(t,e){var r=n.props,o=r.overSold,i=r.overBought,a=e.chartConfig,s=a.yScale,c=a.width;t.beginPath(),t.rect(0,s(o),c,s(i)-s(o)),t.clip()},n.mainClip=function(t,e){var r=n.props,o=r.overSold,i=r.overBought,a=e.chartConfig,s=a.yScale,c=a.width,u=a.height;t.beginPath(),t.rect(0,0,c,s(o)),t.rect(0,s(i),c,u-s(i)),t.clip()},n.renderClip=function(t){var e=n.props,r=e.overSold,o=e.overBought,i=t.chartConfig,a=i.yScale,s=i.width,c=i.height;return(0,A.jsxs)("defs",{children:[(0,A.jsx)("clipPath",{id:n.clipPathId1,children:(0,A.jsx)("rect",{x:0,y:a(r),width:s,height:a(o)-a(r)})}),(0,A.jsxs)("clipPath",{id:n.clipPathId2,children:[(0,A.jsx)("rect",{x:0,y:0,width:s,height:a(r)}),(0,A.jsx)("rect",{x:0,y:a(o),width:s,height:c-a(o)})]})]})},n.clipPathId1=mc(),n.clipPathId2=mc(),n}return Sn(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=t.opacity,r=t.stroke,o=t.strokeDasharray,i=t.strokeWidth,a=t.yAccessor,s=t.overSold,c=t.middle,u=t.overBought,l=yc(this.clipPathId1),f=yc(this.clipPathId2);return(0,A.jsxs)("g",{className:e,children:[(0,A.jsx)(gc,{children:this.renderClip}),(0,A.jsx)(vc,{opacity:n.top,stroke:r.top,strokeWidth:i.top,strokeDasharray:o.top,yValue:s}),(0,A.jsx)(vc,{opacity:n.middle,stroke:r.middle,strokeWidth:i.middle,strokeDasharray:o.middle,yValue:c}),(0,A.jsx)(vc,{opacity:n.bottom,stroke:r.bottom,strokeWidth:i.bottom,strokeDasharray:o.bottom,yValue:u}),(0,A.jsx)(lc,{style:l,canvasClip:this.topAndBottomClip,className:e,yAccessor:a,stroke:r.insideThreshold||r.line,strokeWidth:i.insideThreshold,strokeDasharray:o.line}),(0,A.jsx)(lc,{style:f,canvasClip:this.mainClip,className:e,yAccessor:a,stroke:r.outsideThreshold||r.line,strokeWidth:i.outsideThreshold,strokeDasharray:o.line})]})},e}(o.Component),wc="ShortDash";xc.defaultProps={className:Ra,stroke:{line:"#000000",top:"#b8b2bb",middle:"#8795a1",bottom:"#b8c2cc",outsideThreshold:"#b300b3",insideThreshold:"#ffccff"},opacity:{top:1,middle:1,bottom:1},strokeDasharray:{line:"Solid",top:wc,middle:wc,bottom:wc},strokeWidth:{outsideThreshold:1,insideThreshold:1,top:1,middle:1,bottom:1},overSold:70,middle:50,overBought:30};const bc=xc;var kc=n(654),Cc=function(t){return t.map((function(t,e){var n=t.wick,r=n.stroke,o=n.x,i=n.y1,a=n.y2,s=n.y3,c=n.y4;return(0,A.jsx)("path",{className:t.className,stroke:r,d:"M"+o+","+i+" L"+o+","+a+" M"+o+","+s+" L"+o+","+c},e)}))},Sc=function(t,e){var n=t.opacity,r=t.candleStrokeWidth;return e.map((function(t,e){return t.width<=1?(0,A.jsx)("line",{className:t.className,x1:t.x,y1:t.y,x2:t.x,y2:t.y+t.height,stroke:t.fill},e):0===t.height?(0,A.jsx)("line",{stroke:t.fill,x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height},e):(0,A.jsx)("rect",{className:t.className,fillOpacity:n,fill:t.fill,stroke:t.stroke,strokeWidth:r,x:t.x,y:t.y,width:t.width,height:t.height},e)}))},Dc=function(t,e,n,r,o){for(var i=t.classNames,a=t.yAccessor,s=t.fill,c=t.stroke,u=t.wickStroke,l=Un(u),f=Un(i),d=Un(s),h=Un(c),p=.5*Un(t.width)(t,{xScale:n,xAccessor:e,plotData:o}),v=p>.7?Math.round(p):Math.floor(p),g=[],m=0;m<o.length;m++){var y=o[m],x=m>0?o[m-1]:{};if(Zn(a(y).close)){var w=Math.round(n(e(y))),b=a(y),k=a(x),C=Math.round(r(Math.max(b.open,b.close))),S=Math.round(Math.abs(r(b.open)-r(b.close)));g.push({x:w-v,y:C,wick:{stroke:l(b,k),x:w,y1:Math.round(r(b.high)),y2:C,y3:C+S,y4:Math.round(r(b.low))},height:S,width:2*v,className:f(b),fill:d(b,k),stroke:h(b,k),direction:b.close-b.open})}}return g},Ac=["pan"],Mc=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).drawOnCanvas=function(t,n){!function(t,e,n){var r=e.opacity,o=e.candleStrokeWidth,i=n.xAccessor,a=n.xScale,s=n.plotData,c=n.chartConfig.yScale,u=Dc(e,i,a,c,s);(0,kc.b1)().key((function(t){return t.wick.stroke})).entries(u).forEach((function(e){var n=e.key,r=e.values;t.strokeStyle=n,t.fillStyle=n,r.forEach((function(e){var n=e.wick;t.fillRect(n.x-.5,n.y1,1,n.y2-n.y1),t.fillRect(n.x-.5,n.y3,1,n.y4-n.y3)}))})),(0,kc.b1)().key((function(t){return t.stroke})).key((function(t){return t.fill})).entries(u).forEach((function(e){var n=e.key,i=e.values;"none"!==n&&(t.strokeStyle=n,t.lineWidth=o),i.forEach((function(e){var o=e.key,i=e.values,a=Kn(i).width<=1?o:qn(o,r);t.fillStyle=a,i.forEach((function(e){e.width<=1?t.fillRect(e.x-.5,e.y,1,e.height):0===e.height?t.fillRect(e.x,e.y-.5,e.width,1):(t.fillRect(e.x,e.y,e.width,e.height),"none"!==n&&t.strokeRect(e.x,e.y,e.width,e.height))}))}))}))}(t,e.props,n)},e.renderSVG=function(t){var n=e.props,r=n.className,o=n.wickClassName,i=n.candleClassName,a=t.xAccessor,s=t.xScale,c=t.plotData,u=t.chartConfig.yScale,l=Dc(e.props,a,s,u,c);return(0,A.jsxs)("g",{className:r,children:[(0,A.jsx)("g",{className:o,children:Cc(l)},"wicks"),(0,A.jsx)("g",{className:i,children:Sc(e.props,l)},"candles")]})},e}return Sn(e,t),e.prototype.render=function(){var t=this.props.clip;return(0,A.jsx)(Ls,{clip:t,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:zs,drawOn:Ac})},e}(o.Component);Mc.defaultProps={className:za,wickClassName:Ua,candleClassName:Ha,yAccessor:function(t){return{open:t.open,high:t.high,low:t.low,close:t.close}},classNames:function(t){return t.close>t.open?Ba:Xa},width:Qn,wickStroke:"#000000",fill:function(t){return t.close>t.open?"#6ba583":"#ff0000"},stroke:"#000000",candleStrokeWidth:.5,widthRatio:.8,opacity:.5,clip:!0};const Tc=Mc;var Pc=function(t,e,n,r,o,i,a){var s=Un(t);return(0,sc.SO)().defined((function(t){return e(r(t))})).x((function(t){return Math.round(o(n(t)))})).y0((function(t){return s(i,t,a)})).y1((function(t){return Math.round(i(r(t)))}))},jc=["pan"],Nc=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).drawOnCanvas=function(t,n){var r=e.props,o=r.yAccessor,i=r.defined,a=r.base,s=r.canvasGradient,c=r.fill,u=r.stroke,l=r.opacity,f=r.interpolation,d=r.canvasClip,h=n.xScale,p=n.plotData,v=n.xAccessor,g=n.chartConfig.yScale;d&&(t.save(),d(t,n)),t.fillStyle=null!=s?s(n,t):qn(c,l),t.strokeStyle=u,t.beginPath();var m=Pc(a,i,v,o,h,g,n).context(t);Zn(f)&&m.curve(f),m(p),t.fill(),d&&t.restore()},e.renderSVG=function(t){var n=e.props,r=n.yAccessor,o=n.defined,i=n.base,a=n.style,s=n.className,c=n.stroke,u=n.fill,l=n.opacity,f=n.interpolation,d=t.plotData,h=t.xScale,p=t.xAccessor,v=t.chartConfig.yScale,g=Pc(i,o,p,r,h,v,t);Zn(f)&&g.curve(f);var m=g(d),y=s.concat(Zn(c)?"":" "+Ga);return(0,A.jsx)("path",{className:y,style:a,stroke:c,fill:qn(u,l),d:m})},e}return Sn(e,t),e.prototype.render=function(){return(0,A.jsx)(Ls,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:zs,drawOn:jc})},e}(o.Component);Nc.defaultProps={className:qa,fill:"none",opacity:1,defined:function(t){return!isNaN(t)},base:function(t){return Jn(t.range())}};const _c=Nc;var Ec=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).yAccessorForTop=function(t){var n=(0,e.props.yAccessor)(t);return n&&n.top},e.yAccessorForMiddle=function(t){var n=(0,e.props.yAccessor)(t);return n&&n.middle},e.yAccessorForBottom=function(t){var n=(0,e.props.yAccessor)(t);return n&&n.bottom},e.yAccessorForScalledBottom=function(t,n){var r=(0,e.props.yAccessor)(n);return t(r&&r.bottom)},e}return Sn(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=t.areaClassName,r=t.opacity,o=t.stroke,i=t.fill;return(0,A.jsxs)("g",{className:e,children:[(0,A.jsx)(lc,{yAccessor:this.yAccessorForTop,stroke:o.top,fill:"none"}),(0,A.jsx)(lc,{yAccessor:this.yAccessorForMiddle,stroke:o.middle,fill:"none"}),(0,A.jsx)(lc,{yAccessor:this.yAccessorForBottom,stroke:o.bottom,fill:"none"}),(0,A.jsx)(_c,{className:n,yAccessor:this.yAccessorForTop,base:this.yAccessorForScalledBottom,opacity:r,stroke:"none",fill:i})]})},e}(o.Component);Ec.defaultProps={className:Oa,areaClassName:La,opacity:.2};const Ic=Ec;var Fc=Array.isArray,Oc=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=[];function o(t){var e=r.map((function(e,n){var r=t.map((function(t){var n=[0,t[e]];return n.data=t,n}));return r.key=e,r.index=n,r}));return e}return o.keys=function(t){return e.length?(r=t,o):r},o},Lc=function(t){return Fc(t)?t:[t]},Rc=function(t,e,n,r,o,i,a,s){var c=t.yAccessor,u=t.swapScales;return function(t,e,n,r,o,i,a,s){void 0===a&&(a=Oc),void 0===s&&(s=On);var c=t.baseAt,u=t.className,l=t.fill,f=t.stroke,d=t.spaceBetweenBar,h=void 0===d?0:d,p=Un(u),v=Un(l),g=Un(c),m=Un(t.width)(t,{xScale:r,xAccessor:e,plotData:i}),y=Math.round(m),x=(y-h*(n.length-1))/n.length,w=1===y?0:.5*m,b=i.map((function(t){var r={appearance:{},x:e(t)};return n.forEach((function(e,n){var o="y"+n;r[o]=e(t);var i={className:p(t,n),stroke:f?v(t,n):"none",fill:v(t,n)};r.appearance[o]=i})),r})),k=n.map((function(t,e){return"y"+e})),C=a().keys(k)(b).map((function(t,e){var n=t.key;return t.map((function(t){var r=[t[0],t[1]];return r.data={x:t.data.x,i:e,appearance:t.data.appearance[n]},r}))}));return s((0,Dn.TS)(C).map((function(t){var e=o(t[1]),n=g(r,o,t.data)-o(t[1]-t[0]);return n<0&&(e+=n,n=-n),S({},t.data.appearance,{x:Math.round(r(t.data.x)-m/2),y:e,groupOffset:Math.round(w-(t.data.i>0?(x+h)*t.data.i:0)),groupWidth:Math.round(x),offset:Math.round(w),height:n,width:y})})).filter((function(t){return!isNaN(t.y)})))}(t,u?c:e,Lc(u?t.xAccessor:c),u?o:r,u?r:o,n,i,u?a:s)},Wc=function(t){return t.map((function(t){return S({},t,{x:t.y,y:t.x,height:t.width,width:t.height})}))},zc=function(t,e,n,r,o,i,a){void 0===i&&(i=On),void 0===a&&(a=Wc);var s=n.plotData,c=n.xScale,u=n.chartConfig.yScale,l=Rc(e,r,s,c,u,o,a,i);Bc(e,t,l)},Uc=function(t,e,n,r,o,i){void 0===o&&(o=On),void 0===i&&(i=Wc);var a=e.plotData,s=e.xScale,c=e.chartConfig.yScale,u=Rc(t,n,a,s,c,r,i,o);return Hc(t,u)},Hc=function(t,e){var n=t.opacity;return e.map((function(t,e){return t.width<=1?(0,A.jsx)("line",{className:t.className,stroke:t.fill,x1:t.x,y1:t.y,x2:t.x,y2:t.y+t.height},e):(0,A.jsx)("rect",{className:t.className,stroke:t.stroke,fill:t.fill,x:t.x,y:t.y,width:t.width,fillOpacity:n,height:t.height},e)}))},Bc=function(t,e,n){var r=t.stroke;(0,kc.b1)().key((function(t){return t.fill})).entries(n).forEach((function(n){var o=n.key,i=n.values;Kn(i).width>1&&(e.strokeStyle=o);var a=Kn(i).width<=1?o:qn(o,t.opacity);e.fillStyle=a,i.forEach((function(t){t.width<=1?e.fillRect(t.x-.5,t.y,1,t.height):(e.fillRect(t.x,t.y,t.width,t.height),r&&e.strokeRect(t.x,t.y,t.width,t.height))}))}))},Xc=["pan"],Yc=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).drawOnCanvas=function(t,n){var r=n.xAccessor;zc(t,e.props,n,r,sc.kn)},e.renderSVG=function(t){var n=t.xAccessor;return(0,A.jsx)("g",{children:Uc(e.props,t,n,sc.kn)})},e}return Sn(e,t),e.prototype.render=function(){var t=this.props.clip;return(0,A.jsx)(Ls,{clip:t,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:zs,drawOn:Xc})},e}(o.Component);Yc.defaultProps={baseAt:function(t,e){return Kn(e.range())},direction:"up",className:Ka,stroke:!0,fill:"#4682b4",opacity:.5,width:Qn,widthRatio:.8,clip:!0,swapScales:!1};const Vc=Yc;var Zc=function(t,e){var n=t.baseAt,r=t.fill,o=t.stroke,i=t.yAccessor,a=e.xScale,s=e.xAccessor,c=e.plotData,u=e.chartConfig.yScale,l=Un(n),f=Un(t.width)(t,{xScale:a,xAccessor:s,plotData:c}),d=Math.floor(.5*f);return c.filter((function(t){return Zn(i(t))})).map((function(t,e,n){var c=n[e-1]||t,f=i(t),h=Math.round(a(s(t)))-d,p=u(f),v=l(a,u,t)-u(f);return v<0&&(p+=v,v=-v),{x:h,y:Math.round(p),height:Math.round(v),width:2*d,fill:r(t,c),stroke:o(t,c)}}))},$c=["pan"],qc=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).drawOnCanvas=function(t,n){if(e.props.swapScales){var r=n.xAccessor;zc(t,e.props,n,r,Oc)}else{var o=Zc(e.props,n);Bc(e.props,t,o)}},e.renderSVG=function(t){if(e.props.swapScales){var n=t.xAccessor;return(0,A.jsx)("g",{children:Uc(e.props,t,n,Oc)})}var r=Zc(e.props,t);return(0,A.jsx)("g",{children:Hc(e.props,r)})},e}return Sn(e,t),e.prototype.render=function(){var t=this.props.clip;return(0,A.jsx)(Ls,{clip:t,svgDraw:this.renderSVG,canvasToDraw:zs,canvasDraw:this.drawOnCanvas,drawOn:$c})},e}(o.Component);qc.defaultProps=Vc.defaultProps;const Gc=qc;var Kc=["strokeDasharray"],Jc=function(t,e){var n=e.mouseXY,r=e.currentItem,o=e.show,i=e.height,a=e.width,s=t.customX,c=t.stroke,u=t.opacity,l=t.strokeDasharray;if(!o||$n(r))return null;var f={x1:0,x2:a,y1:n[1],y2:n[1],stroke:c,strokeDasharray:l,opacity:u},d=s(t,e);return[f,{x1:d,x2:d,y1:0,y2:i,stroke:c,strokeDasharray:l,opacity:u}]},Qc=function(t){var e=(0,o.useContext)(Cs),n=As((function(n,r){var o=Jc(t,r);if(Zn(o)){var i=e.margin,a=e.ratio,s=.5*a+i.left,c=.5*a+i.top;n.save(),n.setTransform(1,0,0,1,0,0),n.scale(a,a),n.translate(s,c),o.forEach((function(t){var e=Bn(t.strokeDasharray).split(",").map((function(t){return+t}));n.strokeStyle=qn(t.stroke,t.opacity),n.setLineDash(e),n.beginPath(),n.moveTo(t.x1,t.y1),n.lineTo(t.x2,t.y2),n.stroke()})),n.restore()}})),r=As((function(e){var n=t.className,r=Jc(t,e);return $n(r)?null:(0,A.jsx)("g",{className:Ya+" "+n,children:r.map((function(t,e){var n=t.strokeDasharray,r=D(t,Kc);return(0,A.jsx)("line",S({strokeDasharray:Bn(n)},r),e)}))})}));return(0,A.jsx)(Ns,{clip:!1,canvasDraw:n,canvasToDraw:Us,drawOn:["mousemove","pan","drag"],svgDraw:r})};Qc.defaultProps={customX:function(t,e){var n=e.xScale,r=e.xAccessor,o=e.currentItem,i=e.mouseXY;return t.snapX?Math.round(n(r(o))):i[0]},opacity:.3,snapX:!0,stroke:"#000000",strokeDasharray:"ShortDash"};const tu=Qc;function eu(t){var e,n,r=t.coordinate,o=t.show,i=t.type,a=t.orient,s=t.edgeAt,c=t.hideLine,u=t.lineStrokeDasharray,l=t.fill,f=t.opacity,d=t.fontFamily,h=t.fontSize,p=t.textFill,v=t.lineStroke,g=t.lineOpacity,m=t.stroke,y=t.strokeOpacity,x=t.strokeWidth,w=t.arrowWidth,b=t.rectWidth,k=t.rectHeight,C=t.rectRadius,S=t.x1,D=t.y1,A=t.x2,M=t.y2,T=t.dx;if(!o)return null;if(Zn(r)){var P,j,N,_;if("horizontal"===i)P=T+("right"===a?s+1:s-b-1),j=D-k/2-x,N=T+("right"===a?s+b/2:s-b/2),_=D;else{var E="bottom"===a?x-1:1-x;P=S-b/2,j=("bottom"===a?s:s-k)+E,N=S,_=("bottom"===a?s+k/2:s-k/2)+E}e={edgeXRect:P,edgeYRect:j,rectHeight:k+x,rectWidth:b,rectRadius:C,fill:l,opacity:f,arrowWidth:w,stroke:m,strokeOpacity:y,strokeWidth:x},n={edgeXText:N,edgeYText:_,textAnchor:"middle",fontFamily:d,fontSize:h,textFill:p,displayCoordinate:r}}return{coordinateBase:e,coordinate:n,orient:a,line:c?void 0:{opacity:g,stroke:v,strokeDasharray:u,x1:S,y1:D,x2:A,y2:M}}}function nu(t){var e,n,r,o=t.className,i=eu(t);if(null===i)return null;if(Zn(i.line)&&(e=(0,A.jsx)("line",{className:Va,strokeOpacity:i.line.opacity,stroke:i.line.stroke,strokeDasharray:Bn(i.line.strokeDasharray),x1:i.line.x1,y1:i.line.y1,x2:i.line.x2,y2:i.line.y2})),Zn(i.coordinateBase)){var a=i.coordinateBase,s=a.rectWidth,c=a.rectHeight,u=a.arrowWidth,l="left"===i.orient?"M0,0L0,"+c+"L"+s+","+c+"L"+(s+u)+",10L"+s+",0L0,0L0,0":"M0,"+u+"L"+u+","+c+"L"+(s+u)+","+c+"L"+(s+u)+",0L"+u+",0L0,"+u;n="left"===i.orient||"right"===i.orient?(0,A.jsx)("g",{transform:"translate("+i.coordinateBase.edgeXRect+","+i.coordinateBase.edgeYRect+")",children:(0,A.jsx)("path",{d:l,className:Za,height:c,width:s,stroke:i.coordinateBase.stroke,strokeLinejoin:"miter",strokeOpacity:i.coordinateBase.strokeOpacity,strokeWidth:i.coordinateBase.strokeWidth,fill:i.coordinateBase.fill,fillOpacity:i.coordinateBase.opacity})},1):(0,A.jsx)("rect",{className:Za,x:i.coordinateBase.edgeXRect,y:i.coordinateBase.edgeYRect,height:c,width:s,fill:i.coordinateBase.fill,opacity:i.coordinateBase.opacity},1);var f=i.coordinate,d=f.edgeXText,h=f.edgeYText,p=f.textAnchor,v=f.fontFamily,g=f.fontSize,m=f.textFill,y=f.displayCoordinate;r=(0,A.jsx)("text",{x:d,y:h,textAnchor:p,fontFamily:v,fontSize:g,dy:".32em",fill:m,children:Zn(y)?y:""},2)}return(0,A.jsxs)("g",{className:o,children:[e,n,r]})}function ru(t,e){var n=e.fontSize,r=e.fontFamily;t.font=n+"px "+r,t.textBaseline="middle";var o=eu(S({},e,{rectWidth:Math.round(t.measureText(e.coordinate).width+10)}));if(null!==o){if(Zn(o.line)){var i=Bn(o.line.strokeDasharray).split(",").map((function(t){return+t}));t.setLineDash(i),t.strokeStyle=qn(o.line.stroke,o.line.opacity),t.lineWidth=1,t.beginPath(),t.moveTo(o.line.x1,o.line.y1),t.lineTo(o.line.x2,o.line.y2),t.stroke()}if(t.setLineDash([]),Zn(o.coordinateBase)){var a=o.coordinateBase,s=a.rectWidth,c=a.rectHeight,u=a.rectRadius,l=a.arrowWidth;t.fillStyle=qn(o.coordinateBase.fill,o.coordinateBase.opacity),Zn(o.coordinateBase.stroke)&&(t.strokeStyle=qn(o.coordinateBase.stroke,o.coordinateBase.strokeOpacity),t.lineWidth=o.coordinateBase.strokeWidth);var f=o.coordinateBase.edgeXRect,d=o.coordinateBase.edgeYRect,h=c/2;t.beginPath(),"right"===o.orient?(f-=l,t.moveTo(f,d+h),t.lineTo(f+l,d),t.lineTo(f+s+l,d),t.lineTo(f+s+l,d+c),t.lineTo(f+l,d+c),t.closePath()):"left"===o.orient?(t.moveTo(f,d),t.lineTo(f+s,d),t.lineTo(f+s+l,d+h),t.lineTo(f+s,d+c),t.lineTo(f,d+c),t.closePath()):u?function(t,e,n,r,o,i){t.beginPath(),t.moveTo(e+i,n),t.lineTo(e+r-i,n),t.quadraticCurveTo(e+r,n,e+r,n+i),t.lineTo(e+r,n+o-i),t.quadraticCurveTo(e+r,n+o,e+r-i,n+o),t.lineTo(e+i,n+o),t.quadraticCurveTo(e,n+o,e,n+o-i),t.lineTo(e,n+i),t.quadraticCurveTo(e,n,e+i,n),t.closePath()}(t,f,d,s,c,3):t.rect(f,d,s,c),t.fill(),Zn(o.coordinateBase.stroke)&&t.stroke(),t.fillStyle=o.coordinate.textFill,t.textAlign="middle"===o.coordinate.textAnchor?"center":o.coordinate.textAnchor,t.fillText(o.coordinate.displayCoordinate,o.coordinate.edgeXText,o.coordinate.edgeYText)}}}const ou=function(t,e){return As((function(n){var r=e(t,n);return $n(r)?null:nu(r)}))};const iu=function(t,e){return As((function(n,r){var o=e(t,r);if($n(o))return null;ru(n,o)}))};var au=["mousemove","pan","drag"];const su=function(t){return function(e){var n=ou(e,t),r=iu(e,t);return(0,A.jsx)(Ls,{clip:!1,svgDraw:n,canvasDraw:r,canvasToDraw:Us,drawOn:au})}};var cu="#525252",uu="#ffffff",lu="Helvetica Neue, Helvetica, Arial, sans-serif",fu=su((function(t,e){var n=e.show,r=e.currentItem,o=e.chartConfig.height;if($n(r))return null;var i=t.orient,a=t.at,s=t.stroke,c=t.strokeOpacity,u=t.strokeWidth,l=t.rectRadius,f=t.rectWidth,d=t.rectHeight,h=t.fill,p=t.opacity,v=t.fontFamily,g=t.fontSize,m=t.textFill,y=(0,t.customX)(t,e),x=y.x;return{type:"vertical",hideLine:!0,edgeAt:"bottom"===a?o:0,coordinate:y.coordinate,show:n,orient:i,fill:h,opacity:p,fontFamily:v,fontSize:g,textFill:m,stroke:s,strokeOpacity:c,strokeWidth:u,rectWidth:f,rectHeight:d,rectRadius:l,arrowWidth:0,x1:x,x2:x,y1:0,y2:o}}));fu.defaultProps={fill:cu,textFill:uu,fontFamily:lu,fontSize:13,yAxisPad:0,rectWidth:80,rectHeight:20,strokeOpacity:1,strokeWidth:1,orient:"bottom",at:"bottom",opacity:1,snapX:!0,customX:function(t,e){var n=t.snapX,r=t.displayFormat,o=e.xScale,i=e.xAccessor,a=e.currentItem,s=e.mouseXY,c=e.displayXAccessor,u=n?[o(i(a)),c(a)]:[s[0],o.invert(l)],l=u[0];return{x:l,coordinate:r(u[1])}}};const du=fu;var hu=su((function(t,e){var n=t.displayFormat,r=t.yAccessor,o=e.chartConfig,i=e.currentCharts,a=e.currentItem,s=e.mouseXY,c=e.show,u=o||{},l=u.id,f=u.yScale;if($n(s)||i.indexOf(l)<0||!c||r&&!a)return null;var d=r?f(r(a)):s[1]-o.origin[1];return function(t,e,n,r){var o=r.width,i=n.orient,a=n.at,s=n.rectWidth,c=n.rectHeight,u=n.dx,l=n.fill,f=n.opacity,d=n.fontFamily,h=n.fontSize,p=n.textFill,v=n.arrowWidth;return{coordinate:"NaNundefined"===e?"no data":e,show:!0,type:"horizontal",hideLine:!0,edgeAt:"right"===a?o:0,orient:i,fill:l,opacity:f,fontFamily:d,fontSize:h,textFill:p,stroke:n.stroke,strokeOpacity:n.strokeOpacity,strokeWidth:n.strokeWidth,rectWidth:s,rectHeight:c,arrowWidth:v,dx:u,x1:0,x2:o,y1:t,y2:t}}(d,n(f.invert(d)),t,e)}));hu.defaultProps={fill:cu,textFill:uu,fontFamily:lu,fontSize:13,yAxisPad:0,rectWidth:50,rectHeight:20,orient:"left",at:"left",dx:0,arrowWidth:10,opacity:1,strokeOpacity:1,strokeWidth:1};const pu=hu;var vu=["className","fontFamily","fontSize","children"];const gu=function(t){var e=t.className,n=void 0===e?pa:e,r=t.fontFamily,o=void 0===r?"-apple-system, system-ui, 'Helvetica Neue', Ubuntu, sans-serif":r,i=t.fontSize,a=void 0===i?11:i,s=t.children,c=D(t,vu);return(0,A.jsx)("text",S({className:n,fontFamily:o,fontSize:a},c,{children:s}))};var mu=["className","fill","children"];const yu=function(t){var e=t.className,n=void 0===e?va:e,r=t.fill,o=void 0===r?"#4682b4":r,i=t.children,a=D(t,mu);return(0,A.jsx)("tspan",S({className:n,fill:o},a,{children:i}))};var xu=["mousemove"],wu=function(t){var e=As((function(e){var n,r=t.onClick,o=t.displayFormat,i=t.yAccessor,a=t.options,s=t.origin,c=t.textFill,u=t.labelFill,l=t.labelFontWeight,f=t.className,d=t.displayValuesFor,h=t.displayInit,p=t.fontFamily,v=t.fontSize,g=t.fontWeight,m=e.chartConfig,y=m.width,x=m.height,w=e.fullData,b=null!=(n=d(t,e))?n:Gn(w),k=h,C=h,S=h;if(void 0!==b){var D=i(b);void 0!==D&&(k=o(D.top),C=o(D.middle),S=o(D.bottom))}var M=Un(s)(y,x),T=M[0],P=M[1],j="BB("+a.sourcePath+", "+a.windowSize+", "+a.multiplier+", "+a.movingAverageType+")",N=k+", "+C+", "+S,_=Yn([T,P]);return(0,A.jsx)("g",{transform:_,className:f,onClick:r,children:(0,A.jsxs)(gu,{x:0,y:0,fontFamily:p,fontSize:v,fontWeight:g,children:[(0,A.jsx)(yu,{fill:u,fontWeight:l,children:j}),(0,A.jsx)("tspan",{x:0,dy:15,fill:c,children:N})]})})}));return(0,A.jsx)(Ls,{clip:!1,svgDraw:e,drawOn:xu})};wu.defaultProps={className:ma,displayFormat:(0,Wo.WU)(".2f"),displayValuesFor:function(t,e){return e.currentItem},displayInit:"n/a",origin:[8,8],yAccessor:function(t){return t.bb}};const bu=wu;const ku=function(t){var e=t.color,n=t.displayName,r=t.fontSize,i=t.fontFamily,a=t.fontWeight,s=t.textFill,c=t.labelFill,u=t.labelFontWeight,l=t.value,f=t.origin,d=t.onClick,h=t.forChart,p=t.options,v=(0,o.useCallback)((function(t){void 0!==d&&d(t,S({chartId:h},p))}),[d,h,p]),g=Yn(f);return(0,A.jsxs)("g",{transform:g,children:[(0,A.jsx)("line",{x1:0,y1:2,x2:0,y2:28,stroke:e,strokeWidth:4}),(0,A.jsxs)(gu,{x:5,y:11,fontFamily:i,fontSize:r,fontWeight:a,children:[(0,A.jsx)(yu,{fill:c,fontWeight:u,children:n}),(0,A.jsx)("tspan",{x:5,dy:15,fill:s,children:l})]}),(0,A.jsx)("rect",{x:0,y:0,width:55,height:30,fill:"none",stroke:"none",onClick:v})]})};var Cu=["mousemove"],Su=function(t){var e=As((function(e){var n,r=e.chartId,o=e.chartConfig,i=e.chartConfig.height,a=e.fullData,s=t.className,c=t.displayInit,u=t.onClick,l=t.width,f=t.fontFamily,d=t.fontSize,h=t.fontWeight,p=t.textFill,v=t.labelFill,g=t.origin,m=t.displayFormat,y=t.displayValuesFor,x=t.options,w=null!=(n=y(t,e))?n:Gn(a),b=Un(g)(l,i),k=b[0],C=b[1],S=o.origin,D=S[0],M=S[1],T=Yn([D+k,M+C]);return(0,A.jsx)("g",{transform:T,className:s,children:x.map((function(t,e){var n=w&&t.yAccessor(w),o=t.type+" ("+t.windowSize+")",i=n?m(n):c;return(0,A.jsx)(ku,{origin:[l*e,0],color:t.stroke,displayName:o,value:i,options:t,forChart:r,onClick:u,fontFamily:f,fontSize:d,fontWeight:h,textFill:p,labelFill:v},e)}))})}));return(0,A.jsx)(Ls,{clip:!1,svgDraw:e,drawOn:Cu})};Su.defaultProps={className:ya,displayFormat:(0,Wo.WU)(".2f"),displayInit:"n/a",displayValuesFor:function(t,e){return e.currentItem},origin:[0,10],width:65};const Du=Su;var Au=function(t){var e=t.labelFill,n=t.labelFontWeight,r=t.text,o=t.valueFill,i=t.value;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(yu,{fill:e,fontWeight:n,children:r}),(0,A.jsx)("tspan",{fill:o,children:i},"value_O")]})},Mu=["mousemove"],Tu=function(t){var e=As((function(e){var n,r=t.accessor,o=t.changeFormat,i=t.className,a=t.displayTexts,s=t.displayValuesFor,c=t.fontFamily,u=t.fontSize,l=t.fontWeight,f=t.labelFill,d=t.labelFontWeight,h=t.ohlcFormat,p=t.onClick,v=t.percentFormat,g=t.textFill,m=e.chartConfig,y=m.width,x=m.height,w=e.fullData,b=null!=(n=s(t,e))?n:Gn(w),k=a.na,C=k,S=k,D=k,M=k,T=k;if(void 0!==b&&void 0!==r){var P=r(b);void 0!==P&&(C=h(P.open),S=h(P.high),D=h(P.low),M=h(P.close),T=o(P.close-P.open)+" ("+v((P.close-P.open)/P.open)+")")}var j=t.origin,N=Un(j)(y,x),_=N[0],E=N[1],I=Un(g)(b),F=Yn([_,E]);return(0,A.jsx)("g",{className:i,transform:F,onClick:p,children:(0,A.jsxs)(gu,{x:0,y:0,fontFamily:c,fontSize:u,fontWeight:l,children:[(0,A.jsx)(Au,{fill:f,fontWeight:d,text:a.o,valueFill:I,value:C}),(0,A.jsx)(Au,{fill:f,fontWeight:d,text:a.h,valueFill:I,value:S}),(0,A.jsx)(Au,{fill:f,fontWeight:d,text:a.l,valueFill:I,value:D}),(0,A.jsx)(Au,{fill:f,fontWeight:d,text:a.c,valueFill:I,value:M}),(0,A.jsx)("tspan",{fill:I,children:" "+T},"value_Change")]})})}));return(0,A.jsx)(Ls,{clip:!1,svgDraw:e,drawOn:Mu})};Tu.defaultProps={className:xa,fontFamily:Ja,fontWeight:"bold",accessor:function(t){return t},changeFormat:(0,Wo.WU)("+.2f"),displayTexts:{o:"O: ",h:" H: ",l:" L: ",c:" C: ",na:"n/a"},displayValuesFor:function(t,e){return e.currentItem},ohlcFormat:(0,Wo.WU)(".2f"),origin:[0,0],percentFormat:(0,Wo.WU)("+.2%")};const Pu=Tu;var ju=(0,Wo.WU)(".2f"),Nu=function(t,e){return e.currentItem},_u=[0,0],Eu=["mousemove"];const Iu=function(t){var e=t.className,n=void 0===e?pa:e,r=t.displayInit,o=void 0===r?"n/a":r,i=t.displayFormat,a=void 0===i?ju:i,s=t.displayValuesFor,c=void 0===s?Nu:s,u=t.origin,l=void 0===u?_u:u,f=t.fontFamily,d=t.fontSize,h=t.fontWeight,p=t.yAccessor,v=t.options,g=t.labelFill,m=t.labelFontWeight,y=t.textFill,x=t.onClick,w=As((function(e){var r=e.chartConfig,i=r.width,s=r.height,u=c(t,e),w=Zn(u)&&p(u),b=w&&a(w)||o,k=Un(l)(i,s),C=k[0],S=k[1],D="RSI ("+v.windowSize+"): ";return(0,A.jsx)("g",{className:n,transform:"translate("+C+", "+S+")",onClick:x,children:(0,A.jsxs)(gu,{x:0,y:0,fontFamily:f,fontSize:d,fontWeight:h,children:[(0,A.jsx)(yu,{fill:g,fontWeight:m,children:D}),(0,A.jsx)("tspan",{fill:y,children:b})]})})}));return(0,A.jsx)(Ls,{clip:!1,svgDraw:w,drawOn:Eu})};var Fu={sourcePath:"close",multiplier:2,movingAverageType:"sma",windowSize:20},Ou={sourcePath:"close",windowSize:10},Lu={sourcePath:"close",windowSize:14},Ru={sourcePath:"close",windowSize:10};function Wu(){var t=Fu,e=function(e){var n=t,r=n.windowSize,o=n.multiplier,i=n.movingAverageType,a=n.sourcePath,s=zn(a),c="ema"===i?function(){var t=Ou,e=function(e){var n,r=t,o=r.windowSize,i=r.sourcePath,a=zn(i),s=2/(o+1),c=0,u=0;return e.map((function(t,e){var r=a(t,e);if(void 0!==n||void 0!==r){if(!(e<o+u-1)){if(e===o+u-1){var i=(c+=r)/o;return n=i,i}var l=r*s+(1-s)*n;return n=l,l}c+=r}else u++}))};return e.undefinedLength=function(){return t.windowSize-1},e.options=function(){return arguments.length?(t=S({},Ou,arguments.length<=0?void 0:arguments[0]),e):t},e}().options({windowSize:r,sourcePath:a}):Hn().windowSize(r).accumulator((function(t){return(0,Dn.J6)(t)})).sourcePath(a),u=Hn().windowSize(r).accumulator((function(t){var e=t[t.length-1].mean,n=(0,Dn.P3)(t,(function(t){return s(t.datum)}));return void 0===n?void 0:{top:e+o*n,middle:e,bottom:e-o*n}})),l=Ln().combine((function(t,e){return{datum:t,mean:e}}));return u(l(e,c(e)))};return e.undefinedLength=function(){return t.windowSize-1},e.options=function(){return arguments.length?(t=S({},Fu,arguments.length<=0?void 0:arguments[0]),e):t},e}var zu=0;function Uu(){var t,e,n,r,o,i=zu++;function a(){}return a.id=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a.accessor=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.stroke=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e||(e=Vn(i))},a.fill=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n||(n=Vn(i))},a.echo=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.type=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],a):o},a}var Hu={merge:!0};const Bu=function(t,e,n,r){var o=function(o,i){if(void 0===i&&(i=Hu),i.merge){if(!e.accessor())throw new Error("Set an accessor to "+t+" before calculating");return r(o)}return n(o)};return Fn(o,e,"id","accessor","stroke","fill","echo","type"),Fn(o,n,"options","undefinedLength"),Fn(o,r,"merge","skipUndefined"),o};var Xu="BollingerBand";const Yu=function(t){var e=void 0===t?{}:t,n=e.id,r=e.minWidth,a=void 0===r?100:r,s=e.initialWidth,c=void 0===s?1e3:s,u=(0,o.useRef)(),l=(0,o.useState)(c),f=l[0],d=l[1],h=(0,o.useCallback)((function(){var t=n?document.getElementById(n):i(u);if(t){var e=window.getComputedStyle(t),r=e.width,o=e.paddingLeft,s=e.paddingRight,c=parseFloat(r)-(parseFloat(o)+parseFloat(s));d(Math.round(Math.max(c,a)))}}),[]);return(0,o.useLayoutEffect)(h,[]),(0,o.useEffect)((function(){return window.addEventListener("resize",h),function(){return window.removeEventListener("resize",h)}}),[]),[f,u]};var Vu={pointerEvents:"all",transform:"translate(0, 50px)"},Zu={transform:"translate(-40px, 0)"},$u={transform:"translate(-56px, 0)"},qu=function(t,e,n){return"translate ("+(t-20)+", "+(e-8+n/4)+")"},Gu=function(t){var e=t.zoomMultiplier,n=t.heightFromBase,r=t.r,i=t.fill,a=t.fillOpacity,s=t.stroke,c=t.strokeWidth,u=t.textFill,l=(0,o.useContext)(Xo),f=l.chartConfig,d=f.width,h=f.height,p=As((function(t){var n=l.xAxisZoom,r=l.xScale,o=l.plotData,i=r((0,l.xAccessor)(Gn(o))),a=t>0?1*e:1/e,s=r.domain(),c=s[0],u=s[1],f=r.range().map((function(t){return i+(t-i)*a})).map(r.invert),d=f[0],h=f[1],p=wo(c,d),v=wo(u,h);n([p(.2),v(.2)])})),v=(0,o.useMemo)((function(){return[function(){return p(-1)},function(){return p(1)}]}),[p]),g=v[0],m=v[1],y=Math.round(d/2),x=h-n,w=y-8,b=y+16+2*r,k=qu(y-16-2*r,x,r),C=qu(w,x,r),S=x+r/2,D=w-r/2,M=b-r/2;return(0,A.jsxs)("g",{style:Vu,children:[(0,A.jsx)("g",{transform:k,children:(0,A.jsx)("path",{d:"M19,13H5V11H19V13Z",fill:u})}),(0,A.jsx)("circle",{style:Zu,cx:D,cy:S,fill:i,fillOpacity:a,stroke:s,strokeWidth:c,r,onClick:m}),(0,A.jsx)("g",{transform:C,children:(0,A.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z",fill:u})}),(0,A.jsx)("circle",{style:$u,cx:M,cy:S,fill:i,fillOpacity:a,stroke:s,strokeWidth:c,r,onClick:g})]})};Gu.defaultProps={fill:"#ffffff",fillOpacity:.4,heightFromBase:32,r:16,stroke:"grey",strokeWidth:1,textFill:"#000000",zoomMultiplier:1.5};var Ku={ChartCanvas:Ds,Chart:Yo,XAxis:Qs,YAxis:ac,LineSeries:lc,RSISeries:bc,CandlestickSeries:Tc,BollingerSeries:Ic,BarSeries:Gc,CrossHairCursor:tu,MouseCoordinateX:du,MouseCoordinateY:pu,RSITooltip:Iu,OHLCTooltip:Pu,MovingAverageTooltip:Du,BollingerBandTooltip:bu,sma:function(){var t=Uu().type("SMA").accessor((function(t){return t.sma})),e=function(){var t=Ru;function e(e){var n=t,r=n.windowSize,o=n.sourcePath,i=Hn().windowSize(r).sourcePath(o).accumulator((function(t){return(0,Dn.J6)(t)}));return i(e)}return e.undefinedLength=function(){return t.windowSize-1},e.options=function(){return arguments.length?(t=S({},Ru,arguments.length<=0?void 0:arguments[0]),e):t},e}(),n=Rn().algorithm(e).merge((function(t,e){t.sma=e}));return Bu("SMA",t,e,n)},rsi:function(){var t,e,n=Uu().type("RSI").accessor((function(t){return t.rsi})),r=(t=Lu,e=function(e){var n,r,o=t,i=o.windowSize,a=o.sourcePath,s=zn(a),c=Hn().windowSize(i).accumulator((function(t){var e=void 0!==n?(n*(i-1)+t[t.length-1].gain)/i:(0,Dn.J6)(t,(function(t){return t.gain}));if(void 0!==e){var o=void 0!==r?(r*(i-1)+t[t.length-1].loss)/i:(0,Dn.J6)(t,(function(t){return t.loss}));if(void 0!==o)return n=e,r=o,100-100/(1+e/o)}}));return c(Hn().windowSize(2).undefinedValue((function(){return[0,0]})).accumulator((function(t){var e=t[0],n=t[1],r=s(n)-s(e);return{gain:Math.max(r,0),loss:Math.abs(Math.min(r,0))}}))(e))},e.undefinedLength=function(){return t.windowSize-1},e.options=function(){return arguments.length?(t=S({},Lu,arguments.length<=0?void 0:arguments[0]),e):t},e),o=Rn().algorithm(r).merge((function(t,e){t.rsi=e}));return Bu("RSI",n,r,o)},bollingerBand:function(){var t=Uu().type(Xu),e=Wu(),n=Rn().algorithm(e).merge((function(t,e){t.bollingerBand=e}));return Bu(Xu,t,e,n)},useElementWidth:Yu,ZoomButtons:Gu};const Ju=Ku,Qu=1e3,tl=60*Qu,el=60*tl,nl=24*el,rl=7*nl,ol=30*nl,il=365*nl;var al=new Date,sl=new Date;function cl(t,e,n,r){function o(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return o.floor=function(e){return t(e=new Date(+e)),e},o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,r,i){var a,s=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return s;do{s.push(a=new Date(+n)),e(n,i),t(n)}while(a<n&&n<r);return s},o.filter=function(n){return cl((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(o.count=function(e,r){return al.setTime(+e),sl.setTime(+r),t(al),t(sl),Math.floor(n(al,sl))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?function(e){return r(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}var ul=cl((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));ul.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?cl((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):ul:null};const ll=ul;ul.range;var fl=cl((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Qu)}),(function(t,e){return(e-t)/Qu}),(function(t){return t.getUTCSeconds()}));const dl=fl;fl.range;var hl=cl((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qu)}),(function(t,e){t.setTime(+t+e*tl)}),(function(t,e){return(e-t)/tl}),(function(t){return t.getMinutes()}));const pl=hl;hl.range;var vl=cl((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qu-t.getMinutes()*tl)}),(function(t,e){t.setTime(+t+e*el)}),(function(t,e){return(e-t)/el}),(function(t){return t.getHours()}));const gl=vl;vl.range;var ml=cl((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*tl)/nl),(t=>t.getDate()-1));const yl=ml;ml.range;function xl(t){return cl((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*tl)/rl}))}var wl=xl(0),bl=xl(1),kl=xl(2),Cl=xl(3),Sl=xl(4),Dl=xl(5),Al=xl(6),Ml=(wl.range,bl.range,kl.range,Cl.range,Sl.range,Dl.range,Al.range,cl((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));const Tl=Ml;Ml.range;var Pl=cl((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Pl.every=function(t){return isFinite(t=Math.floor(t))&&t>0?cl((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const jl=Pl;Pl.range;var Nl=cl((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*tl)}),(function(t,e){return(e-t)/tl}),(function(t){return t.getUTCMinutes()}));const _l=Nl;Nl.range;var El=cl((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*el)}),(function(t,e){return(e-t)/el}),(function(t){return t.getUTCHours()}));const Il=El;El.range;var Fl=cl((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/nl}),(function(t){return t.getUTCDate()-1}));const Ol=Fl;Fl.range;function Ll(t){return cl((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/rl}))}var Rl=Ll(0),Wl=Ll(1),zl=Ll(2),Ul=Ll(3),Hl=Ll(4),Bl=Ll(5),Xl=Ll(6),Yl=(Rl.range,Wl.range,zl.range,Ul.range,Hl.range,Bl.range,Xl.range,cl((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})));const Vl=Yl;Yl.range;var Zl=cl((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Zl.every=function(t){return isFinite(t=Math.floor(t))&&t>0?cl((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const $l=Zl;Zl.range;function ql(t,e,n,r,o,i){const a=[[dl,1,Qu],[dl,5,5*Qu],[dl,15,15*Qu],[dl,30,30*Qu],[i,1,tl],[i,5,5*tl],[i,15,15*tl],[i,30,30*tl],[o,1,el],[o,3,3*el],[o,6,6*el],[o,12,12*el],[r,1,nl],[r,2,2*nl],[n,1,rl],[e,1,ol],[e,3,3*ol],[t,1,il]];function s(e,n,r){const o=Math.abs(n-e)/r,i=Dr((([,,t])=>t)).right(a,o);if(i===a.length)return t.every(kr(e/il,n/il,r));if(0===i)return ll.every(Math.max(kr(e,n,r),1));const[s,c]=a[o/a[i-1][2]<a[i][2]/o?i-1:i];return s.every(c)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const o=n&&"function"==typeof n.range?n:s(t,e,n),i=o?o.range(t,+e+1):[];return r?i.reverse():i},s]}const[Gl,Kl]=ql($l,Vl,Rl,Ol,Il,_l),[Jl,Ql]=ql(jl,Tl,wl,yl,gl,pl);var tf=n(152);function ef(t){return new Date(t)}function nf(t){return t instanceof Date?+t:+new Date(+t)}function rf(t,e,n,r,o,i,a,s,c,u){var l=Oo(),f=l.invert,d=l.domain,h=u(".%L"),p=u(":%S"),v=u("%I:%M"),g=u("%I %p"),m=u("%a %d"),y=u("%b %d"),x=u("%B"),w=u("%Y");function b(t){return(c(t)<t?h:s(t)<t?p:a(t)<t?v:i(t)<t?g:r(t)<t?o(t)<t?m:y:n(t)<t?x:w)(t)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?d(Array.from(t,nf)):d().map(ef)},l.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},l.tickFormat=function(t,e){return null==e?b:u(e)},l.nice=function(t){var n=d();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d(function(t,e){var n,r=0,o=(t=t.slice()).length-1,i=t[r],a=t[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),t[r]=e.floor(i),t[o]=e.ceil(a),t}(n,t)):l},l.copy=function(){return Io(l,rf(t,e,n,r,o,i,a,s,c,u))},l}const of=function(t){return function(e,n){var r=e.widthRatio,o=n.xScale,i=(0,n.xAccessor)(function(t,e){if(!e||!t)return t?t[0]:void 0;for(var n=0;n<t.length;n++){var r=t[n];if(null!=e(r))return r}}(n.plotData));return Math.abs(o(t.offset(i,1))-o(i))*r}};const af={UP:"black",DOWN:"#980032",TRANSPARENT:"transparent"};var sf=n(692),cf=n(829),uf=n(222),lf=(0,cf.Z)((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*uf.yB)}),(function(t,e){return(e-t)/uf.yB}),(function(t){return t.getUTCMinutes()}));const ff=lf;lf.range;var df=(0,cf.Z)((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*uf.Y2)}),(function(t,e){return(e-t)/uf.Y2}),(function(t){return t.getUTCHours()}));const hf=df;df.range;var pf=n(326),vf=(0,cf.Z)((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const gf=vf;vf.range;var mf,yf,xf=function(t){return"string"==typeof t},wf=function(t,e){return-1!==t.indexOf(e)},bf=(0,Wo.WU)(".8~"),kf=(0,Wo.WU)(".4f"),Cf=(0,Wo.WU)(".2f"),Sf=(0,Wo.WU)(".4s"),Df=(0,Wo.WU)(".0s"),Af=function(t){if(!t||!xf(t))return sf.Z;var e=parseInt(t,10);return wf(t,"m")?ff.every(e):wf(t,"h")?hf.every(e):wf(t,"d")?sf.Z.every(e):wf(t,"w")?pf.Ox.every(e):wf(t,"M")?gf.every(e):sf.Z},Mf=function(t){return xf(t)&&(wf(t,"m")||wf(t,"h"))?(0,tf.i$)("%m-%d %H:%M"):(0,tf.i$)("%Y-%m-%d")},Tf=document&&"ontouchstart"in document.documentElement;const Pf=function(t){return(0,o.useMemo)((function(){return of(t)}),[t])};var jf="rs-tooltip",Nf=function(t,e){return(t||{}).close>(e||{}).close?af.UP:af.DOWN},_f=function(t,e){return(t||{}).close>(t||{}).open?af.TRANSPARENT:Nf(t,e)},Ef={top:"#964b00",middle:"#000000",bottom:"#964b00"},If=function(t,e){return{type:"SMA",yAccessor:t,stroke:e.stroke,windowSize:e.windowSize}},Ff=[5,-90],Of=[5,320],Lf=[190,432],Rf=function(t){return t.bb};const Wf=function(t){var e=t.id,n=t.height,r=t.timeInterval,i=t.timeFormat,a=t.sma20,s=t.sma50,c=t.bb,u=t.yExtents,l=t.origin,f=Pf(r),d=(0,o.useMemo)((function(){return[a.accessor(),a.options()]}),[a]),h=d[0],p=d[1],v=(0,o.useMemo)((function(){return[s.accessor(),s.options()]}),[s]),g=v[0],m=v[1],y=(0,o.useMemo)((function(){return[If(h,p),If(g,m)]}),[h,p,g,m]),x=(0,o.useMemo)((function(){return c.options()}),[c]);return(0,A.jsxs)(Ju.Chart,{id:e,height:n,yExtents:u,origin:l,children:[(0,A.jsx)(Ju.YAxis,{axisAt:"right",orient:"right",ticks:5,stroke:"black"}),(0,A.jsx)(Ju.BollingerSeries,{yAccessor:Rf,stroke:Ef,fill:"#4682b4"}),(0,A.jsx)(Ju.LineSeries,{yAccessor:h,stroke:p.stroke}),(0,A.jsx)(Ju.LineSeries,{yAccessor:g,stroke:m.stroke}),(0,A.jsx)(Ju.CandlestickSeries,{width:f,fill:_f,stroke:Nf,wickStroke:Nf,candleStrokeWidth:.8}),(0,A.jsx)(Ju.MouseCoordinateY,{at:"right",orient:"right",displayFormat:kf}),(0,A.jsx)(Ju.OHLCTooltip,{fontSize:15,xDisplayFormat:i,textFill:"black",ohlcFormat:bf,forChart:3,origin:Ff}),(0,A.jsx)(Ju.MovingAverageTooltip,{className:jf,width:100,fontSize:15,origin:Of,options:y}),(0,A.jsx)(Ju.BollingerBandTooltip,{className:jf,fontSize:15,origin:Lf,yAccessor:Rf,options:x}),Tf&&(0,A.jsx)(Ju.ZoomButtons,{})]})};var zf=function(t,e){return(t||{}).close>(e||{}).close?af.UP:af.DOWN},Uf=function(t){return t.volume};const Hf=function(t){var e=t.id,n=t.height,r=t.timeInterval,o=t.timeFormat,i=t.yExtents,a=t.origin,s=Pf(r);return(0,A.jsxs)(Ju.Chart,{id:e,height:n,yExtents:i,origin:a,children:[(0,A.jsx)(Ju.YAxis,{axisAt:"left",orient:"left",ticks:3,tickFormat:Df,stroke:"black"}),(0,A.jsx)(Ju.MouseCoordinateY,{at:"left",orient:"left",displayFormat:Sf}),(0,A.jsx)(Ju.BarSeries,{width:s,yAccessor:Uf,fill:zf,stroke:zf}),(0,A.jsx)(Ju.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),(0,A.jsx)(Ju.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:o})]})};var Bf={line:"#000000",top:"#b8b2bb",middle:"transparent",bottom:"#b8c2cc",outsideThreshold:"#b300b3",insideThreshold:"#4699cb"},Xf=[30,50,70],Yf=function(t){return t.rsi};const Vf=function(t){var e=t.id,n=t.height,r=t.width,i=t.rsi,a=t.yExtents,s=t.origin,c=(0,o.useMemo)((function(){return[r-160,10]}),[r]),u=(0,o.useMemo)((function(){return i.options()}),[i]);return(0,A.jsxs)(Ju.Chart,{id:e,height:n,yExtents:a,origin:s,children:[(0,A.jsx)(Ju.YAxis,{axisAt:"right",orient:"right",stroke:"black",tickStroke:"#4699cb",tickValues:Xf}),(0,A.jsx)(Ju.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Cf}),(0,A.jsx)(Ju.RSISeries,{yAccessor:Yf,stroke:Bf}),(0,A.jsx)(Ju.RSITooltip,{className:"rs-tooltip",fontSize:15,yAccessor:Yf,origin:c,options:u})]})};var Zf=function(t){return t.close};const $f=function(t){var e=t.id,n=t.height,r=t.yExtents,o=t.origin;return(0,A.jsxs)(Ju.Chart,{id:e,height:n,yExtents:r,origin:o,children:[(0,A.jsx)(Ju.YAxis,{axisAt:"left",orient:"left",stroke:"black",ticks:5}),(0,A.jsx)(Ju.LineSeries,{yAccessor:Zf,stroke:"black"}),(0,A.jsx)(Ju.MouseCoordinateY,{at:"left",orient:"left",displayFormat:Cf})]})};var qf=Ju.sma,Gf=Ju.rsi,Kf=Ju.bollingerBand,Jf=Ju.useElementWidth,Qf={left:50,right:80,top:0,bottom:30},td={width:"98%"},ed=function(t){return t?t.date:0},nd=function(){return _n.apply(rf(Jl,Ql,jl,Tl,wl,yl,gl,pl,dl,tf.i$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),rd=function(t,e){return[0,e-510]},od=[0,100],id=function(t){return[t.high,t.low]},ad=function(t,e){return[0,e-420]},sd=function(t){return t.volume},cd=function(t,e){return[0,e-120]},ud=qf().options({windowSize:20,stroke:"green"}).merge((function(t,e){t.sma20=e})).accessor((function(t){return t.sma20})),ld=qf().options({windowSize:50,stroke:"orange"}).merge((function(t,e){t.sma50=e})).accessor((function(t){return t.sma50})),fd=Kf().merge((function(t,e){t.bb=e})).accessor((function(t){return t.bb})),dd=Gf().options({windowSize:14}).merge((function(t,e){t.rsi=e})).accessor((function(t){return t.rsi}));const hd=(0,o.memo)((function(t){var e=t.id,n=t.style,r=t.data,a=t.height,s=t.timeframe,c=Jf({id:e})[0],u=(0,o.useRef)(150),l=(0,o.useMemo)((function(){return ld(ud(fd(dd(r))))}),[r]),f=(0,o.useMemo)((function(){return[Af(s),Mf(s)]}),[s]),d=f[0],h=f[1],p=(0,o.useMemo)((function(){return function(t,e,n){var r=t.length-1,o=r<n?(t[0]||{}).date:(t[r-n]||{}).date,i=(t.slice(-1)[0]||{}).date,a="1m"===e?i+3e5:i;return o===mf&&a===yf||(mf=o),yf=a,[o,a]}(l,s,i(u))}),[l,s]),v=(0,o.useMemo)((function(){return function(t){u.current=t}}),[]);return(0,A.jsx)("div",{id:e,style:S({},td,n),children:(0,A.jsxs)(Ju.ChartCanvas,{ratio:2,width:c,height:a,margin:Qf,data:l,xAccessor:ed,displayXAccessor:ed,xScale:nd,xExtents:p,onZoom:v,children:[(0,A.jsx)(Vf,{id:1,height:100,width:c,rsi:dd,yExtents:od,origin:rd}),(0,A.jsx)($f,{id:2,height:100,yExtents:id,origin:rd}),(0,A.jsx)(Wf,{id:3,height:300,timeInterval:d,timeFormat:h,sma20:ud,sma50:ld,bb:fd,yExtents:id,origin:ad}),(0,A.jsx)(Hf,{id:4,height:100,timeInterval:d,timeFormat:h,yExtents:sd,origin:cd}),(0,A.jsx)(Ju.CrossHairCursor,{})]})})}));const pd={providerTitle:m.INITIAL_PROVIDER_TITLE,itemTitle:m.INITIAL_ITEM_TITLE,data:m.DF_DATA,timeframe:m.DF_TIMEFRAME,fetchStatus:T.INITIAL,isLiveUpdating:!1};const vd=Object.freeze({LOADING:"DATA_LOADING",LOADED:"DATA_LOADED",LOAD_FAILED:"DATA_LOAD_FAILED",UPDATE:"DATA_UPDATE"});const gd=function(t,e){switch(e.type){case vd.LOADING:return S({},t,{fetchStatus:T.LOADING});case vd.LOADED:return function(t){return Array.isArray(t)||t.length>20}(e.data)?S({},t,{data:e.data,providerTitle:e.providerTitle,itemTitle:e.itemTitle,timeframe:e.timeframe,fetchStatus:T.SUCCESS}):t;case vd.LOAD_FAILED:return S({},t,{fetchStatus:T.FAILED});case vd.UPDATE:return S({},t,{data:[].concat(t.data,[e.point])});default:throw new TypeError("Not existed action "+e.type)}};var md,yd={URI_BASE:"wss://stream.binance.com:9443/ws/",URI_SUFFIX:"@kline_1m"},xd=1005,wd=function(t,e){return{date:t,high:parseFloat(e.h),low:parseFloat(e.l),open:parseFloat(e.o),close:parseFloat(e.c),volume:parseFloat(e.v)}};const bd={startLiveUpdate:function(t){var e=t.pair,n=t.onMessage,r=t.onOpen,o=t.onClose,i=t.onSecond;!function(t,e,n,r,o){var i;(md=new WebSocket(""+yd.URI_BASE+t+yd.URI_SUFFIX)).addEventListener("open",(function(){i=(new Date).getMinutes(),n()})),md.addEventListener("message",(function(t){try{var n=JSON.parse(t.data),r=n.E,a=n.k,s=new Date(r),c=s.getMinutes();i!==c?(i=c,e(wd(r,a)),o("")):o(s.getSeconds())}catch(t){console.log(t)}})),md.addEventListener("error",(function(t){r()})),md.addEventListener("close",(function(t){r()}))}(function(t){return(""+t).replace("/","").toLowerCase()}(e),n,r,o,i)},stopLiveUpdate:function(){try{void 0===(t=1e3)&&(t=xd),md&&md.close(t)}catch(t){console.log(t)}var t}};var kd=["timeframe"];const Cd=function(t){var e=t.appSettings,n=t.theme,r=t.setThemeId,o=t.dispatch,i=t.setLiveUpdating;return{appSettings:e,theme:n,setThemeId:r,dataAction:{loading:function(){return o({type:vd.LOADING})},loadData:function(t){var e=t.timeframe,n=void 0===e?m.DF_TIMEFRAME:e,r=D(t,kd);i({isLiveUpdating:!1}),bd.stopLiveUpdate(),o(S({type:vd.LOADED,timeframe:n},r))},loadFailed:function(){return o({type:vd.LOAD_FAILED})}},onLiveUpdate:function(t){bd.startLiveUpdate({pair:t,onMessage:function(t,e){return o({type:vd.UPDATE,point:t})},onOpen:function(){return i({isLiveUpdating:!0})},onClose:function(){return i({isLiveUpdating:!1})},onSecond:function(t){return i({isLiveUpdating:!0,sec:t})}})},onStopUpdate:function(){bd.stopLiveUpdate()}}};var Sd={paddingTop:8},Dd={isLiveUpdating:!1,sec:""};const Ad=function(){var t=(0,o.useState)(1),e=t[0],n=t[1],r=(0,o.useReducer)(gd,pd),i=r[0],a=r[1],s=i.providerTitle,d=i.itemTitle,h=i.data,p=i.timeframe,v=i.fetchStatus,g=(0,o.useState)(Dd),m=g[0],y=g[1],w=c((function(){return Cd({appSettings:x,theme:C,setThemeId:n,dispatch:a,setLiveUpdating:y})}));return(0,A.jsx)(u.Provider,{value:w,children:(0,A.jsx)(l.Provider,{value:e,children:(0,A.jsxs)(f.Provider,{value:m,children:[(0,A.jsx)(kn,{fetchStatus:v,providerTitle:s,itemTitle:d,timeframe:p}),(0,A.jsx)("main",{style:Sd,children:(0,A.jsx)(hd,{id:"chart_wrapper",height:550,data:h,timeframe:p})})]})})})};(0,r.s)(document.getElementById("app")).render((0,A.jsx)(Ad,{}))},745:(t,e,n)=>{var r=n(935);e.s=r.createRoot,r.hydrateRoot},251:(t,e,n)=>{var r=n(294),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var r,i={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(l=e.ref),e)a.call(e,r)&&!c.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:o,type:t,key:u,ref:l,props:i,_owner:s.current}}e.Fragment=i,e.jsx=u,e.jsxs=u},893:(t,e,n)=>{t.exports=n(251)}},t=>{var e;e=432,t(t.s=e)}]);