/*! For license information please see app_e1f80729fa2d7bdce846.js.LICENSE.txt */
"use strict";(self.webpackChunkTA_Chart=self.webpackChunkTA_Chart||[]).push([[143],{21:(t,e,n)=>{var r=n(935),o=n(294),i=function(t){return(t||{}).current};const a=function(t){var e=(0,o.useRef)();return e.current||(e.current=t())};const s=(0,o.createContext)({});const c=(0,o.createContext)();const l=(0,o.createContext)();var u=Math.random,h=function(){return u()*(u()>.5?1:-1)},d=function(t,e){return t>e?t+.2:e+.2},f=function(t,e){return t>e?e-.2:t-.2},p={INITIAL_PROVIDER_TITLE:"Data Provider (Random)",INITIAL_ITEM_TITLE:"Item",PROXY:"http://127.0.0.1:3000/proxy",RATE_LIMIT:3e3,DF_DATA:function(){for(var t,e,n=new Date,r=[],o=0;o<100;o++)e=1+h(),t=1+h(),r.push({date:n.getTime()-864e5*o,open:e,close:t,high:d(e,t),low:f(e,t)});return r.reverse()}(),DF_TIMEFRAME:"1d"};const v=Object.freeze(p);var g=v.PROXY;const m={proxy:function(t){return t?(g=t,!0):g||""},clearProxy:function(){g=""}};var y={1:"#5f5f5f",2:"#e1e1e1",3:"#e8e0cb"},x={1:{},2:{backgroundColor:"#d4d4d4"},3:{backgroundColor:"#e8dcbe"}},w={getBgColor:function(t){return y[""+t]},getHeaderStyle:function(t){return x[""+t]},getDrawerStyle:function(t){return x[""+t]}};const C=w;function b(){return b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b.apply(this,arguments)}function S(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}const k={HEADER:"header",LOGO:"header__logo-notes",TITLE_GAP:"header__title-gap",HEADER_TITLE:"header__title",SPINNER:"header__spinner"};var D=n(893);const T=function(t){var e=t.className,n=void 0===e?k.LOGO:e,r=t.style,o=t.title,i=void 0===o?"Logo of web app TA Chart v0.2.0":o;return(0,D.jsx)("span",{className:n,style:r,title:i,children:(0,D.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2",children:[(0,D.jsx)("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),(0,D.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),(0,D.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})};const A=Object.freeze({INITIAL:"INITIAL",LOADING:"LOADING",SUCCESS:"SUCCESS",FAILED:"FAILED"});function P(t,e){return P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},P(t,e)}function M(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,P(t,e)}var _="width 500ms ease-out",O="opacity 400ms linear",N=function(t,e,n,r,o){return{backgroundColor:t,opacity:e,width:n,height:r,transition:o}},I=function(t){function e(e){var n;return(n=t.call(this,e)||this)._crLineStyle=function(t,e){if(n.wasOpacied)return n.wasOpacied=!1,N(t,1,0,e);if(n.wasCompleted)return n.wasCompleted=!1,n.wasOpacied=!0,N(t,0,"100%",e,O);var r=n.props.completed;return r<0?r=0:r>=100&&(r=100,n.wasCompleted=!0),N(t,1,r+"%",e,_)},n.wasCompleted=!1,n.idCompleted=null,n.wasOpacied=!1,n.idOpacied=null,n}M(e,t);var n=e.prototype;return n.componentWillUnmount=function(){this.idCompleted&&clearTimeout(this.idCompleted),this.idOpacied&&clearTimeout(this.idOpacied)},n.componentDidUpdate=function(){var t=this;this.wasCompleted?this.idCompleted=setTimeout((function(){t.idCompleted=null,t.forceUpdate()}),800):this.wasOpacied&&(this.idOpacied=setTimeout((function(){t.idOpacied=null,t.forceUpdate()}),800))},n.render=function(){var t=this.props,e=t.color,n=t.height,r=this._crLineStyle(e,n);return(0,D.jsx)("div",{className:"progress-line",style:r})},e}(o.Component);I.defaultProps={color:"#2f7ed8",height:3};const E=I;var j="#2f7ed8",F=function(t,e){return[t,e]};const R=(0,o.memo)((function(t){var e=function(t){return t===A.LOADING?F(35,j):t===A.SUCCESS?F(100,j):t===A.FAILED?F(100,"#ed5813"):F(0,j)}(t.fetchStatus),n=e[0],r=e[1];return(0,D.jsx)(E,{height:3,color:r,completed:n})}));const L=function(t){var e=(0,o.useState)((function(){return!!t})),n=e[0],r=e[1];return[n,(0,o.useCallback)((function(t){!function(t){return"boolean"==typeof t}(t)?r((function(t){return!t})):r(t)}),[])]};var W={position:"absolute",top:0,right:16},z={transform:"translateX(334px)",pointerEvents:"none"},B={transform:"translate(0px, 0px)"},U={display:"none",opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},X={display:"block",opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"};const H=function(t){var e=t.btStyle,n=t.children,r=L(),i=r[0],a=r[1];(0,o.useEffect)((function(){document.body.style.overflowY=i?"hidden":"auto"}),[i]);var s=i?B:z,c=i?X:U,l=i?a:void 0;return[(0,D.jsx)("button",{className:"drawer-bt",style:b({},W,e),"aria-label":"Open Drawer",onClick:a,children:(0,D.jsx)("span",{className:"drawer-span",children:(0,D.jsxs)("svg",{className:"drawer-svg",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,D.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,D.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]})})},"bt-drawer"),(0,D.jsx)("div",{role:"presentation","aria-hidden":!i,className:"drawer-modal",style:c,onClick:l},"wrapper"),(0,D.jsx)("aside",{className:"drawer",style:s,children:(0,o.cloneElement)(n,{onCloseDrawer:a})},"aside")]};var Y={padding:3};const V=function(t){var e=t.style,n=t.tabIndex,r=void 0===n?-1:n,o=t.onClick;return(0,D.jsx)("button",{className:"svg-close",style:e,tabIndex:r,onClick:o,children:(0,D.jsxs)("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:Y,strokeWidth:"2",stroke:"#f44336",strokeLinecap:"round",children:[(0,D.jsx)("path",{d:"M 0,0 L 12,12"}),(0,D.jsx)("path",{d:"M 12,0 L 0,12"})]})})};var q={backgroundColor:"#1b2836"},Z=function(t,e){return t===e?q:void 0};const G=function(t){var e=t.style,n=t.tabIndex,r=void 0===n?-1:n,i=t.initialValue,a=void 0===i?1:i,s=t.oneC,c=void 0===s?"One":s,l=t.twoC,u=void 0===l?"Two":l,h=t.threeC,d=void 0===h?"Three":h,f=t.onClick,p=(0,o.useState)(a),v=p[0],g=p[1],m=Z(v,1),y=Z(v,2),x=Z(v,3),w=function(t){f(t),g(t)};return(0,D.jsxs)("div",{className:"bt-triple",style:e,children:[(0,D.jsx)("button",{className:"bt-triple__one",style:m,tabIndex:r,onClick:w.bind(null,1),children:c}),(0,D.jsx)("button",{className:"bt-triple__two",style:y,tabIndex:r,onClick:w.bind(null,2),children:u}),(0,D.jsx)("button",{className:"bt-triple__three",style:x,tabIndex:r,onClick:w.bind(null,3),children:d})]})};const $=function(t){t&&(document.body.style.backgroundColor=t)};var K="drawer__title",J={TITLE:{paddingTop:12,paddingBottom:8},BT_TRIPLE:{marginRight:8},BT_CLOSE:{position:"relative",top:4}};const Q=function(t){var e=t.onClose,n=t.setThemeId,r=(0,o.useContext)(s).theme;return(0,D.jsxs)("div",{className:K,style:J.TITLE,children:[(0,D.jsx)(G,{style:J.BT_TRIPLE,oneC:"GREY",twoC:"LIGHT",threeC:"SAND",onClick:function(t){$(r.getBgColor(t)),n(t)}}),(0,D.jsx)(V,{style:J.BT_CLOSE,onClick:e})]})};function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var et=Date.now||function(){return(new Date).getTime()};const nt=function(t,e,n){var r,o,i,a;void 0===n&&(n={});var s=0,c=function(){s=!1===n.leading?0:et(),r=null,a=t.apply(o,i),r||(o=i=null)},l=function(){var l=et();s||!1!==n.leading||(s=l);var u=e-(l-s);o=this;for(var h=arguments.length,d=new Array(h),f=0;f<h;f++)d[f]=arguments[f];return i=d,u<=0||u>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(c,u)),a};return l.cancel=function(){clearTimeout(r),s=0,r=o=i=null},l};const rt=function(t,e){return void 0===e&&(e=800),nt(t,e,{trailing:!1})};var ot={position:"absolute",overflow:"hidden"},it={display:"flex",flexFlow:"row nowrap",alignItems:"flex-start",overflowX:"hidden",transition:"all 750ms ease-out"},at=function(t){return parseInt(t.style.transform.substr(11).replace("px","").replace(")",""),10)},st=function(t){function e(e){var n;(n=t.call(this,e)||this)._crPageElement=function(t){return(0,o.createElement)(n.props.pageRouter[t],{key:t,style:n._pageStyle,onPrevPage:n.hPrevPage,onNextPage:n.hNextPage})},n.hPrevPage=function(){n.setState((function(t){return t.pageCurrent>1&&(t.pageCurrent-=1,n._direction=-1),t}))},n.hNextPage=function(t){n.setState((function(e){var r,o,i=e.pages,a=function(t,e){return t.findIndex((function(t){return t.key===e}))}(i,t);return e.pages=-1!==a?(o=a,[(r=i)[0],r.splice(o,1)[0]].concat(r.slice(1))):function(t,e){return[t[0],e].concat(t.slice(1))}(i,n._crPageElement(t)),e.pageCurrent+=1,n._direction=1,e}))},n._crTransform=function(){var t=n._refPages.current,e=n._PAGE_WIDTH,r=0;if(0!==n._direction&&t){var o=at(t);r=1===n._direction?o-e:o+e,n._direction=0}else 0===n._direction&&t&&(r=at(t));return{transform:"translateX("+r+"px)"}},n._renderPages=function(){var t=n.state,e=t.pages,r=t.pageCurrent;return e.map((function(t,e){return(0,o.cloneElement)(t,{pageCurrent:r,pageNumber:e+1})}))};var r=e.pageWidth,i=e.maxPages,a=e.initialPageId;return n._refPages=(0,o.createRef)(),n.hNextPage=rt(n.hNextPage.bind(tt(n))),n.hPrevPage=rt(n.hPrevPage.bind(tt(n))),n._PAGE_WIDTH=r,n._pagesStyle={width:i*r+"px"},n._pageStyle={width:r+"px"},n._direction=0,n.state={pageCurrent:1,pages:[n._crPageElement(a)]},n}return M(e,t),e.prototype.render=function(){var t=this._pagesStyle,e=this._crTransform(),n=b({},it,t,e);return(0,D.jsx)("div",{style:ot,children:(0,D.jsx)("div",{ref:this._refPages,style:n,children:this._renderPages()})})},e}(o.Component);st.defaultProps={pageWidth:330,maxPages:3};const ct=st;var lt=function(){};const ut=function(t,e){void 0===t&&(t=lt),void 0===e&&(e=0);var n=(0,o.useRef)(null);return(0,o.useCallback)((function(r){if(0!==e){var o=n.current,i=r.timeStamp;(null==o||i-o>e)&&(t(r),n.current=i)}else t(r)}),[e,t])};var ht=Array.isArray,dt=function(t){return ht(t)?t[0]?t[1]:"":t||""};const ft=function(t,e){var n=dt(t),r=dt(e);return n?r?n+" "+r:n:r||void 0};var pt=Array.isArray,vt=function(t){return pt(t)?t[0]?t[1]:void 0:t||void 0};const gt=function(t,e){var n=vt(t),r=vt(e);return n?r?b({},n,r):n:r||void 0};var mt={textDecoration:"underline"};const yt=function(t){var e=t.className,n=t.style,r=t.caption,o=void 0===r?"":r,i=t.accessKey,a=t.children,s=function(t,e){return t?e.toLowerCase().indexOf(t):-1}(i,o),c=-1===s?o:function(t,e){var n=e.substring(0,t),r=e.substring(t,t+1),o=e.substring(t+1);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("span",{children:n}),(0,D.jsx)("span",{style:mt,children:r}),(0,D.jsx)("span",{children:o})]})}(s,o);return(0,D.jsxs)("span",{className:e,style:n,children:[c,a]})};var xt={color:"#607d8b"},wt=(0,o.forwardRef)((function(t,e){var n=t.className,r=t.style,i=t.clDiv,a=void 0===i?"bt-flat__div":i,s=t.clCaption,c=t.isPrimary,l=t.title,u=void 0===l?"":l,h=t.caption,d=t.accessKey,f=t.timeout,p=void 0===f?500:f,v=t.onClick,g=t.children,m=(0,o.useRef)(),y=ut(v,p);(0,o.useImperativeHandle)(e,(function(){return{focus:function(){var t=m.current;t&&t.focus()}}}),[]);var x=ft("bt-flat",n),w=ft("bt-flat__span",s),C=gt(r,[c,xt]),b=function(t,e){return e?t+" ["+e+"]":t}(u,d);return(0,D.jsx)("button",{ref:m,className:x,style:C,accessKey:d,tabIndex:0,title:b,onClick:y,children:(0,D.jsxs)("div",{className:a,children:[(0,D.jsx)(yt,{className:w,caption:h,accessKey:d}),g]})})}));const Ct=wt;var bt="drawer__list-bt",St={listStyleType:"none"};const kt=function(t){var e=t.style,n=t.onNextPage;return(0,D.jsxs)("ul",{style:b({},St,e),children:[(0,D.jsx)("li",{children:(0,D.jsx)(Ct,{className:bt,caption:"App Settings",onClick:function(){return n("p1-1")}})}),(0,D.jsx)("li",{children:(0,D.jsx)(Ct,{className:bt,caption:"AltCoins",onClick:function(){return n("p1-2")}})})]})};const Dt=function(t){var e=t.onClick;return(0,D.jsx)(Ct,{className:"drawer__list-bt",caption:"< Menu",onClick:e})};var Tt={position:"absolute",top:10,right:0,width:35,paddingRight:5,textAlign:"center",verticalAlign:"middle",cursor:"pointer"},At={display:"inline-block",position:"relative",top:2,width:0,height:0,borderColor:"#999 transparent transparent",borderStyle:"solid",borderWidth:"10px 8px 4px"},Pt=function(t){return t.current};const Mt=(0,o.forwardRef)((function(t,e){var n=t.arrowStyle,r=t.onClick,i=(0,o.useRef)(),a=(0,o.useRef)();return(0,o.useImperativeHandle)(e,(function(){return{startAnimation:function(){var t=Pt(i),e=Pt(a);t&&e&&(t.style.animation="circle infinite 1.25s linear",e.style.borderColor="#1b75bb transparent transparent")},stopAnimation:function(){var t=Pt(i);t&&(t.style.animation="")}}}),[]),(0,D.jsx)("button",{ref:i,style:Tt,tabIndex:"-1",onClick:r,children:(0,D.jsx)("span",{ref:a,style:b({},At,n)})})}));var _t=["className","style","caption","onClick"];const Ot=function(t){var e=t.className,n=void 0===e?"":e,r=t.style,o=t.caption,i=void 0===o?"":o,a=t.onClick,s=S(t,_t);return(0,D.jsx)("button",b({className:"zhn-bt-circle2 "+n,style:r,onClick:a},s,{children:(0,D.jsx)("div",{children:i})}))};var Nt="zhn-select",It={ROOT:Nt,INPUT:Nt+"__input",SPINNER:Nt+"__spinner",SPINNER_FAILED:Nt+"__spinner--failed",INPUT_HR:Nt+"__input__hr",OPTIONS:Nt+"__options",OPTIONS_DIV:Nt+"__options__div",OPTIONS_ROW:Nt+"__row",OPTIONS_ROW_ACTIVE:Nt+"__row--active",FOOTER:Nt+"__footer",FOOTER_INDEX:Nt+"__footer__index",FOOTER_BTS:Nt+"__footer__bts",FOOTER_MARGIN:Nt+"__footer--margin",NOT_SELECTED:"not-selected"},Et="From input:",jt=function(t,e){return t?-1!==(""+t).indexOf("%")?b({},e,{width:t}):b({},e,{width:t+"px"}):null},Ft={BLOCK:{display:"block"},NONE:{display:"none"},ARROW_SHOW:{borderColor:"#1B75BB transparent transparent"}},Rt=function(t){function e(e){var n;(n=t.call(this,e)||this)._setStateToInit=function(t){n.indexActiveOption=0,n.setState({value:"",isShowOption:!1,options:t,isValidDomOptionsCache:!1})},n._getActiveItemComp=function(){return n["v"+n.indexActiveOption]},n._decorateActiveRowComp=function(t){t&&t.classList.add(It.OPTIONS_ROW_ACTIVE),n.indexNode&&(n.indexNode.textContent=n.indexActiveOption+1)},n._undecorateActiveRowComp=function(t){var e=t||n._getActiveItemComp();e&&e.classList.remove(It.OPTIONS_ROW_ACTIVE)},n._makeVisibleActiveRowComp=function(t){if(t){var e=t.offsetTop,r=n.optionsComp.scrollTop;e-r>70&&(n.optionsComp.scrollTop+=e-r-70),e-r<0&&(n.optionsComp.scrollTop=0)}},n._filterOptions=function(t,e){var r=e.toLowerCase(),o=n.propCaption;return t.filter((function(t,e){return-1!==t[o].toLowerCase().indexOf(r)}))},n._handleInputChange=function(t){var e,r,o,i,a,s=t.target.value,c=s.length,l=n.state.value.length,u=[];c!==l&&(c>l?u=n._filterOptions(n.state.options,s):c<l&&(u=n._filterOptions(n.props.options,s)),0===u.length&&u.push((e=n.propCaption,r=s,o=n.props.isWithInput,a=String(r).replace(Et,"").trim(),(i={})[e]=o?"From input: "+a:"No results found",i.value="noresult",i.inputValue=a,i)),n._undecorateActiveRowComp(),n.indexActiveOption=0,n.setState({value:s,isShowOption:!0,isValidDomOptionsCache:!1,options:u}))},n._startAfterInputAnimation=function(){n.state.options.length>800&&n.arrowCell.startAnimation()},n._stopAfterInputAnimation=function(){n.arrowCell.stopAnimation()},n._setShowOptions=function(){n.setState({isShowOption:!0},n._stopAfterInputAnimation)},n._showOptions=function(t){n.props.isShowOptionAnim?(n._startAfterInputAnimation(),setTimeout(n._setShowOptions,t)):n.setState({isShowOption:!0})},n._stepDownOption=function(){var t=n._getActiveItemComp();if(t){n._undecorateActiveRowComp(t),n.indexActiveOption+=1,n.indexActiveOption>=n.state.options.length&&(n.indexActiveOption=0,n.optionsComp.scrollTop=0);var e=n._getActiveItemComp();n._decorateActiveRowComp(e);var r=e.offsetTop,o=n.optionsComp.scrollTop;r-o>70&&(n.optionsComp.scrollTop+=r-o-70)}},n._stepUpOption=function(){var t=n._getActiveItemComp();if(t){if(n._undecorateActiveRowComp(t),n.indexActiveOption-=1,n.indexActiveOption<0){n.indexActiveOption=n.state.options.length-1;var e=n._getActiveItemComp();n.optionsComp.scrollTop=e.offsetTop}var r=n._getActiveItemComp();n._decorateActiveRowComp(r);var o=r.offsetTop,i=n.optionsComp.scrollTop;o-i<70&&(n.optionsComp.scrollTop-=70-(o-i))}},n._handleInputKeyDown=function(t){switch(t.keyCode){case 13:var e=n.state.options[n.indexActiveOption];e&&e[n.propCaption]&&(n.setState({value:e[n.propCaption],isShowOption:!1,isValidDomOptionsCache:!0}),"noresult"!==e.value?n.props.onSelect(e):n.props.isWithInput?n.props.onSelect(function(t,e){var n;return(n={})[e]="From Input",n.value=t.inputValue,n}(e,n.propCaption)):n.props.onSelect(void 0));break;case 27:case 46:t.preventDefault(),n.state.isShowOption?n.setState({isShowOption:!1}):(n._undecorateActiveRowComp(),n._setStateToInit(n.props.options),n.props.onSelect(void 0));break;case 40:n.state.isShowOption?(t.preventDefault(),n._stepDownOption()):n._showOptions(0);break;case 38:n.state.isShowOption&&(t.preventDefault(),n._stepUpOption());break;default:return}},n._handleToggleOptions=function(){n.state.isShowOption?n.setState({isShowOption:!1}):n._showOptions(1)},n._handleClickItem=function(t,e,r){n._undecorateActiveRowComp(),n.indexActiveOption=e,n.setState({value:t[n.propCaption],isShowOption:!1}),n.props.onSelect(t)},n._refIndexNode=function(t){return n.indexNode=t},n._renderOptionsFooter=function(t,e){return(0,D.jsxs)("div",{className:It.FOOTER+" "+It.NOT_SELECTED,children:[(0,D.jsxs)("span",{className:It.FOOTER_INDEX,children:[(0,D.jsx)("span",{ref:n._refIndexNode,children:n.indexActiveOption}),(0,D.jsxs)("span",{children:[": ",t,": ",e]})]}),(0,D.jsxs)("span",{className:It.FOOTER_BTS,children:[(0,D.jsx)(Ot,{className:It.FOOTER_MARGIN,caption:"Dn",onClick:n._stepDownOption}),(0,D.jsx)(Ot,{className:It.FOOTER_MARGIN,caption:"Up",onClick:n._stepUpOption}),(0,D.jsx)(Ot,{caption:"CL",onClick:n.clearInput})]})]})},n._refOptionsComp=function(t){return n.optionsComp=t},n.renderOptions=function(){var t,e=n.props,r=e.rootOptionsStyle,o=e.ItemOptionComp,i=n.state,a=i.isShowOption,s=i.options,c=i.isValidDomOptionsCache,l=n.propCaption;s&&(c?t=n.domOptionsCache:(t=s.map((function(t,e){return(0,D.jsx)("div",{className:It.OPTIONS_ROW,ref:function(t){return n["v"+e]=t},onClick:n._handleClickItem.bind(tt(n),t,e),children:(0,D.jsx)(o,{item:t,propCaption:l})},e)})),n.domOptionsCache=t));var u=n.props.width,h=jt(u,a?Ft.BLOCK:Ft.NONE),d=s[0]&&"noresult"!==s[0].value?s.length:0,f=n.props.options?n.props.options.length:0;return(0,D.jsxs)("div",{className:It.OPTIONS,style:h,"data-scrollable":!0,children:[(0,D.jsx)("div",{ref:n._refOptionsComp,className:It.OPTIONS_DIV,style:b({},r,h),children:t}),n._renderOptionsFooter(d,f)]})},n._refArrowCell=function(t){return n.arrowCell=t},n._crAfterInputEl=function(){var t,e,r=n.props,o=r.isLoading,i=r.isLoadingFailed,a=r.placeholder,s=r.optionName,c=r.onLoadOption,l=n.state,u=l.isShowOption,h=l.optionNames;if(o||i)o?(t="Loading "+h+"...",e=(0,D.jsx)("span",{className:It.SPINNER,"data-loader":"circle"})):i&&(t="Loading "+h+" Failed",e=(0,D.jsx)(Ot,{className:It.SPINNER_FAILED,"data-loader":"circle-failed",onClick:c}));else{var d=u?Ft.ARROW_SHOW:null;t=a||"Select "+s+"...",e=(0,D.jsx)(Mt,{ref:n._refArrowCell,arrowStyle:d,onClick:n._handleToggleOptions})}return{placeholder:t,afterInputEl:e}},n._refDomInputText=function(t){return n.domInputText=t},n.clearInput=function(){var t=n.props,e=t.options,r=t.onSelect;n._undecorateActiveRowComp(),r(void 0),n._setStateToInit(e),n.setState({isShowOption:!1})},n.domOptionsCache=null,n.indexActiveOption=0,n.propCaption=e.propCaption;var r=e.optionName,o=e.optionNames,i=e.options;return n.state={value:"",isShowOption:!1,options:i,optionNames:o||r||"",isValidDomOptionsCache:!1,isLocalMode:!1},n}M(e,t);var n=e.prototype;return n.UNSAFE_componentWillReceiveProps=function(t){this.props!==t&&this.props.options!==t.options&&this._setStateToInit(t.options)},n.shouldComponentUpdate=function(t,e){return this.props!==t?e.isLocalMode=!1:e.isLocalMode=!0,!0},n.componentDidUpdate=function(){if(this.state.isShowOption){var t=this._getActiveItemComp();this._decorateActiveRowComp(t),this._makeVisibleActiveRowComp(t)}},n.render=function(){var t=this.props,e=t.rootStyle,n=t.width,r=this.state,o=r.value,i=r.isLocalMode,a=r.isShowOption,s=jt(n,e),c=this._crAfterInputEl(),l=c.afterInputEl,u=c.placeholder,h=i||a?this.renderOptions():null;return(0,D.jsxs)("div",{className:It.ROOT,style:s,children:[(0,D.jsx)("input",{ref:this._refDomInputText,type:"text",name:"select",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,value:o,className:It.INPUT,placeholder:u,onChange:this._handleInputChange,onKeyDown:this._handleInputKeyDown}),l,(0,D.jsx)("hr",{className:It.INPUT_HR}),h]})},n.focusInput=function(){this.domInputText.focus()},n.focusNotValidInput=function(){this.domInputText.focus()},e}(o.Component);Rt.defaultProps={propCaption:"caption",ItemOptionComp:function(t){var e=t.item,n=t.propCaption;return(0,D.jsx)("span",{children:e[n]})},options:[],optionName:"",optionNames:"",isWithInput:!1,onSelect:function(){},onLoadOption:function(){}};const Lt=Rt;var Wt={display:"flex",alignItems:"center",marginRight:"5px",marginTop:"5px",marginLeft:"5px",marginBottom:"5px"},zt={lineHeight:"unset",marginRight:"5px",marginTop:"5px",marginLeft:"5px",marginBottom:"-4px"},Bt={marginLeft:"12px",marginRight:"12px"},Ut={color:"#1B75BB",display:"inline-block",textAlign:"right",width:"100px",paddingRight:"5px",fontSize:"16px",fontWeight:"bold",userSelect:"none"},Xt={display:"none"};const Ht={rowDiv:b({},Wt),labelSpan:b({},Ut),crRowLabelStyle:function(t){return void 0===t&&(t=!0),{rowStyle:t?b({},Wt):b({},Wt,Bt),labelStyle:t?b({},Ut):b({},Ut,Xt)}},crRowOcSelectStyle:function(t){return void 0===t&&(t=!0),{rowStyle:t?b({},zt):b({},zt,Bt),labelStyle:t?b({},Ut):b({},Ut,Xt)}},validationContainer:{paddingLeft:"10px",paddingTop:"5px",color:"#F44336"},validationMessageNumber:{display:"inline-block",width:"22px",height:"22px",border:"solid 2px #F44336",borderRadius:"50%",textAlign:"center",marginRight:"5px"}};var Yt=["isShowLabels","caption","captionStyle"];const Vt=function(t){var e=t.isShowLabels,n=void 0===e||e,r=t.caption,o=void 0===r?"":r,i=t.captionStyle,a=S(t,Yt),s=-1===o.indexOf(":")&&""!==o?o+":":o,c=Ht.crRowLabelStyle(n),l=c.rowStyle,u=c.labelStyle,h=b({width:"270"},a,{optionName:n?"":o.replace(":","")});return(0,D.jsxs)("div",{style:l,children:[(0,D.jsx)("span",{style:b({},u,i),children:s}),(0,D.jsx)(Lt,b({},h))]})};const qt=function(t){var e=t.style,n=t.exchanges,r=t.onSelectExchange,o=t.isMarkets,i=void 0===o?{}:o,a=t.markets,s=t.onSelectMarket,c=t.timeframes,l=t.onSelectTimeframe;return(0,D.jsxs)("div",{style:e,children:[(0,D.jsx)(Vt,{isShowLabels:!1,placeholder:"Exchanges",options:n,onSelect:r}),(0,D.jsx)(Vt,{isShowLabels:!1,placeholder:"Time Frames (Default: 1d)",options:c,onSelect:l}),(0,D.jsx)(Vt,{isShowLabels:!1,placeholder:"Markets",isLoading:i.loading,isLoadingFailed:i.failed,options:a,onSelect:s})]})};var Zt="MARKET_LOADING",Gt="MARKET_LOADED",$t="MARKET_LOADING_FAIL",Kt="EXCHANGES_SET",Jt="EXCHANGE_SET",Qt="PAIR_SET";const te=function(t,e){switch(e.type){case Zt:return b({},t,{isMarkets:{loading:!0,failed:!1}});case Gt:return b({},t,{exchange:e.exchange,markets:e.markets,isMarkets:{loading:!1,failed:!1}});case $t:return b({},t,{isMarkets:{loading:!1,failed:!0}});case Kt:return b({},t,{exchanges:e.exchanges});case Jt:return b({},t,{exchange:e.exchange,pair:void 0});case Qt:return b({},t,{pair:e.pair});default:throw new TypeError("Not existed action "+e.type)}};const ee={exchange:"",pair:"",isMarkets:{loading:!1,failed:!1},exchanges:[],markets:[]};const ne=function(t){var e=t.dispatch,n=t.exchImpl,r=t.exchange,o=t.proxy;e({type:Zt}),n.fetchMarkets(o).then((function(t){e({type:Gt,exchange:r,markets:t})})).catch((function(t){e({type:$t}),console.log(t.message)}))};const re=function(t){var e=t.exchImpl,n=t.exchange,r=t.pair,o=t.timeframe,i=t.dataAction,a=t.proxy;i.loading();var s="object"==typeof o?o:{v:o,tf:o},c=s.v,l=s.tf;e.fetchOHLCV(r,c,a).then((function(t){0!==t.length&&i.loadData({providerTitle:n,itemTitle:r,data:t,timeframe:l})})).catch((function(t){i.loadFailed(),console.log(t.message)}))};const oe=function(t){return fetch(t).then((function(t){var e=t.status;if(e>=200&&e<400)return t.json();throw new Error("Response is incorrect: "+e)}))};var ie=Array.isArray,ae=function(t,e){var n=e?(t||{})[e]:t;return ie(n)?n:[]},se=function(t,e){return t.caption<e.caption?-1:t.caption>e.caption?1:0},ce=function(t){return"object"==typeof t},le={fetchMarkets:function(){return oe("https://api.binance.com/api/v3/exchangeInfo").then((function(t){return ae(t,"symbols").reduce((function(t,e){var n=e||{},r=n.baseAsset,o=n.quoteAsset;return"TRADING"===n.status&&t.push({caption:r+"/"+o,value:""+r+o}),t}),[]).sort(se)}))},getTimeframes:function(){return[{caption:"1m",value:"1m"},{caption:"3m",value:"3m"},{caption:"5m",value:"5m"},{caption:"15m",value:"15m"},{caption:"30m",value:"30m"},{caption:"1h",value:"1h"},{caption:"2h",value:"2h"},{caption:"4h",value:"4h"},{caption:"8h",value:"8h"},{caption:"12h",value:"12h"},{caption:"1d",value:"1d"},{caption:"3d",value:"3d"},{caption:"1w",value:"1w"},{caption:"1M",value:"1M"}]},fetchOHLCV:function(t,e){return oe(function(t,e){return"https://api.binance.com/api/v3/klines?symbol="+t+"&interval="+e}(t,e)).then((function(t){return ae(t).reduce((function(t,e){return ce(e)&&t.push({date:e[0],open:parseFloat(e[1]),high:parseFloat(e[2]),low:parseFloat(e[3]),close:parseFloat(e[4]),volume:parseFloat(e[5])}),t}),[])}))}};const ue={binance:le,bitstamp:{isRequireProxy:!0,fetchMarkets:function(t){return oe(t+"/https://www.bitstamp.net/api/v2/trading-pairs-info/").then((function(t){return ae(t).reduce((function(t,e){var n=e||{},r=n.trading,o=n.name,i=n.url_symbol;if("Enabled"===r)return t.push({caption:o,value:i}),t}),[])}))},getTimeframes:function(){return[{caption:"1m",value:{v:"60",tf:"1m"}},{caption:"3m",value:{v:"180",tf:"3m"}},{caption:"5m",value:{v:"300",tf:"5m"}},{caption:"15m",value:{v:"900",tf:"15m"}},{caption:"30m",value:{v:"1800",tf:"30m"}},{caption:"1h",value:{v:"3600",tf:"1h"}},{caption:"2h",value:{v:"7200",tf:"2h"}},{caption:"4h",value:{v:"14400",tf:"4h"}},{caption:"10h",value:{v:"21600",tf:"10h"}},{caption:"12h",value:{v:"43200",tf:"12h"}},{caption:"1d",value:{v:"86400",tf:"1d"}},{caption:"3d",value:{v:"259200",tf:"3d"}}]},fetchOHLCV:function(t,e,n){return oe(function(t,e,n){return n+"/https://www.bitstamp.net/api/v2/ohlc/"+t+"?step="+e+"&limit=300"}(t,e,n)).then((function(t){return ae((t||{}).data,"ohlc").reduce((function(t,e){return ce(e)&&t.push({date:1e3*parseFloat(e.timestamp),open:parseFloat(e.open),high:parseFloat(e.high),low:parseFloat(e.low),close:parseFloat(e.close),volume:parseFloat(e.volume)}),t}),[])}))}}};var he=[{caption:"Binance",value:"binance"},{caption:"Bitstamp",value:"bitstamp"}],de="1d",fe={height:400},pe={paddingLeft:8},ve=function(t,e){return"binance"===t&&"1m"===e},ge=function(t,e){return t.isRequireProxy&&!e};const me=function(t){var e=t.style,n=t.onPrevPage,r=(0,o.useContext)(s),i=r.appSettings,a=r.dataAction,c=r.onLiveUpdate,u=r.onStopUpdate,h=(0,o.useContext)(l).isLiveUpdating,d=(0,o.useReducer)(te,ee),f=d[0],p=d[1],v=f.exchange,g=f.pair,m=f.isMarkets,y=f.exchanges,x=f.markets,w=(0,o.useState)([]),C=w[0],S=w[1],k=(0,o.useState)(de),T=k[0],A=k[1],P=(0,o.useRef)(null);(0,o.useEffect)((function(){p({type:Kt,exchanges:he})}),[]),(0,o.useEffect)((function(){if(v){P.current=function(t){return ue[t]}(v);var t=P.current,e=i.proxy();if(ge(t,e))return;A(de),S(t.getTimeframes()),ne({dispatch:p,exchange:v,exchImpl:t,proxy:e})}}),[v]),(0,o.useEffect)((function(){if(g&&T){var t=P.current,e=i.proxy();if(ge(t,e))return;re({exchange:v,pair:g,timeframe:T,exchImpl:t,dataAction:a,proxy:e})}}),[g,T]);return(0,D.jsxs)("div",{style:b({},fe,e),children:[(0,D.jsx)(Dt,{onClick:n}),(0,D.jsx)(qt,{exchanges:y,onSelectExchange:function(t){t&&t.value&&p({type:Jt,exchange:t.value})},isMarkets:m,markets:x,onSelectMarket:function(t){p({type:Qt,pair:t&&t.value||void 0})},timeframes:C,onSelectTimeframe:function(t){A(t&&t.value||de)}}),ve(v,T)&&(0,D.jsx)("div",{style:pe,children:(0,D.jsx)(Ct,{caption:h?"Stop Updating":"Live Updating 1min",onClick:h?u:function(){return c(g)}})})]})};var ye={display:"inline",color:"green",height:26,width:40,paddingLeft:5,margin:"0 5px",fontSize:"16px",fontWeight:"bold",border:"medium none",outline:"medium none",background:"transparent none repeat scroll 0 0",backgroundColor:"#e1e1cb"},xe="text",we="off",Ce=function(){},be=(0,o.forwardRef)((function(t,e){var n=t.initValue,r=t.style,i=t.spellCheck,a=t.placeholder,s=t.type,c=void 0===s?xe:s,l=t.maxLenght,u=void 0===l?125:l,h=t.onEnter,d=void 0===h?Ce:h,f=(0,o.useRef)(),p=(0,o.useState)((function(){return null!=n?n:""})),v=p[0],g=p[1],m=(0,o.useCallback)((function(t){var e=t.target.value;e.length<=u&&g(e)}),[u]),y=(0,o.useCallback)((function(t){switch(t.keyCode){case 27:case 46:t.preventDefault(),g("");break;case 13:d(t.target.value);break;default:return}}),[]);(0,o.useImperativeHandle)(e,(function(){return{getValue:function(){return(f.current||{}).value},setValue:function(t){return g(t)}}}),[]);var x=i?"on":we,w=!!i;return(0,D.jsx)("input",{ref:f,style:b({},ye,r),type:c,name:xe,autoCapitalize:we,autoComplete:we,autoCorrect:x,spellCheck:w,translate:"false",value:v,placeholder:a,maxLength:u,onChange:m,onKeyDown:y})}));const Se=be;var ke={paddingLeft:4},De={color:"#265782",display:"inline-block",padding:"0 0 4px 8px",fontWeight:"bold"},Te={display:"block",width:"92%",height:32,padding:"8px 0 8px 4px"},Ae={float:"right",padding:"6px 22px 0 0"},Pe="http://127.0.0.1",Me=function(t){return!!function(t){return"string"==typeof t}(t)&&-1!==t.indexOf(Pe)};const _e=function(t){var e=t.style,n=t.onPrevPage,r=(0,o.useContext)(s).appSettings,a=(0,o.useRef)(),c=(0,o.useState)(0),l=c[0],u=c[1],h=r.proxy();return(0,D.jsxs)("div",{style:b({},ke,e),children:[(0,D.jsx)(Dt,{onClick:n}),(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{style:De,children:"Local Proxy Server"}),(0,D.jsx)(Se,{ref:a,style:Te,initValue:h,placeholder:Pe,onEnter:function(t){Me(t)?r.proxy(t):i(a).setValue("")}},l),(0,D.jsxs)("div",{style:Ae,children:[(0,D.jsx)(Ct,{caption:"Clear",onClick:function(){r.clearProxy(),u((function(t){return t+1}))}}),(0,D.jsx)(Ct,{caption:"Apply",onClick:function(){var t=i(a),e=t.getValue();Me(e)?r.proxy(e):t.setValue("")}})]})]})]})};const Oe={p1:kt,"p1-1":_e,"p1-2":me};var Ne="drawer__list";const Ie=function(t){var e=t.onCloseDrawer,n=(0,o.useContext)(s),r=n.theme,i=n.setThemeId,a=(0,o.useContext)(c),l=r.getDrawerStyle(a);return(0,D.jsxs)("div",{className:Ne,style:l,children:[(0,D.jsx)(Q,{setThemeId:i,onClose:e}),(0,D.jsx)(ct,{pageRouter:Oe,initialPageId:"p1",maxPages:4})]})};const Ee=function(t){return(0,D.jsx)(H,{children:(0,D.jsx)(Ie,b({},t))})};var je={position:"relative",top:6,left:8,display:"inline-block",verticalAlign:"middle",cursor:"pointer"},Fe={color:"#80c040",display:"inline-block",paddingLeft:6,fontSize:16,fontWeight:"bold"};const Re=function(t){var e=t.spinnerCn,n=t.onStopUpdate,r=(0,o.useContext)(l),i=r.isLiveUpdating,a=r.sec;return i&&(0,D.jsxs)("button",{style:je,onClick:n,children:[(0,D.jsx)("span",{className:e,"data-loader":"circle"}),(0,D.jsx)("span",{style:Fe,children:a})]})};var Le=["fetchStatus","providerTitle","itemTitle","timeframe","isLiveUpdating"],We=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},ze=function(t){var e=t.text,n=t.is;return(0,D.jsxs)("span",{className:k.HEADER_TITLE,children:[We(e),!n&&(0,D.jsx)("span",{children:":Â "})]})};const Be=function(t){var e=t.fetchStatus,n=t.providerTitle,r=void 0===n?"":n,i=t.itemTitle,a=void 0===i?"":i,l=t.timeframe,u=void 0===l?"":l,h=(t.isLiveUpdating,S(t,Le)),d=(0,o.useContext)(s),f=d.theme,p=d.onStopUpdate,v=(0,o.useContext)(c),g=f.getHeaderStyle(v);return(0,D.jsxs)("header",{className:k.HEADER,style:g,children:[(0,D.jsx)(R,{fetchStatus:e}),(0,D.jsx)(T,{}),(0,D.jsx)("span",{className:k.TITLE_GAP}),(0,D.jsx)(ze,{text:r}),(0,D.jsx)(ze,{text:a}),(0,D.jsx)(ze,{text:u,is:!0}),(0,D.jsx)(Re,{spinnerCn:k.SPINNER,onStopUpdate:p}),(0,D.jsx)(Ee,b({},h))]})};var Ue=n(697),Xe=n.n(Ue),He=n(356);function Ye(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const Ve=Symbol("implicit");var qe=function(t,e,n){var r=e[n];if("function"!=typeof r)throw new Error("Attempt to rebind "+n+" which isn't a function on the source object");return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var a=r.apply(e,o);return a===e?t:a}},Ze=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];for(var i=0,a=r;i<a.length;i++){var s=a[i];t[s]=qe(t,e,s)}return t};const Ge=function(t){return t};function $e(){var t=Ge,e=function(t){return t.length};function n(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r.length;if(!i)return[];for(var a=(0,He.VV)(r,e),s=new Array(a),c=-1;++c<a;){for(var l=-1,u=s[c]=new Array(i);++l<i;)u[l]=r[l][c];s[c]=t.apply(this,s[c])}return s}return n.combine=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n}function Ke(){var t=Ge,e=!0,n=function(){};function r(r){var o=$e().combine((function(t,r){var o=e&&void 0===r?t:n(t,r);return void 0===o?t:o}));return o(r,t(r))}return r.algorithm=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.merge=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r.skipUndefined=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r}var Je=Array.isArray,Qe=function(t){void 0===t&&(t=[]);var e=Je(t)?t:[t],n=e.length;return function(t,r){if(0===n)return null!=t?t:r;for(var o=0;null!=t&&o<n;)t=t[e[o++]];return o===n?t:r}},tn=function(t){return"function"==typeof t?t:function(){return t}};function en(){var t,e,n,r=void 0,o=10,i=function(){},a=0,s=function(s){var c=e||Qe(t),l=tn(o).apply(this,arguments),u=s.slice(a,l+a).map(c),h=0,d=tn(r);return s.map((function(t,e){return e<a+l-1?d(c(t),e,n):(e>=a+l&&(u.shift(),u.push(c(t,e))),i(u,e,h++,n))}))};return s.undefinedValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],s):r},s.windowSize=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],s):o},s.misc=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],s):n},s.accumulator=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],s):i},s.skipInitial=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],s):a},s.sourcePath=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.source=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s}var nn=function(t){switch(t){default:case"Solid":return"none";case"ShortDash":return"6, 2";case"ShortDash2":return"6, 3";case"ShortDot":return"2, 2";case"ShortDashDot":return"6, 2, 2, 2";case"ShortDashDotDot":return"6, 2, 2, 2, 2, 2";case"Dot":return"2, 6";case"Dash":return"4, 6";case"LongDash":return"16, 6";case"DashDot":return"8, 6, 2, 6";case"LongDashDot":return"16, 6, 2, 6";case"LongDashDotDot":return"16, 6, 2, 6, 2, 6"}},rn=function(t){var e=nn(t).split(",");return 1===e.length?[]:e.map((function(t){return Number(t)}))},on=function(t){return"translate("+t[0]+", "+t[1]+")"},an=function t(){var e=new Map,n=[],r=[],o=Ve;function i(t){var i=t+"",a=e.get(i);if(!a){if(o!==Ve)return o;e.set(i,a=n.push(t))}return r[(a-1)%r.length]}return i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=new Map;for(const r of t){const t=r+"";e.has(t)||e.set(t,n.push(r))}return i},i.range=function(t){return arguments.length?(r=Array.from(t),i):r.slice()},i.unknown=function(t){return arguments.length?(o=t,i):o},i.copy=function(){return t(n,r).unknown(o)},Ye.apply(i,arguments),i}(["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"]),sn=function(t){return null!=t},cn=function(t){return!sn(t)};var ln=function(t,e){var n=t.replace("#","");if(t.indexOf("#")>-1&&(3===n.length||6===n.length)){var r=3===n.length?1:2;return"rgba("+parseInt(n.substring(0,1*r),16)+", "+parseInt(n.substring(1*r,2*r),16)+", "+parseInt(n.substring(2*r,3*r),16)+", "+e+")"}return t},un=function(t,e){if(!e||!t){var n=t?t.length:0;return n?t[n-1]:void 0}for(var r,o=t.length-1;o>=0;o--)if(r=t[o],sn(e(r)))return r},hn=function(t,e){if(!e||!t)return t?t[0]:void 0;for(var n,r=0;r<t.length;r++)if(n=t[r],sn(e(n)))return n},dn=hn,fn=function(t,e){var n,r=t.widthRatio,o=e.xScale,i=o.range(),a=i[0],s=i[1],c=Math.abs(s-a);if(null!=o.invert){var l=o.domain(),u=l[0],h=l[1];n=c/Math.abs(u-h)}else n=c/o.domain().length;return n*r},pn=function(t,e,n){for(var r=0,o=t.length-1;o-r>1;){var i=Math.round((r+o)/2);n(t[i])<=e?r=i:o=i}var a=n(t[r]),s=n(t[o]);return(null==a?void 0:a.valueOf())===(null==e?void 0:e.valueOf())&&(o=r),(null==s?void 0:s.valueOf())===(null==e?void 0:e.valueOf())&&(r=o),a<e&&s<e&&(r=o),a>e&&s>e&&(o=r),{left:r,right:o}},vn=function(t,e){if(t===e)return!0;if(!(t instanceof Object&&e instanceof Object))return!1;for(var n=Object.keys(t),r=n.length,o=0;o<r;o++)if(!(n[o]in e))return!1;for(var i=0;i<r;i++)if(t[n[i]]!==e[n[i]])return!1;return r===Object.keys(e).length},gn=function(t){function e(){return t.apply(this,arguments)||this}return M(e,t),e.prototype.shouldComponentUpdate=function(t,e,n){return!vn(this.props,t)||!vn(this.state,e)||!vn(this.context,n)},e}(o.Component),mn=Array.isArray,yn=function(t){return(t>0)-(t<0)},xn=function(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)},wn="mouseenter.interaction",Cn="mouseleave.interaction",bn="mousemove.pan",Sn="mouseup.pan",kn="touchmove.pan",Dn="touchend.pan touchcancel.pan",Tn=function(t){return{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY}},An=function(t,e,n){return[Math.round(t.clientX-e.left-n.clientLeft),Math.round(t.clientY-e.top-n.clientTop)]},Pn=function(t,e){var n=e.currentTarget,r=n.getBoundingClientRect();return An(t,r,n)},Mn=function(t,e){var n=t.currentTarget,r=null!=e?e:n.getBoundingClientRect();return An(t,r,n)},_n=function(t,e){t.forEach((function(t){t.setTransform(1,0,0,1,0,0),t.clearRect(-1,-1,t.canvas.width+2,t.canvas.height+2),t.scale(e,e)}))},On=n(779),Nn=n.n(On),In=Math.sqrt(50),En=Math.sqrt(10),jn=Math.sqrt(2);function Fn(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=In?10:i>=En?5:i>=jn?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=In?10:i>=En?5:i>=jn?2:1)}function Rn(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=In?o*=10:i>=En?o*=5:i>=jn&&(o*=2),e<t?-o:o}function Ln(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Wn(t){let e=t,n=t;function r(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)<0?r=i+1:o=i}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>Ln(t(e),n)}(t)),{left:r,center:function(t,n,o,i){null==o&&(o=0),null==i&&(i=t.length);const a=r(t,n,o,i-1);return a>o&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)>0?o=i:r=i+1}return r}}}const zn=Wn(Ln),Bn=zn.right,Un=(zn.left,Wn((function(t){return null===t?NaN:+t})).center,Bn);function Xn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Hn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yn(){}var Vn=.7,qn=1/Vn,Zn="\\s*([+-]?\\d+)\\s*",Gn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",$n="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kn=/^#([0-9a-f]{3})$/,Jn=/^#([0-9a-f]{6})$/,Qn=new RegExp("^rgb\\("+[Zn,Zn,Zn]+"\\)$"),tr=new RegExp("^rgb\\("+[$n,$n,$n]+"\\)$"),er=new RegExp("^rgba\\("+[Zn,Zn,Zn,Gn]+"\\)$"),nr=new RegExp("^rgba\\("+[$n,$n,$n,Gn]+"\\)$"),rr=new RegExp("^hsl\\("+[Gn,$n,$n]+"\\)$"),or=new RegExp("^hsla\\("+[Gn,$n,$n,Gn]+"\\)$"),ir={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ar(t){var e;return t=(t+"").trim().toLowerCase(),(e=Kn.exec(t))?new hr((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Jn.exec(t))?sr(parseInt(e[1],16)):(e=Qn.exec(t))?new hr(e[1],e[2],e[3],1):(e=tr.exec(t))?new hr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=er.exec(t))?cr(e[1],e[2],e[3],e[4]):(e=nr.exec(t))?cr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=rr.exec(t))?fr(e[1],e[2]/100,e[3]/100,1):(e=or.exec(t))?fr(e[1],e[2]/100,e[3]/100,e[4]):ir.hasOwnProperty(t)?sr(ir[t]):"transparent"===t?new hr(NaN,NaN,NaN,0):null}function sr(t){return new hr(t>>16&255,t>>8&255,255&t,1)}function cr(t,e,n,r){return r<=0&&(t=e=n=NaN),new hr(t,e,n,r)}function lr(t){return t instanceof Yn||(t=ar(t)),t?new hr((t=t.rgb()).r,t.g,t.b,t.opacity):new hr}function ur(t,e,n,r){return 1===arguments.length?lr(t):new hr(t,e,n,null==r?1:r)}function hr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function dr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function fr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gr(t,e,n,r)}function pr(t){if(t instanceof gr)return new gr(t.h,t.s,t.l,t.opacity);if(t instanceof Yn||(t=ar(t)),!t)return new gr;if(t instanceof gr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,c=(i+o)/2;return s?(a=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=c<.5?i+o:2-i-o,a*=60):s=c>0&&c<1?0:a,new gr(a,s,c,t.opacity)}function vr(t,e,n,r){return 1===arguments.length?pr(t):new gr(t,e,n,null==r?1:r)}function gr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function mr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Xn(Yn,ar,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Xn(hr,ur,Hn(Yn,{brighter:function(t){return t=null==t?qn:Math.pow(qn,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Vn:Math.pow(Vn,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+dr(this.r)+dr(this.g)+dr(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Xn(gr,vr,Hn(Yn,{brighter:function(t){return t=null==t?qn:Math.pow(qn,t),new gr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Vn:Math.pow(Vn,t),new gr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new hr(mr(t>=240?t-240:t+120,o,r),mr(t,o,r),mr(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var yr=Math.PI/180,xr=180/Math.PI,wr=.96422,Cr=.82521,br=4/29,Sr=6/29,kr=3*Sr*Sr;function Dr(t){if(t instanceof Tr)return new Tr(t.l,t.a,t.b,t.opacity);if(t instanceof Ir){if(isNaN(t.h))return new Tr(t.l,0,0,t.opacity);var e=t.h*yr;return new Tr(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof hr||(t=lr(t));var n,r,o=_r(t.r),i=_r(t.g),a=_r(t.b),s=Ar((.2225045*o+.7168786*i+.0606169*a)/1);return o===i&&i===a?n=r=s:(n=Ar((.4360747*o+.3850649*i+.1430804*a)/wr),r=Ar((.0139322*o+.0971045*i+.7141733*a)/Cr)),new Tr(116*s-16,500*(n-s),200*(s-r),t.opacity)}function Tr(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Ar(t){return t>.008856451679035631?Math.pow(t,1/3):t/kr+br}function Pr(t){return t>Sr?t*t*t:kr*(t-br)}function Mr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _r(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Or(t){if(t instanceof Ir)return new Ir(t.h,t.c,t.l,t.opacity);if(t instanceof Tr||(t=Dr(t)),0===t.a&&0===t.b)return new Ir(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*xr;return new Ir(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Nr(t,e,n,r){return 1===arguments.length?Or(t):new Ir(t,e,n,null==r?1:r)}function Ir(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}Xn(Tr,(function(t,e,n,r){return 1===arguments.length?Dr(t):new Tr(t,e,n,null==r?1:r)}),Hn(Yn,{brighter:function(t){return new Tr(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Tr(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new hr(Mr(3.1338561*(e=wr*Pr(e))-1.6168667*(t=1*Pr(t))-.4906146*(n=Cr*Pr(n))),Mr(-.9787684*e+1.9161415*t+.033454*n),Mr(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Xn(Ir,Nr,Hn(Yn,{brighter:function(t){return new Ir(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ir(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Dr(this).rgb()}}));var Er=-.14861,jr=1.78277,Fr=-.29227,Rr=-.90649,Lr=1.97294,Wr=Lr*Rr,zr=Lr*jr,Br=jr*Fr-Rr*Er;function Ur(t){if(t instanceof Hr)return new Hr(t.h,t.s,t.l,t.opacity);t instanceof hr||(t=lr(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(Br*r+Wr*e-zr*n)/(Br+Wr-zr),i=r-o,a=(Lr*(n-o)-Fr*i)/Rr,s=Math.sqrt(a*a+i*i)/(Lr*o*(1-o)),c=s?Math.atan2(a,i)*xr-120:NaN;return new Hr(c<0?c+360:c,s,o,t.opacity)}function Xr(t,e,n,r){return 1===arguments.length?Ur(t):new Hr(t,e,n,null==r?1:r)}function Hr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Yr(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}function Vr(t){return function(){return t}}function qr(t,e){return function(n){return t+n*e}}function Zr(t,e){var n=e-t;return n?qr(t,n>180||n<-180?n-360*Math.round(n/360):n):Vr(isNaN(t)?e:t)}function Gr(t){return 1==(t=+t)?$r:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Vr(isNaN(e)?n:e)}}function $r(t,e){var n=e-t;return n?qr(t,n):Vr(isNaN(t)?e:t)}Xn(Hr,Xr,Hn(Yn,{brighter:function(t){return t=null==t?qn:Math.pow(qn,t),new Hr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Vn:Math.pow(Vn,t),new Hr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*yr,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new hr(255*(e+n*(Er*r+jr*o)),255*(e+n*(Fr*r+Rr*o)),255*(e+n*(Lr*r)),this.opacity)}}));const Kr=function t(e){var n=Gr(e);function r(t,e){var r=n((t=ur(t)).r,(e=ur(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=$r(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Jr(t){return function(e){var n,r,o=e.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=ur(e[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=t(i),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=s(t),r+""}}}Jr((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,s=r<e-1?t[r+2]:2*i-o;return Yr((n-r/e)*e,a,o,i,s)}})),Jr((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Yr((n-r/e)*e,o,i,a,s)}}));function Qr(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=ao(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function to(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}function eo(t,e){return e-=t=+t,function(n){return t+e*n}}function no(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=ao(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var ro=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oo=new RegExp(ro.source,"g");function io(t,e){var n,r,o,i=ro.lastIndex=oo.lastIndex=0,a=-1,s=[],c=[];for(t+="",e+="";(n=ro.exec(t))&&(r=oo.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:eo(n,r)})),i=oo.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}function ao(t,e){var n,r=typeof e;return null==e||"boolean"===r?Vr(e):("number"===r?eo:"string"===r?(n=ar(e))?(e=n,Kr):io:e instanceof ar?Kr:e instanceof Date?to:Array.isArray(e)?Qr:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?no:eo)(t,e)}function so(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}var co,lo,uo,ho,fo=180/Math.PI,po={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vo(t,e,n,r,o,i){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*fo,skewX:Math.atan(c)*fo,scaleX:a,scaleY:s}}function go(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var s=[],c=[];return i=t(i),a=t(a),function(t,r,o,i,a,s){if(t!==o||r!==i){var c=a.push("translate(",null,e,null,n);s.push({i:c-4,x:eo(t,o)},{i:c-2,x:eo(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,c),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:eo(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,s,c),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:eo(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,s,c),function(t,e,n,r,i,a){if(t!==n||e!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:eo(t,n)},{i:s-2,x:eo(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,c),i=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)s[(e=c[n]).i]=e.x(t);return s.join("")}}}go((function(t){return"none"===t?po:(co||(co=document.createElement("DIV"),lo=document.documentElement,uo=document.defaultView),co.style.transform=t,t=uo.getComputedStyle(lo.appendChild(co),null).getPropertyValue("transform"),lo.removeChild(co),vo(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),go((function(t){return null==t?po:(ho||(ho=document.createElementNS("http://www.w3.org/2000/svg","g")),ho.setAttribute("transform",t),(t=ho.transform.baseVal.consolidate())?vo((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):po)}),", ",")",")"),Math.SQRT2;function mo(t){return function(e,n){var r=t((e=vr(e)).h,(n=vr(n)).h),o=$r(e.s,n.s),i=$r(e.l,n.l),a=$r(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=i(t),e.opacity=a(t),e+""}}}mo(Zr);mo($r);function yo(t){return function(e,n){var r=t((e=Nr(e)).h,(n=Nr(n)).h),o=$r(e.c,n.c),i=$r(e.l,n.l),a=$r(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=o(t),e.l=i(t),e.opacity=a(t),e+""}}}yo(Zr);yo($r);function xo(t){return function e(n){function r(e,r){var o=t((e=Xr(e)).h,(r=Xr(r)).h),i=$r(e.s,r.s),a=$r(e.l,r.l),s=$r(e.opacity,r.opacity);return function(t){return e.h=o(t),e.s=i(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}xo(Zr);xo($r);function wo(t){return+t}var Co=[0,1];function bo(t){return t}function So(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function ko(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=So(o,r),i=n(a,i)):(r=So(r,o),i=n(i,a)),function(t){return i(r(t))}}function Do(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=So(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(e){var n=Un(t,e,1,r)-1;return i[n](o[n](e))}}function To(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ao(){var t,e,n,r,o,i,a=Co,s=Co,c=ao,l=bo;function u(){var t,e,n,c=Math.min(a.length,s.length);return l!==bo&&(t=a[0],e=a[c-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),r=c>2?Do:ko,o=i=null,h}function h(e){return null==e||isNaN(e=+e)?n:(o||(o=r(a.map(t),s,c)))(t(l(e)))}return h.invert=function(n){return l(e((i||(i=r(s,a.map(t),eo)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,wo),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),c=so,u()},h.clamp=function(t){return arguments.length?(l=!!t||bo,u()):l!==bo},h.interpolate=function(t){return arguments.length?(c=t,u()):c},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function Po(){return Ao()(bo,bo)}var Mo=n(196),_o=n(85);var Oo=n(602);function No(t,e,n,r){var o,i=Rn(t,e,n);switch((r=(0,Mo.Z)(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,_o.Z)(e)/3)))-(0,_o.Z)(Math.abs(t)))}(i,a))||(r.precision=o),(0,Oo.jH)(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,(0,_o.Z)(e)-(0,_o.Z)(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-(0,_o.Z)(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return(0,Oo.WU)(r)}function Io(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,o,i,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=Fn(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)/a}return r&&i.reverse(),i}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return No(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),a=0,s=i.length-1,c=i[a],l=i[s],u=10;for(l<c&&(o=c,c=l,l=o,o=a,a=s,s=o);u-- >0;){if((o=Fn(c,l,n))===r)return i[a]=c,i[s]=l,e(i);if(o>0)c=Math.floor(c/o)*o,l=Math.ceil(l/o)*o;else{if(!(o<0))break;c=Math.ceil(c*o)/o,l=Math.floor(l*o)/o}r=o}return t},t}var Eo=function(t){return"chart_"+t},jo=function(t,e){return t.chartConfig.find((function(t){return t.id===e}))},Fo=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).listener=function(t,n,r,o){var i=e.props,a=i.id,s=i.onContextMenu,c=i.onDoubleClick;switch(t){case"contextmenu":if(void 0===s)return;n.currentCharts.indexOf(a)>-1&&s(o,n);break;case"dblclick":if(void 0===c)return;n.currentCharts.indexOf(a)>-1&&c(o,n);break;default:return}},e}M(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props.id;(0,this.context.subscribe)(Eo(t),{listener:this.listener})},n.componentWillUnmount=function(){var t=this.props.id;(0,this.context.unsubscribe)(Eo(t))},n.getChildContext=function(){var t=this.props.id;return{chartId:t,chartConfig:jo(this.context,t)}},n.render=function(){var t=this.props,e=t.id,n=t.children,r=jo(this.context,e).origin,o=on(r);return(0,D.jsx)("g",{transform:o,children:n})},e}(gn);Fo.defaultProps={flipYScale:!1,id:0,origin:[0,0],padding:0,yPan:!0,yPanEnabled:!1,yScale:function t(){var e=Po();return e.copy=function(){return To(e,t())},Ye.apply(e,arguments),Io(e)}()},Fo.contextTypes={chartConfig:Xe().array,subscribe:Xe().func.isRequired,unsubscribe:Xe().func.isRequired},Fo.childContextTypes={chartConfig:Xe().object.isRequired,chartId:Xe().oneOfType([Xe().number,Xe().string]).isRequired};const Ro=Fo;var Lo=Array.isArray,Wo=function(t){return function(e){var n=t(e);return function(t){return sn(t)&&"object"==typeof t&&!mn(t)}(n)?function(t,e){void 0===t&&(t={}),void 0===e&&(e=function(t){return t});var n=Object.keys(t),r=new Array(n.length);return n.forEach((function(n,o){r[o]=e(t[n],n,t)})),r}(n):n}},zo=function(t){if(Lo(t)&&2===t.length){var e=t[0],n=t[1];return"number"==typeof e&&"number"==typeof n}return!1},Bo=function(t,e,n){return void 0===n&&(n=[]),o.Children.map(e,(function(e){if(null!=e&&(void 0!==(S=e.props)&&void 0!==S.id)){var r=b({},Ro.defaultProps,e.props),o=r.id,i=r.origin,a=r.padding,s=r.yExtents,c=r.yScale,l=r.flipYScale,u=r.yExtentsCalculator,h=c.copy(),d=function(t,e){var n=t.width,r=t.height;return{availableHeight:r,width:n,height:e.height||r}}(t,r),f=d.width,p=d.height,v=d.availableHeight,g=r.yPan,m=sn(s)?(Lo(s)?s:[s]).map(tn):void 0,y=n.find((function(t){return t.id===o})),x=r.yPanEnabled;if(zo(s))if(sn(y)&&y.yPan&&y.yPanEnabled&&g&&x&&vn(y.originalYExtentsProp,s))h.domain(y.yScale.domain());else{var w=s[0],C=s[1];h.domain([w,C])}else sn(y)&&y.yPanEnabled&&(zo(y.originalYExtentsProp)||(h.domain(y.yScale.domain()),x=!0));return{id:o,origin:tn(i)(f,v),padding:a,originalYExtentsProp:s,yExtents:m,yExtentsCalculator:u,flipYScale:l,yScale:h,yPan:g,yPanEnabled:x,width:f,height:p}}var S})).filter((function(t){return void 0!==t}))},Uo=function(t,e){return t.filter((function(t){var n=t.origin[1],r=n+t.height;return e[1]>n&&e[1]<r})).map((function(t){return t.id}))},Xo=function(t,e,n,r,o){var i=e.plotData,a=e.xAccessor,s=e.displayXAccessor,c=e.fullData,l=t.map((function(t){var e=t.yExtentsCalculator,o=t.yExtents,l=t.yScale,u=sn(e)?e({plotData:i,xDomain:n,xAccessor:a,displayXAccessor:s,fullData:c}):function(t,e,n){var r=t.map((function(t){return n.map(Wo(t))})),o=Nn()(r);return e.invert?(0,He.We)(o):[].concat(new Set(o).values())}(o,l,i),h=void 0!==r?l.range().map((function(t){return t-r})).map(l.invert):l.domain();return{realYDomain:u,yDomainDY:h,prevYDomain:l.domain()}})),u=$e().combine((function(t,e){var n=e.realYDomain,r=e.yDomainDY,i=e.prevYDomain,a=t.id,s=t.padding,c=t.height,l=t.yScale,u=t.yPan,h=t.flipYScale,d=t.yPanEnabled,f=void 0!==d&&d,p=void 0===o||o.indexOf(a)>-1,v=u&&f?p?r:i:n,g=function(t,e,n,r){if(t.rangeRoundPoints||cn(t.invert)){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");t.rangeRoundPoints&&t.rangeRoundPoints(r?[0,e]:[e,0],n),t.rangeRound&&t.range(r?[0,e]:[e,0]).padding(n)}else{var o=isNaN(n)?n:{top:n,bottom:n},i=o.top,a=o.bottom;t.range(r?[i,e-a]:[e-a,i])}return t}(l.copy().domain(v),c,s,h);return b({},t,{yScale:g,realYDomain:n})}));return u(t,l)},Ho=function(t,e,n,r){var o;if(t.invert){o=function(t,e,n){var r=pn(t,e,n),o=r.left,i=r.right;if(o===i)return t[o];var a=n(t[o]),s=n(t[i]);return Math.abs(a.valueOf()-e.valueOf())<Math.abs(s.valueOf()-e.valueOf())?t[o]:t[i]}(r,t.invert(n[0]),e)}else{var i=t.range().map((function(t,e){return{x:Math.abs(t-n[0]),idx:e}})).reduce((function(t,e){return t.x<e.x?t:e}));o=void 0!==i?r[i.idx]:r[0]}return o};function Yo(){}function Vo(t){return null==t?Yo:function(){return this.querySelector(t)}}function qo(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Zo(){return[]}function Go(t){return function(e){return e.matches(t)}}var $o=Array.prototype.find;function Ko(){return this.firstElementChild}var Jo=Array.prototype.filter;function Qo(){return this.children}function ti(t){return new Array(t.length)}function ei(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function ni(t){return function(){return t}}function ri(t,e,n,r,o,i){for(var a,s=0,c=e.length,l=i.length;s<l;++s)(a=e[s])?(a.__data__=i[s],r[s]=a):n[s]=new ei(t,i[s]);for(;s<c;++s)(a=e[s])&&(o[s]=a)}function oi(t,e,n,r,o,i,a){var s,c,l,u=new Map,h=e.length,d=i.length,f=new Array(h);for(s=0;s<h;++s)(c=e[s])&&(f[s]=l=a.call(c,c.__data__,s,e)+"",u.has(l)?o[s]=c:u.set(l,c));for(s=0;s<d;++s)l=a.call(t,i[s],s,i)+"",(c=u.get(l))?(r[s]=c,c.__data__=i[s],u.delete(l)):n[s]=new ei(t,i[s]);for(s=0;s<h;++s)(c=e[s])&&u.get(f[s])===c&&(o[s]=c)}function ii(t){return t.__data__}function ai(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}ei.prototype={constructor:ei,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var si="http://www.w3.org/1999/xhtml";const ci={svg:"http://www.w3.org/2000/svg",xhtml:si,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function li(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ci.hasOwnProperty(e)?{space:ci[e],local:t}:t}function ui(t){return function(){this.removeAttribute(t)}}function hi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function di(t,e){return function(){this.setAttribute(t,e)}}function fi(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function pi(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function vi(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function gi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function mi(t){return function(){this.style.removeProperty(t)}}function yi(t,e,n){return function(){this.style.setProperty(t,e,n)}}function xi(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function wi(t,e){return t.style.getPropertyValue(e)||gi(t).getComputedStyle(t,null).getPropertyValue(e)}function Ci(t){return function(){delete this[t]}}function bi(t,e){return function(){this[t]=e}}function Si(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ki(t){return t.trim().split(/^|\s+/)}function Di(t){return t.classList||new Ti(t)}function Ti(t){this._node=t,this._names=ki(t.getAttribute("class")||"")}function Ai(t,e){for(var n=Di(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function Pi(t,e){for(var n=Di(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function Mi(t){return function(){Ai(this,t)}}function _i(t){return function(){Pi(this,t)}}function Oi(t,e){return function(){(e.apply(this,arguments)?Ai:Pi)(this,t)}}function Ni(){this.textContent=""}function Ii(t){return function(){this.textContent=t}}function Ei(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ji(){this.innerHTML=""}function Fi(t){return function(){this.innerHTML=t}}function Ri(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Li(){this.nextSibling&&this.parentNode.appendChild(this)}function Wi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===si&&e.documentElement.namespaceURI===si?e.createElement(t):e.createElementNS(n,t)}}function Bi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ui(t){var e=li(t);return(e.local?Bi:zi)(e)}function Xi(){return null}function Hi(){var t=this.parentNode;t&&t.removeChild(this)}function Yi(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vi(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function qi(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Zi(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function Gi(t,e,n){return function(){var r,o=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},o?o.push(r):this.__on=[r]}}function $i(t,e,n){var r=gi(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Ki(t,e){return function(){return $i(this,t,e)}}function Ji(t,e){return function(){return $i(this,t,e.apply(this,arguments))}}Ti.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Qi=[null];function ta(t,e){this._groups=t,this._parents=e}function ea(){return new ta([[document.documentElement]],Qi)}ta.prototype=ea.prototype={constructor:ta,select:function(t){"function"!=typeof t&&(t=Vo(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=e[o],c=s.length,l=r[o]=new Array(c),u=0;u<c;++u)(i=s[u])&&(a=t.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),l[u]=a);return new ta(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:qo(e)}}(t):function(t){return null==t?Zo:function(){return this.querySelectorAll(t)}}(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,s=e[i],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),o.push(a));return new ta(r,o)},selectChild:function(t){return this.select(null==t?Ko:function(t){return function(){return $o.call(this.children,t)}}("function"==typeof t?t:Go(t)))},selectChildren:function(t){return this.selectAll(null==t?Qo:function(t){return function(){return Jo.call(this.children,t)}}("function"==typeof t?t:Go(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,c=r[o]=[],l=0;l<s;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new ta(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,ii);var n=e?oi:ri,r=this._parents,o=this._groups;"function"!=typeof t&&(t=ni(t));for(var i=o.length,a=new Array(i),s=new Array(i),c=new Array(i),l=0;l<i;++l){var u=r[l],h=o[l],d=h.length,f=qo(t.call(u,u&&u.__data__,l,r)),p=f.length,v=s[l]=new Array(p),g=a[l]=new Array(p),m=c[l]=new Array(d);n(u,h,v,g,m,f,e);for(var y,x,w=0,C=0;w<p;++w)if(y=v[w]){for(w>=C&&(C=w+1);!(x=g[C])&&++C<p;);y._next=x||null}}return(a=new ta(a,r))._enter=s,a._exit=c,a},enter:function(){return new ta(this._enter||this._groups.map(ti),this._parents)},exit:function(){return new ta(this._exit||this._groups.map(ti),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){if(!(t instanceof ta))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c,l=e[s],u=n[s],h=l.length,d=a[s]=new Array(h),f=0;f<h;++f)(c=l[f]||u[f])&&(d[f]=c);for(;s<r;++s)a[s]=e[s];return new ta(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ai);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],c=s.length,l=o[i]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(e)}return new ta(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=li(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?hi:ui:"function"==typeof e?n.local?vi:pi:n.local?fi:di)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?mi:"function"==typeof e?xi:yi)(t,e,null==n?"":n)):wi(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ci:"function"==typeof e?Si:bi)(t,e)):this.node()[t]},classed:function(t,e){var n=ki(t+"");if(arguments.length<2){for(var r=Di(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?Oi:e?Mi:_i)(n,e))},text:function(t){return arguments.length?this.each(null==t?Ni:("function"==typeof t?Ei:Ii)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ji:("function"==typeof t?Ri:Fi)(t)):this.node().innerHTML},raise:function(){return this.each(Li)},lower:function(){return this.each(Wi)},append:function(t){var e="function"==typeof t?t:Ui(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Ui(t),r=null==e?Xi:"function"==typeof e?e:Vo(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Hi)},clone:function(t){return this.select(t?Vi:Yi)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=qi(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?Gi:Zi,r=0;r<a;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ji:Ki)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,o=t[e],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};function na(t){return"string"==typeof t?new ta([[document.querySelector(t)]],[document.documentElement]):new ta([[t]],Qi)}function ra(t){let e;for(;e=t.sourceEvent;)t=e;return t}function oa(t,e){if(t=ra(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}function ia(t,e){return t.target&&(t=ra(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>oa(t,e)))}var aa="zhn-charts",sa="zhn-charts-tooltip",ca="zhn-charts-grabbing-cursor",la="zhn-charts-crosshair-cursor",ua="zhn-charts-default-cursor",ha="zhn-charts-pointer-cursor",da="zhn-charts-ns-resize-cursor",fa="zhn-charts-ew-resize-cursor",pa="zhn-charts-avoid-interaction",va="zhn-charts-enable-interaction",ga="zhn-charts-axis-domain",ma="zhn-charts-text-background",ya="-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",xa=["chartsToPan"],wa=["chartsToPan"],Ca=function(t,e,n){(void 0===n&&(n=null),t.panInProgress||t.dragInProgress)||na(xn(e.current)).on(bn,n)},ba=function(t){function e(e){var n;return(n=t.call(this,e)||this).clicked=void 0,n.dx=0,n.dy=0,n.dragHappened=void 0,n.focus=void 0,n.lastNewPos=void 0,n.mouseInside=!1,n.mouseInteraction=!0,n.panEndTimeout=void 0,n.panHappened=void 0,n.ref=o.createRef(),n.handleEnter=function(t){var e=n.props.onMouseEnter;void 0!==e&&(n.mouseInside=!0,Ca(n.state,n.ref,n.handleMouseMove),e(t))},n.handleLeave=function(t){var e=n.props.onMouseLeave;void 0!==e&&(n.mouseInside=!1,Ca(n.state,n.ref),e(t))},n.handleWheel=function(t){var e=n.props,r=e.pan,o=e.onPan,i=e.zoom,a=e.onZoom;if(r||i){var s=n.state.panInProgress,c=Math.abs(t.deltaY)>Math.abs(t.deltaX)&&Math.abs(t.deltaY)>0,l=Mn(t);if(t.preventDefault(),i&&n.focus&&c&&!s){var u=t.deltaY>0?1:-1;void 0!==a&&a(u,l,t)}else if(n.focus){if(n.shouldPan()&&void 0!==n.state.panStart){var h=n.state.panStart,d=h.panStartXScale,f=h.chartsToPan;n.lastNewPos=l,n.panHappened=!0,void 0===n.dx&&(n.dx=0),void 0===n.dy&&(n.dy=0),n.dx-=t.deltaX,n.dy+=t.deltaY;var p={dx:n.dx,dy:n.dy};void 0!==o&&o(l,d,p,f,t)}else{var v=n.props,g=v.xScale,m=v.chartConfig,y=Uo(m,l);n.dx=0,n.dy=0,n.setState({panInProgress:!0,panStart:{panStartXScale:g,panOrigin:l,chartsToPan:y}})}n.queuePanEnd(t)}}},n.handleMouseMove=function(t){var e=n.props,r=e.onMouseMove,o=e.mouseMove;void 0!==r&&(n.mouseInteraction&&o&&!n.state.panInProgress&&r(oa(t,n.ref.current),"mouse",t))},n.handleClick=function(t){var e=Mn(t),r=n.props,o=r.onClick,i=r.onDoubleClick;n.panHappened||n.dragHappened||(n.clicked&&void 0!==i?(i(e,t),n.clicked=!1):void 0!==o&&(o(e,t),n.clicked=!0,setTimeout((function(){n.clicked&&(n.clicked=!1)}),400)))},n.handleRightClick=function(t){t.stopPropagation(),t.preventDefault();var e=n.props,r=e.onContextMenu,o=e.onPanEnd,i=Mn(t,n.ref.current.getBoundingClientRect());if(void 0!==n.state.panStart){var a=n.state.panStart,s=a.panStartXScale,c=a.panOrigin,l=c[0],u=c[1],h=a.chartsToPan;n.panHappened&&void 0!==o&&o(i,s,{dx:l,dy:u},h,t),na(xn(n.ref.current)).on(bn,null).on(Sn,null),n.setState({panInProgress:!1,panStart:void 0})}void 0!==r&&r(i,t)},n.handleDrag=function(t){var e=n.props.onDrag;if(void 0!==e){n.dragHappened=!0;var r=n.state.dragStartPosition;if(void 0!==r)e({startPos:r,mouseXY:oa(t,n.ref.current)},t)}},n.handleDragEnd=function(t){var e=oa(t,n.ref.current);if(na(xn(n.ref.current)).on(bn,n.mouseInside?n.handleMouseMove:null).on(Sn,null),n.dragHappened){var r=n.props.onDragComplete;void 0!==r&&r({mouseXY:e},t)}n.setState({dragInProgress:!1}),n.mouseInteraction=!0},n.canPan=function(){var t=n.props.getAllPanConditions,e=n.props.pan,r=t().reduce((function(t,e){return{draggable:t.draggable||e.draggable,panEnabled:t.panEnabled&&e.panEnabled}}),{draggable:!1,panEnabled:e});return{panEnabled:r.panEnabled,somethingSelected:r.draggable}},n.handleMouseDown=function(t){if(0===t.button){var e=n.props,r=e.xScale,o=e.chartConfig,i=e.onMouseDown;if(n.panHappened=!1,n.dragHappened=!1,n.focus=!0,!n.state.panInProgress&&n.mouseInteraction){var a=Mn(t),s=Uo(o,a),c=n.canPan(),l=c.panEnabled,u=c.somethingSelected,h=l&&!u;if(h)n.setState({panInProgress:h,panStart:{panStartXScale:r,panOrigin:a,chartsToPan:s}}),na(xn(n.ref.current)).on(bn,n.handlePan).on(Sn,n.handlePanEnd);else if(u){n.setState({panInProgress:!1,dragInProgress:!0,panStart:void 0,dragStartPosition:a});var d=n.props.onDragStart;void 0!==d&&d({startPos:a},t),na(xn(n.ref.current)).on(bn,n.handleDrag).on(Sn,n.handleDragEnd)}void 0!==i&&i(a,s,t)}t.preventDefault()}},n.shouldPan=function(){var t=n.props,e=t.pan,r=t.onPan;return e&&r&&void 0!==n.state.panStart},n.handlePan=function(t){if(n.shouldPan()&&void 0!==n.state.panStart){n.panHappened=!0;var e,r,o,i=n.state.panStart,a=i.panStartXScale,s=i.panOrigin,c=i.chartsToPan;n.mouseInteraction?(o=oa(t,n.ref.current),n.lastNewPos=o,e=o[0]-s[0],r=o[1]-s[1]):(o=ia(t,n.ref.current)[0],n.lastNewPos=o,e=s[0]-o[0],r=s[1]-o[1]),n.dx=e,n.dy=r;var l=n.props.onPan;void 0!==l&&l(o,a,{dx:e,dy:r},c,t)}},n.handlePanEnd=function(t){var e=n.props,r=e.pan,o=e.onPanEnd;if(void 0!==n.state.panStart){var i=n.state.panStart,a=i.panStartXScale,s=i.chartsToPan;if(na(xn(n.ref.current)).on(bn,n.mouseInside?n.handleMouseMove:null).on(Sn,null).on(kn,null).on(Dn,null),n.panHappened&&r&&o){var c=tt(n),l=c.dx,u=void 0===l?0:l,h=c.dy,d=void 0===h?0:h;delete n.dx,delete n.dy,void 0!==n.lastNewPos&&o(n.lastNewPos,a,{dx:u,dy:d},s,t)}n.setState({panInProgress:!1,panStart:void 0})}},n.handleTouchMove=function(t){var e=n.props.onMouseMove;if(void 0!==e){var r=Tn(t.touches[0]);e(Pn(r,t),"touch",t)}},n.handleTouchStart=function(t){n.mouseInteraction=!1;var e=n.props,r=e.pan,o=e.chartConfig,i=e.onMouseMove,a=e.xScale,s=e.onPanEnd;if(1===t.touches.length){n.panHappened=!1;var c=Pn(Tn(t.touches[0]),t);if(void 0!==i&&i(c,"touch",t),r){var l=Uo(o,c);n.setState({panInProgress:!0,panStart:{panStartXScale:a,panOrigin:c,chartsToPan:l}}),na(xn(n.ref.current)).on(kn,n.handlePan,!1).on(Dn,n.handlePanEnd,!1)}}else if(2===t.touches.length){var u=n.state,h=u.panInProgress,d=u.panStart;if(h&&r&&s&&void 0!==d){var f=d.panStartXScale,p=d.panOrigin,v=p[0],g=p[1],m=d.chartsToPan;na(xn(n.ref.current)).on(bn,n.mouseInside?n.handleMouseMove:null).on(Sn,null).on(kn,n.handlePinchZoom,!1).on(Dn,n.handlePinchZoomEnd,!1);var y=Pn(Tn(t.touches[0]),t),x=Pn(Tn(t.touches[1]),t);n.panHappened&&r&&s&&void 0!==n.lastNewPos&&s(n.lastNewPos,f,{dx:v,dy:g},m,t),n.setState({panInProgress:!1,pinchZoomStart:{xScale:a,touch1Pos:y,touch2Pos:x,range:a.range(),chartsToPan:m}})}}},n.handlePinchZoom=function(t){var e=n.state.pinchZoomStart;if(void 0!==e){var r=n.props,o=r.xScale,i=r.zoom,a=r.onPinchZoom;if(i&&void 0!==a){var s=ia(n.ref.current),c=s[0],l=s[1];e.chartsToPan;a(S(e,xa),{touch1Pos:c,touch2Pos:l,xScale:o},t)}}},n.handlePinchZoomEnd=function(t){na(xn(n.ref.current)).on(kn,null).on(Dn,null);var e=n.state.pinchZoomStart;if(void 0!==e){e.chartsToPan;var r=S(e,wa),o=n.props,i=o.zoom,a=o.onPinchZoomEnd;i&&a&&a(r,t),n.setState({pinchZoomStart:void 0})}},n.setCursorClass=function(t){t!==n.state.cursorOverrideClass&&n.setState({cursorOverrideClass:t})},n.focus=e.focus,n.state={panInProgress:!1},n}M(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props.disableInteraction,e=this.ref.current;null!==e&&(t||(na(e).on(wn,this.handleEnter).on(Cn,this.handleLeave),e.addEventListener("wheel",this.handleWheel,{passive:!1})))},n.componentDidUpdate=function(){this.componentDidMount()},n.componentWillUnmount=function(){var t=this.props.disableInteraction,e=this.ref.current;null!==e&&(t||(na(e).on(wn,null).on(Cn,null),na(xn(e)).on(bn,null),e.removeEventListener("wheel",this.handleWheel,{passive:!1})))},n.queuePanEnd=function(t){var e=this;void 0!==this.panEndTimeout&&window.clearTimeout(this.panEndTimeout),this.panEndTimeout=window.setTimeout((function(){e.handlePanEnd(t)}),100)},n.cancelDrag=function(){na(xn(this.ref.current)).on(bn,this.mouseInside?this.handleMouseMove:null).on(Sn,null),this.setState({dragInProgress:!1}),this.mouseInteraction=!0},n.render=function(){var t=this.props,e=t.height,n=t.width,r=t.disableInteraction,o=t.useCrossHairStyleCursor,i=this.state,a=i.cursorOverrideClass,s=i.panInProgress,c=r?void 0:void 0!==a?a:o?s?ca:la:void 0,l=r||{onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleRightClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove};return(0,D.jsx)("rect",b({ref:this.ref,className:c,width:n,height:e,style:{opacity:0}},l))},e}(o.Component);ba.defaultProps={mouseMove:!1,zoom:!1,pan:!1,panSpeedMultiplier:1,focus:!1,disableInteraction:!1};var Sa=function(t){var e,n;return null!=(e=null==(n=i(t))?void 0:n.getContext("2d"))?e:void 0},ka=(0,o.memo)((0,o.forwardRef)((function(t,e){var n=t.style,r=t.width,i=t.height,a=t.ratio,s=(0,o.useRef)(),c=(0,o.useRef)(),l=(0,o.useRef)();(0,o.useImperativeHandle)(e,(function(){return{getCanvasContexts:function(){return{bg:Sa(s),axes:Sa(c),mouseCoord:Sa(l)}}}}));var u=r*a,h=i*a,d={position:"absolute",width:r,height:i};return(0,D.jsxs)("div",{style:b({},n,{position:"absolute"}),children:[(0,D.jsx)("canvas",{ref:s,width:u,height:h,style:d}),(0,D.jsx)("canvas",{ref:c,width:u,height:h,style:d}),(0,D.jsx)("canvas",{ref:l,width:u,height:h,style:d})]})}))),Da="chart-area-clip";const Ta=function(t){return t.configs.map((function(t,e){return(0,D.jsx)("clipPath",{id:Da+"-"+t.id,children:(0,D.jsx)("rect",{x:"0",y:"0",width:t.width,height:t.height})},e)}))};const Aa=function(t){var e=t.dimensions,n=t.chartConfig;return(0,D.jsxs)("defs",{children:[(0,D.jsx)("clipPath",{id:Da,children:(0,D.jsx)("rect",{x:"0",y:"0",width:e.width,height:e.height})}),(0,D.jsx)(Ta,{configs:n})]})};function Pa(t,e,n,r){var o=t.lastItem,i=t.lastItemX,a=e(o),s=n.range(),c=s[0];return(s[1]-c)/(i.valueOf()-c)*(a.valueOf()-r.valueOf())+r.valueOf()}function Ma(t,e,n,r,o){return{filterData:function(i,a,s,c,l){var u=void 0===l?{}:l,h=u.currentPlotData,d=u.currentDomain,f=u.fallbackStart,p=u.fallbackEnd,v=u.ignoreThresholds,g=void 0!==v&&v;if(t)return{plotData:i,domain:a};var m=hn(a),y=un(a),x=a,w=Oa(i,m,y,s);1===w.length&&void 0!==f&&(x=[m=f,y=Pa(p,s,c,m)],w=Oa(i,m,y,s)),"function"==typeof e?x=e(x,[s(hn(i)),s(un(i))]):("left"!==e&&"both"!==e&&!0!==e||(x=[(0,He.Fp)([m,s(hn(i))]),x[1]]),"right"!==e&&"both"!==e&&!0!==e||(x=[x[0],(0,He.VV)([y,s(un(i))])])),x!==a&&(w=Oa(i,x[0],x[1],s));var C,b,S=x,k=c.copy().domain(S),D=Math.floor(k(s(un(w)))-k(s(hn(w))));o&&D<0&&(D*=-1);var T=un(k.range())-hn(k.range());if(g&&w.length>1||function(t,e,n,r){var o=function(t,e){return Math.max(1,Math.ceil(t*e))}(t,r),i=_a(t,n);return e>=o&&e<i}(D,w.length,n,r))C=w,b=S;else if(T>_a(D,n)&&sn(p)){C=w;var A=Pa(p,s,c,hn(S));b=[hn(S),A]}else C=null!=h?h:w.slice(w.length-function(t,e){return Math.floor(.97*_a(t,e))}(D,n)),b=null!=d?d:[s(hn(C)),s(un(C))];return{plotData:C,domain:b}}}}function _a(t,e){return Math.floor(t*e)}function Oa(t,e,n,r){var o=pn(t,e,r).left,i=pn(t,n,r).right;return t.slice(o,i+1)}var Na=["seriesName"],Ia=function(t){var e=t.margin,n=e.top,r=e.bottom,o=e.left,i=e.right;return{height:t.height-n-r,width:t.width-o-i}},Ea=function(t){var e=t.data,n=t.plotFull,r=t.xScale,o=t.clamp,i=t.pointsPerPxThreshold,a=t.flipXScale,s=t.xAccessor,c=t.displayXAccessor,l=t.minPointsPerPxThreshold,u=function(t){var e=t.xScale,n=t.useWholeData,r=t.clamp,o=t.pointsPerPxThreshold,i=t.minPointsPerPxThreshold,a=t.flipXScale;return Ma(n||cn(e.invert),r,o,i,a)}({xScale:r,useWholeData:void 0!==n?n:s===Ge,clamp:o,pointsPerPxThreshold:i,minPointsPerPxThreshold:l,flipXScale:a}),h=u.filterData;return{xAccessor:s,displayXAccessor:null!=c?c:s,xScale:r.copy(),fullData:e,filterData:h}},ja=function(t,e,n,r){if(void 0===r&&(r=1),t.rangeRoundPoints){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");t.rangeRoundPoints([0,e.width],n)}else if(t.padding){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");t.range([0,e.width]),t.padding(n/2)}else{var o=isNaN(n)?n:{left:n,right:n},i=o.left,a=o.right;r>0?t.range([i,e.width-a]):t.range([e.width-a,i])}return t},Fa=function(t){return t?-1:1},Ra=function(t){var e=function(t){var e=t.xAccessor,n=t.xExtents,r=t.data,o=t.padding,i=t.flipXScale,a=Fa(i),s=Ia(t),c="function"==typeof n?n(r):(0,He.We)(n.map((function(t){return tn(t)})).map((function(t){return t(r,e)}))),l=Ea(t),u=l.xAccessor,h=l.displayXAccessor,d=l.xScale,f=l.fullData,p=l.filterData,v=ja(d,s,o,a),g=p(f,c,e,v),m=g.plotData,y=g.domain;return{plotData:m,xScale:v.domain(y),xAccessor:u,displayXAccessor:h,fullData:f,filterData:p}}(t),n=e.xAccessor,r=e.displayXAccessor,o=e.fullData,i=e.plotData,a=e.xScale,s=t.postCalculator,c=t.children,l=void 0!==s?s(i):i,u=Ia(t),h=Xo(Bo(u,c),{plotData:l,xAccessor:n,displayXAccessor:r,fullData:o},a.domain());return b({},e,{xScale:a,plotData:l,chartConfig:h})},La=function(t){var e=t.touch1Pos,n=t.touch2Pos;return{topLeft:[Math.min(e[0],n[0]),Math.min(e[1],n[1])],bottomRight:[Math.max(e[0],n[0]),Math.max(e[1],n[1])]}},Wa=function(t,e,n){return!isNaN(t(e(hn(n))))&&sn(t.invert)},za=["fullData"],Ba=["fullData"],Ua=function(t,e,n,r,o){var i=hn(t),a=hn(e.domain()),s=n(i),c=un(t),l=un(e.domain()),u=n(c);a<s&&void 0!==o&&o(a,s),u<l&&void 0!==r&&r(u,l)},Xa=function(t){function e(n){var r;(r=t.call(this,n)||this).canvasContainerRef=o.createRef(),r.eventCaptureRef=o.createRef(),r.finalPinch=void 0,r.fullData=void 0,r.lastSubscriptionId=0,r.mutableState={},r.panInProgress=!1,r.prevMouseXY=void 0,r.subscriptions=[],r.waitingForPinchZoomAnimationFrame=void 0,r.waitingForPanAnimationFrame=void 0,r.waitingForMouseMoveAnimationFrame=void 0,r.hackyWayToStopPanBeyondBounds__plotData=void 0,r.hackyWayToStopPanBeyondBounds__domain=void 0,r.getMutableState=function(){return r.mutableState},r.getDataInfo=function(){return b({},r.state,{fullData:r.fullData})},r.getCanvasContexts=function(){var t;return null==(t=r.canvasContainerRef.current)?void 0:t.getCanvasContexts()},r.generateSubscriptionId=function(){return r.lastSubscriptionId++,r.lastSubscriptionId},r.subscribe=function(t,e){var n=e.getPanConditions,o=void 0===n?tn({draggable:!1,panEnabled:!0}):n;r.subscriptions=r.subscriptions.concat(b({id:t},e,{getPanConditions:o}))},r.unsubscribe=function(t){r.subscriptions=r.subscriptions.filter((function(e){return e.id!==t}))},r.getAllPanConditions=function(){return r.subscriptions.map((function(t){return t.getPanConditions()}))},r.setCursorClass=function(t){var e;null==(e=r.eventCaptureRef.current)||e.setCursorClass(t)},r.amIOnTop=function(t){var e=r.subscriptions.filter((function(t){return t.getPanConditions().draggable}));return e.length>0&&un(e).id===t},r.handleContextMenu=function(t,e){var n=r.state,o=n.xAccessor,i=n.chartConfig,a=n.plotData,s=n.xScale,c=Uo(i,t),l=Ho(s,o,t,a);r.triggerEvent("contextmenu",{mouseXY:t,currentItem:l,currentCharts:c},e)},r.calculateStateForDomain=function(t){var e=r.state,n=e.xAccessor,o=e.displayXAccessor,i=e.xScale,a=e.chartConfig,s=e.plotData,c=e.filterData,l=r.props.postCalculator,u=tt(r).fullData,h=c(u,t,n,i,{currentPlotData:s,currentDomain:i.domain()}),d=h.plotData,f=h.domain,p=l(d),v=i.copy().domain(f),g=Xo(a,{plotData:p,xAccessor:n,displayXAccessor:o,fullData:u},v.domain());return{xScale:v,plotData:p,chartConfig:g}},r.pinchZoomHelper=function(t,e){var n=t.xScale,o=r.state,i=o.xScale,a=o.chartConfig,s=o.plotData,c=o.xAccessor,l=o.displayXAccessor,u=o.filterData,h=r.props.postCalculator,d=tt(r).fullData,f=function(t,e,n){var r=La(t),o=r.topLeft,i=r.bottomRight,a=La(e),s=a.topLeft,c=a.bottomRight,l=n.range()[1],u=Math.round(-(i[0]*s[0]-o[0]*c[0])/(o[0]-i[0])),h=Math.round(l+((l-i[0])*(l-s[0])-(l-o[0])*(l-c[0]))/(l-o[0]-(l-i[0])));return[Math.round(-u*o[0]/(-u+s[0])),Math.round(l-(h-l)*(l-o[0])/(h+(l-s[0])))].map(n.invert)}(t,e,n),p=u(d,f,c,n,{currentPlotData:s,currentDomain:i.domain()}),v=p.plotData,g=p.domain,m=h(v),y=i.copy().domain(g),x=e.touch1Pos;return{chartConfig:Xo(a,{plotData:m,xAccessor:c,displayXAccessor:l,fullData:d},y.domain()),xScale:y,plotData:m,mouseXY:x,currentItem:Ho(y,c,x,m)}},r.handlePinchZoom=function(t,e,n){if(!r.waitingForPinchZoomAnimationFrame){r.waitingForPinchZoomAnimationFrame=!0;var o=r.pinchZoomHelper(t,e);r.triggerEvent("pinchzoom",o,n),r.finalPinch=e,requestAnimationFrame((function(){r.clearBothCanvas(),r.draw({trigger:"pinchzoom"}),r.waitingForPinchZoomAnimationFrame=!1}))}},r.handlePinchZoomEnd=function(t,n){var o=r.state.xAccessor,i=void 0===o?e.defaultProps.xAccessor:o;if(r.finalPinch){var a=r.pinchZoomHelper(t,r.finalPinch),s=a.xScale,c=r.props,l=c.onLoadAfter,u=c.onLoadBefore;r.triggerEvent("pinchzoom",a,n),r.finalPinch=void 0,r.clearThreeCanvas(),r.setState(a,(function(){return Ua(r.fullData,s,i,l,u)}))}},r.handleZoom=function(t,e,n){if(!r.panInProgress){var o=r.state,i=o.xAccessor,a=o.xScale,s=o.plotData,c=r.props,l=c.zoomMultiplier,u=(0,c.zoomAnchor)({xScale:a,xAccessor:i,mouseXY:e,plotData:s}),h=function(t,e){return t>0?1*e:1/e}(t,l),d=function(t,e,n){var r=t(e);return t.range().map((function(t){return r+(t-r)*n})).map((function(e){return t.invert(e)}))}(a,u,h),f=r.calculateStateForDomain(d),p=f.xScale,v=f.plotData,g=f.chartConfig,m=Ho(p,i,e,v),y=Uo(g,e),x=r.props,w=x.onLoadAfter,C=x.onLoadBefore;r.clearThreeCanvas(),r.mutableState={mouseXY:e,currentItem:m,currentCharts:y},r.triggerEvent("zoom",{xScale:p,plotData:v,chartConfig:g,mouseXY:e,currentCharts:y,currentItem:m,show:!0},n),r.setState({xScale:p,plotData:v,chartConfig:g},(function(){return Ua(r.fullData,p,i,w,C)}))}},r.xAxisZoom=function(t){var e=r.calculateStateForDomain(t),n=e.xScale,o=e.plotData,i=e.chartConfig,a=r.state.xAccessor,s=r.props,c=s.onLoadAfter,l=s.onLoadBefore;r.clearThreeCanvas(),r.setState({xScale:n,plotData:o,chartConfig:i},(function(){return Ua(r.fullData,n,a,c,l)}))},r.yAxisZoom=function(t,e){r.clearThreeCanvas();var n=r.state.chartConfig.map((function(n){return n.id===t?b({},n,{yScale:n.yScale.copy().domain(e),yPanEnabled:!0}):n}));r.setState({chartConfig:n})},r.draw=function(t){r.subscriptions.forEach((function(e){sn(e.draw)&&e.draw(t)}))},r.redraw=function(){r.clearThreeCanvas(),r.draw({force:!0})},r.panHelper=function(t,e,n,o){var i=n.dx,a=n.dy,s=r.state,c=s.xAccessor,l=s.displayXAccessor,u=s.chartConfig,h=s.filterData,d=r.props.postCalculator,f=tt(r).fullData,p=h(f,e.range().map((function(t){return t-i})).map((function(t){return e.invert(t)})),c,e,{currentPlotData:r.hackyWayToStopPanBeyondBounds__plotData,currentDomain:r.hackyWayToStopPanBeyondBounds__domain,ignoreThresholds:!0}),v=p.plotData,g=p.domain,m=e.copy().domain(g),y=d(v),x=Ho(m,c,t,y),w=Xo(u,{plotData:y,xAccessor:c,displayXAccessor:l,fullData:f},m.domain(),a,o);return{xScale:m,plotData:y,chartConfig:w,mouseXY:t,currentCharts:Uo(w,t),currentItem:x}},r.handlePan=function(t,e,n,o,i){if(!r.waitingForPanAnimationFrame){var a,s;r.waitingForPanAnimationFrame=!0,r.hackyWayToStopPanBeyondBounds__plotData=null!=(a=r.hackyWayToStopPanBeyondBounds__plotData)?a:r.state.plotData,r.hackyWayToStopPanBeyondBounds__domain=null!=(s=r.hackyWayToStopPanBeyondBounds__domain)?s:r.state.xScale.domain();var c=r.panHelper(t,e,n,o);r.hackyWayToStopPanBeyondBounds__plotData=c.plotData,r.hackyWayToStopPanBeyondBounds__domain=c.xScale.domain(),r.panInProgress=!0,r.triggerEvent("pan",c,i),r.mutableState={mouseXY:c.mouseXY,currentItem:c.currentItem,currentCharts:c.currentCharts},requestAnimationFrame((function(){r.waitingForPanAnimationFrame=!1,r.clearBothCanvas(),r.draw({trigger:"pan"})}))}},r.handlePanEnd=function(t,e,n,o,i){var a=r.panHelper(t,e,n,o),s=a.xScale,c=a.plotData,l=a.chartConfig;r.hackyWayToStopPanBeyondBounds__plotData=null,r.hackyWayToStopPanBeyondBounds__domain=null,r.panInProgress=!1,r.triggerEvent("panend",a,i),requestAnimationFrame((function(){var t=r.state.xAccessor,e=r.props,n=e.onLoadAfter,o=e.onLoadBefore;r.clearThreeCanvas(),r.setState({xScale:s,plotData:c,chartConfig:l},(function(){return Ua(r.fullData,s,t,n,o)}))}))},r.handleMouseDown=function(t,e,n){r.triggerEvent("mousedown",r.mutableState,n)},r.handleMouseEnter=function(t){r.triggerEvent("mouseenter",{show:!0},t)},r.handleMouseMove=function(t,e,n){if(!r.waitingForMouseMoveAnimationFrame){r.waitingForMouseMoveAnimationFrame=!0;var o=r.state,i=o.chartConfig,a=o.plotData,s=o.xScale,c=o.xAccessor,l=Uo(i,t),u=Ho(s,c,t,a);r.triggerEvent("mousemove",{show:!0,mouseXY:t,prevMouseXY:r.prevMouseXY,currentItem:u,currentCharts:l},n),r.prevMouseXY=t,r.mutableState={mouseXY:t,currentItem:u,currentCharts:l},requestAnimationFrame((function(){r.clearMouseCanvas(),r.draw({trigger:"mousemove"}),r.waitingForMouseMoveAnimationFrame=!1}))}},r.handleMouseLeave=function(t){r.triggerEvent("mouseleave",{show:!1},t),r.clearMouseCanvas(),r.draw({trigger:"mouseleave"})},r.handleDragStart=function(t,e){var n=t.startPos;r.triggerEvent("dragstart",{startPos:n},e)},r.handleDrag=function(t,e){var n=t.startPos,o=t.mouseXY,i=r.state,a=i.chartConfig,s=i.plotData,c=i.xScale,l=i.xAccessor,u=Uo(a,o),h=Ho(c,l,o,s);r.triggerEvent("drag",{startPos:n,mouseXY:o,currentItem:h,currentCharts:u},e),r.mutableState={mouseXY:o,currentItem:h,currentCharts:u},requestAnimationFrame((function(){r.clearMouseCanvas(),r.draw({trigger:"drag"})}))},r.handleDragEnd=function(t,e){var n=t.mouseXY;r.triggerEvent("dragend",{mouseXY:n},e),requestAnimationFrame((function(){r.clearMouseCanvas(),r.draw({trigger:"dragend"})}))},r.handleClick=function(t,e){r.triggerEvent("click",r.mutableState,e),requestAnimationFrame((function(){r.clearMouseCanvas(),r.draw({trigger:"click"})}))},r.handleDoubleClick=function(t,e){r.triggerEvent("dblclick",{},e)},r.resetYDomain=function(t){var e=r.state.chartConfig,n=!1,o=e.map((function(e){return!cn(t)&&e.id!==t||vn(e.yScale.domain(),e.realYDomain)?e:(n=!0,b({},e,{yScale:e.yScale.domain(e.realYDomain),yPanEnabled:!1}))}));n&&(r.clearThreeCanvas(),r.setState({chartConfig:o}))};var i=Ra(n),a=i.fullData,s=S(i,za);return r.state=s,r.fullData=a,r}M(e,t);var n=e.prototype;return n.clearBothCanvas=function(){var t=this.getCanvasContexts()||{},e=t.axes,n=t.mouseCoord;e&&n&&_n([e,n],this.props.ratio)},n.clearMouseCanvas=function(){var t=(this.getCanvasContexts()||{}).mouseCoord;t&&_n([t],this.props.ratio)},n.clearThreeCanvas=function(){var t=this.getCanvasContexts()||{},e=t.axes,n=t.mouseCoord,r=t.bg;e&&n&&r&&_n([e,n,r],this.props.ratio)},n.cancelDrag=function(){var t;null==(t=this.eventCaptureRef.current)||t.cancelDrag(),this.triggerEvent("dragcancel")},n.triggerEvent=function(t,e,n){var r=this;this.subscriptions.forEach((function(o){var i=b({},r.state,{fullData:r.fullData,subscriptions:r.subscriptions});o.listener(t,e,i,n)}))},n.getChildContext=function(){var t=this.props,e=t.margin,n=t.ratio,r=this.state,o=r.plotData,i=r.chartConfig,a=r.xScale,s=r.xAccessor,c=r.displayXAccessor,l=Ia(this.props);return{margin:e,ratio:n,plotData:o,chartConfig:i,xScale:a,xAccessor:s,displayXAccessor:c,width:l.width,height:l.height,fullData:this.fullData,xAxisZoom:this.xAxisZoom,yAxisZoom:this.yAxisZoom,getCanvasContexts:this.getCanvasContexts,redraw:this.redraw,subscribe:this.subscribe,unsubscribe:this.unsubscribe,generateSubscriptionId:this.generateSubscriptionId,getMutableState:this.getMutableState,amIOnTop:this.amIOnTop,setCursorClass:this.setCursorClass}},n.UNSAFE_componentWillReceiveProps=function(t){var e,n=function(t,e){return!Na.every((function(n){return vn(t[n],e[n])}))}(this.props,t),r=this.state,o=r.chartConfig,i=r.plotData,a=r.xAccessor,s=r.xScale;if(Wa(s,a,i)&&!n&&vn(this.props.xExtents,t.xExtents)){var c=s.domain(),l=c[0],u=c[1],h=un(this.fullData),d=Ea(t),f=(0,d.xAccessor)(h);e=function(t,e,n,r,o){var i,a=t.fullData,s=t.xScale,c=t.xAccessor,l=t.displayXAccessor,u=t.filterData,h=un(a),d=c(h),f=e.domain(),p=f[0],v=f[1],g=n.postCalculator,m=n.children,y=n.padding,x=n.flipXScale,w=n.maintainPointsPerPixelOnResize,C=Fa(x),b=Ia(n),S=ja(s,b,y,C);if(!r||v>=d){var k=e.range(),D=k[0],T=k[1],A=S.range(),P=A[0],M=(A[1]-P)/(T-D)*(v.valueOf()-p.valueOf()),_=u(a,[w?v.valueOf()-M:p,v],c,S,{fallbackStart:p,fallbackEnd:{lastItem:h,lastItemX:e(d)}});i=_.plotData,S.domain(_.domain)}else if(r&&v<d){var O=e(d)-e.range()[1],N=e.range().map((function(t){return t+O})).map((function(t){return e.invert(t)})),I=u(a,[N[0],N[1]],c,S);i=I.plotData,S.domain(I.domain)}var E=g(i),j=Bo(b,m,o),F=Xo(j,{plotData:E,xAccessor:c,displayXAccessor:l,fullData:a},S.domain());return{xScale:S,xAccessor:c,chartConfig:F,plotData:E,fullData:a,filterData:u}}(d,s,t,f<=u&&f>=l,o)}else e=Ra(t),this.mutableState={};var p=e,v=p.fullData,g=S(p,Ba);this.panInProgress||(this.clearThreeCanvas(),this.setState(g)),this.fullData=v},n.shouldComponentUpdate=function(){return!this.panInProgress},n.render=function(){var t=this.props,e=t.disableInteraction,n=t.disablePan,r=t.disableZoom,o=t.useCrossHairStyleCursor,i=t.height,a=t.width,s=t.margin,c=t.className,l=t.zIndex,u=t.defaultFocus,h=t.ratio,d=t.mouseMoveEvent,f=t.onClick,p=t.onDoubleClick,v=t.children,g=this.state,m=g.plotData,y=g.xScale,x=g.xAccessor,w=g.chartConfig,C=Ia(this.props),b=Wa(y,x,m),S=o&&b;return(0,D.jsxs)("div",{className:c,style:{position:"relative",width:a,height:i},onClick:f,onDoubleClick:p,children:[(0,D.jsx)(ka,{ref:this.canvasContainerRef,ratio:h,width:a,height:i,style:{height:i,zIndex:l,width:a}}),(0,D.jsxs)("svg",{className:c,width:a,height:i,style:{position:"absolute",zIndex:l+5},children:[(0,D.jsx)("style",{type:"text/css",children:"\n\t.zhn-charts-grabbing-cursor {\n\t\tpointer-events: all;\n\t\tcursor: -moz-grabbing;\n\t\tcursor: -webkit-grabbing;\n\t\tcursor: grabbing;\n\t}\n\t.zhn-charts-crosshair-cursor {\n\t\tpointer-events: all;\n\t\tcursor: arrow;\n\t}\n\t.zhn-charts-tooltip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.zhn-charts-avoid-interaction {\n\t\tpointer-events: none;\n\t}\n\t.zhn-charts-enable-interaction {\n\t\tpointer-events: all;\n\t}\n\t.zhn-charts-tooltip {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.zhn-charts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.zhn-charts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.zhn-charts-pointer-cursor {\n\t\tcursor: pointer;\n\t}\n\t.zhn-charts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.zhn-charts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}"}),(0,D.jsx)(Aa,{dimensions:C,chartConfig:w}),(0,D.jsxs)("g",{transform:"translate("+(s.left+.5)+", "+(s.top+.5)+")",children:[(0,D.jsx)(ba,{ref:this.eventCaptureRef,useCrossHairStyleCursor:S,mouseMove:d&&b,zoom:!r&&b,pan:!n&&b,width:C.width,height:C.height,chartConfig:w,xScale:y,xAccessor:x,focus:u,disableInteraction:e,getAllPanConditions:this.getAllPanConditions,onContextMenu:this.handleContextMenu,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:this.handleDragEnd,onZoom:this.handleZoom,onPinchZoom:this.handlePinchZoom,onPinchZoomEnd:this.handlePinchZoomEnd,onPan:this.handlePan,onPanEnd:this.handlePanEnd}),(0,D.jsx)("g",{className:pa,children:v})]})]})]})},e}(o.Component);Xa.defaultProps={clamp:!1,className:aa,defaultFocus:!0,disablePan:!1,disableInteraction:!1,disableZoom:!1,flipXScale:!1,maintainPointsPerPixelOnResize:!0,margin:{top:0,right:40,bottom:40,left:0},minPointsPerPxThreshold:.01,mouseMoveEvent:!0,postCalculator:Ge,padding:0,pointsPerPxThreshold:2,useCrossHairStyleCursor:!0,xAccessor:Ge,xExtents:[He.VV,He.Fp],zIndex:1,zoomAnchor:function(t){var e=t.xScale,n=t.xAccessor,r=t.mouseXY,o=t.plotData;return n(Ho(e,n,r,o))},zoomMultiplier:1.1},Xa.childContextTypes={plotData:Xe().array,fullData:Xe().array,chartConfig:Xe().arrayOf(Xe().shape({id:Xe().oneOfType([Xe().number,Xe().string]).isRequired,origin:Xe().arrayOf(Xe().number).isRequired,padding:Xe().oneOfType([Xe().number,Xe().shape({top:Xe().number,bottom:Xe().number})]),yExtents:Xe().arrayOf(Xe().func),yExtentsProvider:Xe().func,yScale:Xe().func.isRequired,mouseCoordinates:Xe().shape({at:Xe().string,format:Xe().func}),width:Xe().number.isRequired,height:Xe().number.isRequired})).isRequired,xScale:Xe().func.isRequired,xAccessor:Xe().func.isRequired,displayXAccessor:Xe().func.isRequired,width:Xe().number.isRequired,height:Xe().number.isRequired,margin:Xe().object.isRequired,ratio:Xe().number.isRequired,getCanvasContexts:Xe().func,xAxisZoom:Xe().func,yAxisZoom:Xe().func,amIOnTop:Xe().func,redraw:Xe().func,subscribe:Xe().func,unsubscribe:Xe().func,setCursorClass:Xe().func,generateSubscriptionId:Xe().func,getMutableState:Xe().func};const Ha=Xa;var Ya={mouseleave:"mousemove",panend:"pan",pinchzoom:"pan",mousedown:"mousemove",click:"mousemove",contextmenu:"mousemove",dblclick:"mousemove",dragstart:"drag",dragend:"drag",dragcancel:"drag",zoom:"zoom"},Va=Object.keys,qa=function(t){function e(e,n){var r;(r=t.call(this,e,n)||this).moreProps={},r.dragInProgress=!1,r.evaluationInProgress=!1,r.iSetTheCursorClass=!1,r.suscriberId=void 0,r.listener=function(t,e,n,o){void 0!==e&&r.updateMoreProps(e),r.evaluationInProgress=!0,r.evaluateType(t,o),r.evaluationInProgress=!1},r.drawOnCanvas=r.drawOnCanvas.bind(tt(r)),r.getMoreProps=r.getMoreProps.bind(tt(r)),r.draw=r.draw.bind(tt(r)),r.updateMoreProps=r.updateMoreProps.bind(tt(r)),r.evaluateType=r.evaluateType.bind(tt(r)),r.isHover=r.isHover.bind(tt(r)),r.preCanvasDraw=r.preCanvasDraw.bind(tt(r)),r.postCanvasDraw=r.postCanvasDraw.bind(tt(r)),r.getPanConditions=r.getPanConditions.bind(tt(r)),r.shouldTypeProceed=r.shouldTypeProceed.bind(tt(r)),r.preEvaluate=r.preEvaluate.bind(tt(r));var o=n.generateSubscriptionId;return r.suscriberId=o(),r.state={updateCount:0},r}M(e,t);var n=e.prototype;return n.updateMoreProps=function(t){var e=this;Va(t).forEach((function(n){e.moreProps[n]=t[n]}))},n.shouldTypeProceed=function(t,e){return!0},n.preEvaluate=function(t,e,n){},n.evaluateType=function(t,e){var n=Ya[t]||t;if(this.props.drawOn.indexOf(n)>-1&&(this.preEvaluate(t,this.moreProps,e),this.shouldTypeProceed(t,this.moreProps)))switch(t){case"zoom":case"mouseenter":break;case"mouseleave":this.moreProps.hovering=!1,this.props.onUnHover&&this.props.onUnHover(e,this.getMoreProps());break;case"contextmenu":this.props.onContextMenu&&this.props.onContextMenu(e,this.getMoreProps()),this.moreProps.hovering&&this.props.onContextMenuWhenHover&&this.props.onContextMenuWhenHover(e,this.getMoreProps());break;case"mousedown":this.props.onMouseDown&&this.props.onMouseDown(e,this.getMoreProps());break;case"click":var r=this.props,o=r.onClick,i=r.onClickOutside,a=r.onClickWhenHover,s=this.getMoreProps();s.hovering&&void 0!==a?a(e,s):void 0!==i&&i(e,s),void 0!==o&&o(e,s);break;case"mousemove":var c=this.moreProps.hovering;this.moreProps.hovering=this.isHover(e);var l=this.context,u=l.amIOnTop,h=l.setCursorClass;this.moreProps.hovering&&!this.props.selected&&u(this.suscriberId)&&void 0!==this.props.onHover?(h(ha),this.iSetTheCursorClass=!0):this.moreProps.hovering&&this.props.selected&&u(this.suscriberId)?(h(this.props.interactiveCursorClass),this.iSetTheCursorClass=!0):c&&!this.moreProps.hovering&&this.iSetTheCursorClass&&(this.iSetTheCursorClass=!1,h(null));var d=this.getMoreProps();this.moreProps.hovering&&!c&&this.props.onHover&&this.props.onHover(e,d),c&&!this.moreProps.hovering&&this.props.onUnHover&&this.props.onUnHover(e,d),this.props.onMouseMove&&this.props.onMouseMove(e,d);break;case"dblclick":var f=this.getMoreProps();this.props.onDoubleClick&&this.props.onDoubleClick(e,f),this.moreProps.hovering&&this.props.onDoubleClickWhenHover&&this.props.onDoubleClickWhenHover(e,f);break;case"pan":this.moreProps.hovering=!1,this.props.onPan&&this.props.onPan(e,this.getMoreProps());break;case"panend":this.props.onPanEnd&&this.props.onPanEnd(e,this.getMoreProps());break;case"dragstart":if(this.getPanConditions().draggable)(0,this.context.amIOnTop)(this.suscriberId)&&(this.dragInProgress=!0,void 0!==this.props.onDragStart&&this.props.onDragStart(e,this.getMoreProps()));break;case"drag":this.dragInProgress&&this.props.onDrag&&this.props.onDrag(e,this.getMoreProps());break;case"dragend":this.dragInProgress&&this.props.onDragComplete&&this.props.onDragComplete(e,this.getMoreProps()),this.dragInProgress=!1;break;case"dragcancel":if(this.dragInProgress||this.iSetTheCursorClass)(0,this.context.setCursorClass)(null);break;default:return}},n.isHover=function(t){var e=this.props.isHover;return void 0!==e&&e(this.getMoreProps(),t)},n.getPanConditions=function(){var t=this.props,e=t.selected,n=t.enableDragOnHover,r=t.disablePan,o=this.moreProps.hovering;return{draggable:!(!e||!o)||n&&o,panEnabled:!r}},n.draw=function(t){var e=void 0===t?{force:!1}:t,n=e.trigger,r=e.force,o=Ya[n]||n;if(this.props.drawOn.indexOf(o)>-1||this.props.selected||r)if(void 0===this.props.canvasDraw){var i=this.state.updateCount;this.setState({updateCount:i+1})}else this.drawOnCanvas()},n.UNSAFE_componentWillMount=function(){var t=this.context,e=t.subscribe,n=t.chartId,r=this.props,o=r.clip,i=r.edgeClip;e(this.suscriberId,{chartId:n,clip:o,edgeClip:i,listener:this.listener,draw:this.draw,getPanConditions:this.getPanConditions}),this.UNSAFE_componentWillReceiveProps(this.props,this.context)},n.componentWillUnmount=function(){((0,this.context.unsubscribe)(this.suscriberId),this.iSetTheCursorClass)&&(0,this.context.setCursorClass)(null)},n.componentDidMount=function(){this.componentDidUpdate(this.props)},n.componentDidUpdate=function(t){var e=this.props,n=e.canvasDraw,r=e.selected,o=e.interactiveCursorClass;if(t.selected!==r){var i=this.context.setCursorClass;r&&this.moreProps.hovering?(this.iSetTheCursorClass=!0,i(o)):(this.iSetTheCursorClass=!1,i(null))}void 0===n||this.evaluationInProgress||(this.updateMoreProps(this.moreProps),this.drawOnCanvas())},n.UNSAFE_componentWillReceiveProps=function(t,e){var n=e.xScale,r=e.plotData,o=e.chartConfig,i=e.getMutableState;this.moreProps=b({},this.moreProps,i(),{xScale:n,plotData:r,chartConfig:o})},n.getMoreProps=function(){var t=this.context,e=t.xScale,n=t.plotData,r=t.chartConfig,o=t.morePropsDecorator,i=t.xAccessor,a=t.displayXAccessor,s=t.width,c=t.height,l=this.context,u=b({xScale:e,plotData:n,chartConfig:r,xAccessor:i,displayXAccessor:a,width:s,height:c,chartId:l.chartId,fullData:l.fullData},this.moreProps);return(o||Ge)(u)},n.preCanvasDraw=function(t,e){},n.postCanvasDraw=function(t,e){},n.drawOnCanvas=function(){var t=this.props,e=t.canvasDraw,n=t.canvasToDraw;if(void 0!==e&&void 0!==n){var r=this.context.getCanvasContexts,o=this.getMoreProps(),i=n(r());void 0!==i&&(this.preCanvasDraw(i,o),e(i,o),this.postCanvasDraw(i,o))}},n.render=function(){var t=this.props,e=t.canvasDraw,n=t.clip,r=t.svgDraw;if(void 0!==e||void 0===r)return null;var o=this.context.chartId,i=n?{clipPath:"url(#"+Da+(void 0!==o?"-"+o:"")+")"}:void 0;return(0,D.jsx)("g",{style:i,children:r(this.getMoreProps())})},e}(o.Component);qa.defaultProps={svgDraw:tn(null),draw:[],canvasToDraw:function(t){return t.mouseCoord},clip:!0,edgeClip:!1,selected:!1,disablePan:!1,enableDragOnHover:!1},qa.contextTypes={width:Xe().number.isRequired,height:Xe().number.isRequired,margin:Xe().object.isRequired,chartId:Xe().oneOfType([Xe().number,Xe().string]),getCanvasContexts:Xe().func,xScale:Xe().func.isRequired,xAccessor:Xe().func.isRequired,displayXAccessor:Xe().func.isRequired,plotData:Xe().array.isRequired,fullData:Xe().array.isRequired,chartConfig:Xe().oneOfType([Xe().array,Xe().object]).isRequired,morePropsDecorator:Xe().func,generateSubscriptionId:Xe().func,getMutableState:Xe().func.isRequired,amIOnTop:Xe().func.isRequired,subscribe:Xe().func.isRequired,unsubscribe:Xe().func.isRequired,setCursorClass:Xe().func.isRequired};var Za=["drag","dragend"],Ga=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).preCanvasDraw=function(n,r){t.prototype.preCanvasDraw.call(tt(e),n,r),n.save();var o=e.context,i=o.margin,a=o.ratio,s=r.chartConfig,c=s.width,l=s.height,u=s.origin,h=.5*a+u[0]+i.left,d=.5*a+u[1]+i.top,f=e.props,p=f.clip,v=f.edgeClip;n.setTransform(1,0,0,1,0,0),n.scale(a,a),v&&(n.beginPath(),n.rect(-1,d-10,c+i.left+i.right+1,l+20),n.clip()),n.translate(h,d),p&&(n.beginPath(),n.rect(-1,-1,c+1,l+1),n.clip())},e.postCanvasDraw=function(n,r){t.prototype.postCanvasDraw.call(tt(e),n,r),n.restore()},e.updateMoreProps=function(n){t.prototype.updateMoreProps.call(tt(e),n);var r=n.chartConfig;if(r&&Array.isArray(r)){var o=e.context.chartId,i=r.find((function(t){return t.id===o}));e.moreProps.chartConfig=i}if(sn(e.moreProps.chartConfig)){var a=e.moreProps.chartConfig.origin,s=a[0],c=a[1];if(sn(n.mouseXY)){var l=n.mouseXY,u=l[0],h=l[1];e.moreProps.mouseXY=[u-s,h-c]}if(sn(n.startPos)){var d=n.startPos,f=d[0],p=d[1];e.moreProps.startPos=[f-s,p-c]}}},e.preEvaluate=function(){},e.shouldTypeProceed=function(t,n){return!("mousemove"!==t&&"click"!==t||!e.props.disablePan)||(-1!==Za.indexOf(t)||!sn(n)||!sn(n.currentCharts)||n.currentCharts.indexOf(e.context.chartId)>-1)},e}return M(e,t),e}(qa);Ga.defaultProps=qa.defaultProps,Ga.contextTypes={width:Xe().number.isRequired,height:Xe().number.isRequired,margin:Xe().object.isRequired,chartId:Xe().oneOfType([Xe().number,Xe().string]),getCanvasContexts:Xe().func,xScale:Xe().func.isRequired,xAccessor:Xe().func.isRequired,displayXAccessor:Xe().func.isRequired,plotData:Xe().array.isRequired,fullData:Xe().array.isRequired,chartConfig:Xe().oneOfType([Xe().array,Xe().object]).isRequired,morePropsDecorator:Xe().func,generateSubscriptionId:Xe().func,getMutableState:Xe().func.isRequired,amIOnTop:Xe().func.isRequired,subscribe:Xe().func.isRequired,unsubscribe:Xe().func.isRequired,setCursorClass:Xe().func.isRequired,canvasOriginX:Xe().number,canvasOriginY:Xe().number,ratio:Xe().number.isRequired};var $a=function(t){function e(e){var n;return(n=t.call(this,e)||this).ref=o.createRef(),n.clicked=!1,n.dragHappened=!1,n.handleDragEnd=function(t){var e=n.ref.current;if(null!==e){if(!n.dragHappened)if(n.clicked){var r=oa(t,e),o=n.props.onDoubleClick;void 0!==o&&o(t,r)}else n.clicked=!0,setTimeout((function(){n.clicked=!1}),300);na(xn(e)).on(bn,null).on(Sn,null).on(kn,null).on(Dn,null),n.setState({startPosition:null})}},n.handleDrag=function(t){var e=n.ref.current;if(null!==e){n.dragHappened=!0;var r=n.props,o=r.getMouseDelta,i=r.inverted,a=void 0===i||i,s=n.state.startPosition;if(null!==s){var c=s.startScale,l=o(s.startXY,oa(t,e)),u=(0,He.J6)(c.range());if(void 0===u)return;var h=c.range().map((function(t){return a?t-yn(t-u)*l:t+yn(t-u)*l})),d=h.map(c.invert);if(yn(un(c.range())-dn(c.range()))===yn(un(h)-dn(h))){var f=n.props.axisZoomCallback;void 0!==f&&f(d)}}}},n.handleDragStartTouch=function(t){var e=n.ref.current;if(null!==e){n.dragHappened=!1;var r=n.props,o=(0,r.getScale)((0,r.getMoreProps)());if(1===t.touches.length&&void 0!==o.invert){na(xn(e)).on(kn,n.handleDrag).on(Dn,n.handleDragEnd);var i=Pn(Tn(t.touches[0]),t);n.setState({startPosition:{startScale:o,startXY:i}})}}},n.handleDragStartMouse=function(t){t.preventDefault();var e=n.ref.current;if(null!==e){n.dragHappened=!1;var r=n.props,o=(0,r.getScale)((0,r.getMoreProps)());if(void 0!==o.invert){na(xn(e)).on(bn,n.handleDrag,!1).on(Sn,n.handleDragEnd,!1);var i=Mn(t);n.setState({startPosition:{startXY:i,startScale:o}})}}},n.handleRightClick=function(t){t.stopPropagation(),t.preventDefault();var e=n.ref.current;if(null!==e){var r=n.props.onContextMenu;if(void 0!==r){var o=e.getBoundingClientRect(),i=Mn(t,o);na(xn(e)).on(bn,null).on(Sn,null),n.setState({startPosition:null}),r(t,i)}}},n.state={startPosition:null},n}return M(e,t),e.prototype.render=function(){var t=this.props,e=t.bg,n=t.className,r=t.zoomCursorClassName,o=null!==this.state.startPosition?r:ua;return(0,D.jsx)("rect",{className:va+" "+o+" "+n,ref:this.ref,x:e.x,y:e.y,opacity:0,height:e.h,width:e.w,onContextMenu:this.handleRightClick,onMouseDown:this.handleDragStartMouse,onTouchStart:this.handleDragStartTouch})},e}(o.Component),Ka=function(t){return t.axes},Ja=function(t){return t.mouseCoord},Qa=n(623),ts=["orient","innerTickSize","tickFormat","tickPadding","tickLabelFill","tickStrokeWidth","tickStrokeDasharray","fontSize","fontFamily","fontWeight","showTicks","showTickLabel","ticks","tickValues","tickStrokeStyle","tickInterval","tickIntervalFunction"],es=function(t,e){var n,r=t.orient,o=t.innerTickSize,i=void 0===o?4:o,a=t.tickFormat,s=t.tickPadding,c=void 0===s?4:s,l=t.tickLabelFill,u=t.tickStrokeWidth,h=t.tickStrokeDasharray,d=t.fontSize,f=void 0===d?12:d,p=t.fontFamily,v=t.fontWeight,g=t.showTicks,m=t.showTickLabel,y=t.ticks,x=t.tickValues,w=t.tickStrokeStyle,C=t.tickInterval,k=t.tickIntervalFunction,D=S(t,ts);if(void 0!==x)n="function"==typeof x?x(e.domain()):x;else if(void 0!==C){var T=e.domain(),A=T[0],P=T[1],M=(0,He.w6)(A,P,(P-A)/C);n=k?k(A,P,C):M}else n=void 0!==e.ticks?e.ticks(y):e.domain();var _,O,N,I,E=void 0===a?e.tickFormat(y):function(t){return a(t)||""},j="top"===r||"left"===r?-1:1,F=Math.max(i,0)+c;if("bottom"===r||"top"===r){var R=j*i,L=j*F;if(O=j<0?"0em":".71em",N=j<0?0:.71*f,I="middle",_=n.map((function(t){var n=Math.round(e(t));return{value:t,x1:n,y1:0,x2:n,y2:R,labelX:n,labelY:L}})),g){for(var W=_.map((function(t){return{id:t.value,value:t.value,fy:t.y2,origX:t.x1}})),z=(0,Qa.A4)(W).force("x",(0,Qa.RU)((function(t){return t.origX})).strength(1)).force("collide",(0,Qa.Hh)(22)).stop(),B=0;B<100;++B)z.tick();_=(0,He.$R)(_,W).map((function(t){var e=t[0],n=t[1];return Math.abs(n.x-n.origX)>.01?b({},e,{x2:n.x,labelX:n.x}):e}))}}else _=n.map((function(t){var n=Math.round(e(t));return{value:t,x1:0,y1:n,x2:j*i,y2:n,labelX:j*F,labelY:n}})),O=".32em",N=.32*f,I=j<0?"end":"start";return b({orient:r,ticks:_,scale:e,tickStrokeStyle:w,tickLabelFill:l||w,tickStrokeWidth:u,tickStrokeDasharray:h,dy:O,canvas_dy:N,textAnchor:I,fontSize:f,fontFamily:p,fontWeight:v,format:E,showTickLabel:m},D)},ns=function(t,e,n){var r=e.orient,o=e.outerTickSize,i=e.strokeStyle,a=e.strokeWidth,s="top"===r||"left"===r?-1:1,c="bottom"===r||"top"===r;t.lineWidth=a,t.strokeStyle=i,t.beginPath();var l=dn(n),u=un(n),h=s*o;c?(t.moveTo(l,h),t.lineTo(l,0),t.lineTo(u,0),t.lineTo(u,h)):(t.moveTo(h,l),t.lineTo(0,l),t.lineTo(0,u),t.lineTo(h,u)),t.stroke()},rs=function(t,e){var n=e.ticks,r=e.tickStrokeStyle;void 0!==r&&(t.strokeStyle=r,t.fillStyle=r),n.forEach((function(n){!function(t,e,n){var r=n.tickStrokeWidth,o=n.tickStrokeDasharray;t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=r;var i=rn(o);t.setLineDash(i),t.stroke()}(t,n,e)}))},os=function(t,e,n,r){var o=n.orient,i=n.gridLinesStrokeWidth,a=n.gridLinesStrokeStyle,s=n.gridLinesStrokeDasharray,c=r.chartConfig,l=c.height,u=c.width;void 0!==a&&(t.strokeStyle=a),t.beginPath();var h="top"===o||"left"===o?1:-1;switch(o){case"top":case"bottom":t.moveTo(e.x1,0),t.lineTo(e.x2,h*l);break;default:t.moveTo(0,e.y1),t.lineTo(h*u,e.y2)}t.lineWidth=i;var d=rn(s);t.setLineDash(d),t.stroke()},is=function(t,e,n){var r=n.canvas_dy,o=(0,n.format)(e.value);t.beginPath(),t.fillText(o,e.labelX,e.labelY+r)},as=function(t){return t.fontWeight+" "+t.fontSize+"px "+t.fontFamily},ss=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).chartRef=o.createRef(),e.getMoreProps=function(){return e.chartRef.current.getMoreProps()},e.drawOnCanvas=function(t,n){var r=e.props,o=r.showDomain,i=r.showGridLines,a=r.showTickLabel,s=r.showTicks,c=r.transform,l=r.range,u=r.getScale,h=r.tickLabelFill;t.save(),t.translate(c[0],c[1]);var d=u(n),f=es(e.props,d);if(s&&rs(t,f),i&&f.ticks.forEach((function(e){os(t,e,f,n)})),a){var p=f.textAnchor;t.font=as(f),void 0!==h&&(t.fillStyle=h),t.textAlign="middle"===p?"center":p,f.ticks.forEach((function(e){is(t,e,f)}))}o&&ns(t,e.props,l),t.restore()},e}return M(e,t),e.prototype.render=function(){var t=this.props,e=t.bg,n=t.axisZoomCallback,r=t.className,o=t.zoomCursorClassName,i=t.zoomEnabled,a=t.getScale,s=t.inverted,c=t.transform,l=t.getMouseDelta,u=t.edgeClip,h=t.onContextMenu,d=t.onDoubleClick;return(0,D.jsxs)("g",{transform:on(c),children:[i?(0,D.jsx)($a,{bg:e,getScale:a,getMoreProps:this.getMoreProps,getMouseDelta:l,axisZoomCallback:n,className:r,zoomCursorClassName:o,inverted:s,onContextMenu:h,onDoubleClick:d}):null,(0,D.jsx)(Ga,{ref:this.chartRef,canvasToDraw:Ka,clip:!1,edgeClip:u,canvasDraw:this.drawOnCanvas,drawOn:["pan"]})]})},e}(o.Component);ss.defaultProps={edgeClip:!1,zoomEnabled:!1,zoomCursorClassName:""};var cs=["getMouseDelta","outerTickSize","showTicks","strokeStyle","strokeWidth","zoomEnabled"],ls=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).axisZoomCallback=function(t){(0,e.context.xAxisZoom)(t)},e.helper=function(){var t,n=e.props,r=n.axisAt,o=n.xZoomHeight,i=n.orient,a=n.ticks,s=e.context.chartConfig,c=s.width,l=s.height,u=c,h=o;switch(r){case"top":t=0;break;case"bottom":t=l;break;case"middle":t=l/2;break;default:t=r}var d="top"===i?-o:0;return{transform:[0,t],range:[0,c],getScale:e.getXScale,bg:{x:0,y:d,h,w:u},ticks:null!=a?a:e.getXTicks(c)}},e.getXTicks=function(t){return t<400?2:t<500?6:8},e.getXScale=function(t){var e=t.xScale,n=t.width;if(e.invert){var r=[0,n],o=r.map(e.invert);return e.copy().domain(o).range(r)}return e},e}return M(e,t),e.prototype.render=function(){var t=this.props,e=t.getMouseDelta,n=t.outerTickSize,r=t.showTicks,o=t.strokeStyle,i=t.strokeWidth,a=t.zoomEnabled,s=S(t,cs),c=b({},this.helper());return(0,D.jsx)(ss,b({},s,c,{getMouseDelta:e,outerTickSize:n,showTicks:r,strokeStyle:o,strokeWidth:i,zoomEnabled:a&&r,axisZoomCallback:this.axisZoomCallback}))},e}(o.Component);ls.defaultProps={axisAt:"bottom",className:"zhn-charts-x-axis",domainClassName:ga,fontFamily:ya,fontSize:12,fontWeight:400,getMouseDelta:function(t,e){return t[0]-e[0]},gridLinesStrokeStyle:"#e2e4ec",gridLinesStrokeWidth:1,orient:"bottom",outerTickSize:0,innerTickSize:4,showDomain:!0,showGridLines:!1,showTicks:!0,showTickLabel:!0,strokeStyle:"#000000",strokeWidth:1,tickPadding:4,tickLabelFill:"#000000",tickStrokeStyle:"#000000",xZoomHeight:25,zoomEnabled:!0,zoomCursorClassName:fa},ls.contextTypes={chartConfig:Xe().object.isRequired,xAxisZoom:Xe().func.isRequired};const us=ls;var hs=["getMouseDelta","outerTickSize","strokeStyle","strokeWidth"],ds=["zoomEnabled"],fs=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).axisZoomCallback=function(t){var n=e.context,r=n.chartId;(0,n.yAxisZoom)(r,t)},e.helper=function(){var t,n=e.props,r=n.axisAt,o=n.ticks,i=n.yZoomWidth,a=n.orient,s=e.context.chartConfig,c=s.width,l=s.height,u=i,h=l;switch(r){case"left":t=0;break;case"right":t=c;break;case"middle":t=c/2;break;default:t=r}var d="left"===a?-i:0;return{transform:[t,0],range:[0,l],getScale:e.getYScale,bg:{x:d,y:0,h,w:u},ticks:null!=o?o:e.getYTicks(l),zoomEnabled:e.context.chartConfig.yPan}},e.getYTicks=function(t){return t<300?2:t<500?6:8},e.getYScale=function(t){var e=t.chartConfig,n=e.yScale,r=e.flipYScale,o=e.height;if(n.invert){var i=r?[0,o]:[o,0],a=i.map(n.invert);return n.copy().domain(a).range(i)}return n},e}return M(e,t),e.prototype.render=function(){var t=this.props,e=t.getMouseDelta,n=t.outerTickSize,r=t.strokeStyle,o=t.strokeWidth,i=S(t,hs),a=this.helper(),s=a.zoomEnabled,c=S(a,ds);return(0,D.jsx)(ss,b({},i,c,{edgeClip:!0,getMouseDelta:e,outerTickSize:n,strokeStyle:r,strokeWidth:o,zoomEnabled:this.props.zoomEnabled&&s,axisZoomCallback:this.axisZoomCallback}))},e}(o.Component);fs.defaultProps={axisAt:"right",className:"zhn-charts-y-axis",domainClassName:ga,fontFamily:ya,fontSize:12,fontWeight:400,getMouseDelta:function(t,e){return t[1]-e[1]},gridLinesStrokeStyle:"#e2e4ec",gridLinesStrokeWidth:1,innerTickSize:4,outerTickSize:0,orient:"right",showDomain:!0,showGridLines:!1,showTicks:!0,showTickLabel:!0,strokeStyle:"#000000",strokeWidth:1,tickPadding:4,tickLabelFill:"#000000",tickStrokeStyle:"#000000",yZoomWidth:40,zoomEnabled:!0,zoomCursorClassName:da},fs.contextTypes={yAxisZoom:Xe().func.isRequired,chartId:Xe().oneOfType([Xe().number,Xe().string]).isRequired,chartConfig:Xe().object.isRequired};const ps=fs;var vs=n(859),gs=function(){},ms=function(t){function e(e){var n;return(n=t.call(this,e)||this).renderSVG=n.renderSVG.bind(tt(n)),n.drawOnCanvas=n.drawOnCanvas.bind(tt(n)),n.isHover=n.isHover.bind(tt(n)),n}M(e,t);var n=e.prototype;return n.isHover=function(t){var e=this.props,n=e.highlightOnHover,r=e.yAccessor,o=e.hoverTolerance;if(!n)return!1;var i=t.mouseXY,a=t.currentItem,s=t.xScale,c=t.plotData,l=t.chartConfig,u=l.yScale,h=l.origin,d=t.xAccessor,f=i[0],p=i[1],v=o,g=pn(c,s.invert(f),d),m=g.left,y=g.right;if(m===y){var x=u(r(a))+h[1],w=s(d(a))+h[0];return Math.pow(f-w,2)+Math.pow(p-x,2)<Math.pow(v,2)}var C=c[m],b=c[y],S=s(d(C))+h[0],k=u(r(C))+h[1],D=s(d(b))+h[0],T=(u(r(b))+h[1]-k)/(D-S),A=-1*T*S+k,P=Math.round(T*f+A);return p>=P-v&&p<=P+v},n.drawOnCanvas=function(t,e){var n=this.props,r=n.yAccessor,o=n.stroke,i=n.strokeOpacity,a=n.strokeWidth,s=n.hoverStrokeWidth,c=n.defined,l=n.strokeDasharray,u=n.interpolation,h=n.canvasClip,d=this.props.connectNulls,f=e.xAccessor,p=e.xScale,v=e.chartConfig.yScale,g=e.plotData,m=e.hovering;h&&(t.save(),h(t,e)),t.lineWidth=m?s:a,t.strokeStyle=ln(o,i),t.setLineDash(nn(l).split(","));var y=(0,vs.jv)().x((function(t){return Math.round(p(f(t)))})).y((function(t){return Math.round(v(r(t)))}));sn(u)&&y.curve(u),d||y.defined((function(t){return c(r(t))})),t.beginPath(),y.context(t)(g),t.stroke(),h&&t.restore()},n.renderSVG=function(t){var e=this.props,n=e.yAccessor,r=e.stroke,o=e.strokeOpacity,i=e.strokeWidth,a=e.hoverStrokeWidth,s=e.defined,c=e.strokeDasharray,l=this.props.connectNulls,u=this.props,h=u.interpolation,d=u.style,f=t.xAccessor,p=t.chartConfig,v=t.xScale,g=t.plotData,m=t.hovering,y=p.yScale,x=(0,vs.jv)().x((function(t){return Math.round(v(f(t)))})).y((function(t){return Math.round(y(n(t)))}));sn(h)&&x.curve(h),l||x.defined((function(t){return s(n(t))}));var w=x(g),C=this.props,b=C.fill,S=C.className;return(0,D.jsx)("path",{style:d,className:S+" "+(r?"":" line-stroke"),d:w,stroke:r,strokeOpacity:o,strokeWidth:m?a:i,strokeDasharray:nn(c),fill:b})},n.render=function(){var t=this.props,e=t.highlightOnHover,n=t.onHover,r=t.onUnHover,o=e||n||r?{isHover:this.isHover,drawOn:["mousemove","pan"],canvasToDraw:Ja}:{drawOn:["pan"],canvasToDraw:Ka};return(0,D.jsx)(Ga,b({svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,onClickWhenHover:this.props.onClick,onDoubleClickWhenHover:this.props.onDoubleClick,onContextMenuWhenHover:this.props.onContextMenu,onHover:this.props.onHover,onUnHover:this.props.onUnHover},o))},e}(o.Component);ms.defaultProps={className:"line ",strokeWidth:1,strokeOpacity:1,hoverStrokeWidth:4,fill:"none",stroke:"#4682B4",strokeDasharray:"Solid",defined:function(t){return!isNaN(t)},hoverTolerance:6,highlightOnHover:!1,connectNulls:!1,onClick:gs,onDoubleClick:gs,onContextMenu:gs};const ys=ms;var xs=function(t){function e(e){var n;return(n=t.call(this,e)||this).renderSVG=n.renderSVG.bind(tt(n)),n.drawOnCanvas=n.drawOnCanvas.bind(tt(n)),n}M(e,t);var n=e.prototype;return n.drawOnCanvas=function(t,e){var n=this.props,r=n.type,o=n.stroke,i=n.strokeWidth,a=n.opacity,s=n.strokeDasharray,c=this.props,l=c.yValue,u=c.xValue,h=e.xScale,d=e.chartConfig,f=d.yScale,p=d.width,v=d.height;t.beginPath(),t.strokeStyle=ln(o,a),t.lineWidth=i;var g=ws(r,h,f,u,l,p,v),m=g.x1,y=g.y1,x=g.x2,w=g.y2;t.setLineDash(nn(s).split(",")),t.moveTo(m,y),t.lineTo(x,w),t.stroke()},n.render=function(){return(0,D.jsx)(Ga,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Ka,drawOn:["pan"]})},n.renderSVG=function(t){var e=t.width,n=t.height,r=t.xScale,o=t.chartConfig.yScale,i=this.props.className,a=this.props,s=a.type,c=a.stroke,l=a.strokeWidth,u=a.opacity,h=a.strokeDasharray,d=this.props,f=d.yValue,p=ws(s,r,o,d.xValue,f,e,n);return(0,D.jsx)("line",b({className:i,strokeDasharray:nn(h),stroke:c,strokeWidth:l,strokeOpacity:u},p))},e}(o.Component);function ws(t,e,n,r,o,i,a){return"horizontal"===t?{x1:0,y1:Math.round(n(o)),x2:i,y2:Math.round(n(o))}:{x1:Math.round(e(r)),y1:0,x2:Math.round(e(r)),y2:a}}xs.defaultProps={className:"line ",type:"horizontal",stroke:"#000000",opacity:.5,strokeWidth:1,strokeDasharray:"Solid"};const Cs=xs;const bs=function(t){var e=t.children;return(0,D.jsx)(Ga,{drawOn:[],svgDraw:e})};var Ss=function(t){function e(e){var n;(n=t.call(this,e)||this).renderClip=n.renderClip.bind(tt(n)),n.topAndBottomClip=n.topAndBottomClip.bind(tt(n)),n.mainClip=n.mainClip.bind(tt(n));var r=String(Math.round(1e4*Math.random()*1e4));n.clipPathId1="rsi-clip-"+r;var o=String(Math.round(1e4*Math.random()*1e4));return n.clipPathId2="rsi-clip-"+o,n}M(e,t);var n=e.prototype;return n.topAndBottomClip=function(t,e){var n=e.chartConfig,r=this.props,o=r.overSold,i=r.overBought,a=n.yScale,s=n.width;t.beginPath(),t.rect(0,a(o),s,a(i)-a(o)),t.clip()},n.mainClip=function(t,e){var n=e.chartConfig,r=this.props,o=r.overSold,i=r.overBought,a=n.yScale,s=n.width,c=n.height;t.beginPath(),t.rect(0,0,s,a(o)),t.rect(0,a(i),s,c-a(i)),t.clip()},n.renderClip=function(t){var e=t.chartConfig,n=this.props,r=n.overSold,o=n.overBought,i=e.yScale,a=e.width,s=e.height;return(0,D.jsxs)("defs",{children:[(0,D.jsx)("clipPath",{id:this.clipPathId1,children:(0,D.jsx)("rect",{x:0,y:i(r),width:a,height:i(o)-i(r)})}),(0,D.jsxs)("clipPath",{id:this.clipPathId2,children:[(0,D.jsx)("rect",{x:0,y:0,width:a,height:i(r)}),(0,D.jsx)("rect",{x:0,y:i(o),width:a,height:s-i(o)})]})]})},n.render=function(){var t=this.props,e=t.className,n=t.stroke,r=t.opacity,o=t.strokeDasharray,i=t.strokeWidth,a=this.props.yAccessor,s=this.props,c=s.overSold,l=s.middle,u=s.overBought,h={clipPath:"url(#"+this.clipPathId1+")"},d={clipPath:"url(#"+this.clipPathId2+")"};return(0,D.jsxs)("g",{className:e,children:[(0,D.jsx)(bs,{children:this.renderClip}),(0,D.jsx)(Cs,{stroke:n.top,opacity:r.top,yValue:c,strokeDasharray:o.top,strokeWidth:i.top}),(0,D.jsx)(Cs,{stroke:n.middle,opacity:r.middle,yValue:l,strokeDasharray:o.middle,strokeWidth:i.middle}),(0,D.jsx)(Cs,{stroke:n.bottom,opacity:r.bottom,yValue:u,strokeDasharray:o.bottom,strokeWidth:i.bottom}),(0,D.jsx)(ys,{style:h,canvasClip:this.topAndBottomClip,className:e,yAccessor:a,stroke:n.insideThreshold||n.line,strokeWidth:i.insideThreshold,strokeDasharray:o.line}),(0,D.jsx)(ys,{style:d,canvasClip:this.mainClip,className:e,yAccessor:a,stroke:n.outsideThreshold||n.line,strokeWidth:i.outsideThreshold,strokeDasharray:o.line})]})},e}(o.Component);Ss.defaultProps={className:"zhn-charts-rsi-series",stroke:{line:"#000000",top:"#B8C2CC",middle:"#8795A1",bottom:"#B8C2CC",outsideThreshold:"#b300b3",insideThreshold:"#ffccff"},opacity:{top:1,middle:1,bottom:1},strokeDasharray:{line:"Solid",top:"ShortDash",middle:"ShortDash",bottom:"ShortDash"},strokeWidth:{outsideThreshold:1,insideThreshold:1,top:1,middle:1,bottom:1},overSold:70,middle:50,overBought:30};const ks=Ss;var Ds=n(654),Ts=function(t){function e(e){var n;return(n=t.call(this,e)||this).renderSVG=n.renderSVG.bind(tt(n)),n.drawOnCanvas=n.drawOnCanvas.bind(tt(n)),n}M(e,t);var n=e.prototype;return n.drawOnCanvas=function(t,e){!function(t,e,n){var r=e.opacity,o=e.candleStrokeWidth,i=n.xScale,a=n.chartConfig.yScale,s=n.plotData,c=n.xAccessor,l=Ms(e,c,i,a,s);(0,Ds.b1)().key((function(t){return t.wick.stroke})).entries(l).forEach((function(e){var n=e.key,r=e.values;t.strokeStyle=n,t.fillStyle=n,r.forEach((function(e){var n=e.wick;t.fillRect(n.x-.5,n.y1,1,n.y2-n.y1),t.fillRect(n.x-.5,n.y3,1,n.y4-n.y3)}))})),(0,Ds.b1)().key((function(t){return t.stroke})).key((function(t){return t.fill})).entries(l).forEach((function(e){var n=e.key,i=e.values;"none"!==n&&(t.strokeStyle=n,t.lineWidth=o),i.forEach((function(e){var o=e.key,i=e.values,a=hn(i).width<=1?o:ln(o,r);t.fillStyle=a,i.forEach((function(e){e.width<=1?t.fillRect(e.x-.5,e.y,1,e.height):0===e.height?t.fillRect(e.x,e.y-.5,e.width,1):(t.fillRect(e.x,e.y,e.width,e.height),"none"!==n&&t.strokeRect(e.x,e.y,e.width,e.height))}))}))}))}(t,this.props,e)},n.renderSVG=function(t){var e=this.props,n=e.className,r=e.wickClassName,o=e.candleClassName,i=t.xScale,a=t.chartConfig.yScale,s=t.plotData,c=t.xAccessor,l=Ms(this.props,c,i,a,s);return(0,D.jsxs)("g",{className:n,children:[(0,D.jsx)("g",{className:r,children:As(l)},"wicks"),(0,D.jsx)("g",{className:o,children:Ps(this.props,l)},"candles")]})},n.render=function(){var t=this.props.clip;return(0,D.jsx)(Ga,{clip:t,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Ka,drawOn:["pan"]})},e}(o.Component);function As(t){var e=t.map((function(t,e){var n=t.wick;return(0,D.jsx)("path",{className:t.className,stroke:n.stroke,d:"M"+n.x+","+n.y1+" L"+n.x+","+n.y2+" M"+n.x+","+n.y3+" L"+n.x+","+n.y4},e)}));return e}function Ps(t,e){var n=t.opacity,r=t.candleStrokeWidth;return e.map((function(t,e){return t.width<=1?(0,D.jsx)("line",{className:t.className,x1:t.x,y1:t.y,x2:t.x,y2:t.y+t.height,stroke:t.fill},e):0===t.height?(0,D.jsx)("line",{x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height,stroke:t.fill},e):(0,D.jsx)("rect",{className:t.className,fillOpacity:n,x:t.x,y:t.y,width:t.width,height:t.height,fill:t.fill,stroke:t.stroke,strokeWidth:r},e)}))}function Ms(t,e,n,r,o){for(var i=t.wickStroke,a=tn(i),s=t.classNames,c=t.fill,l=t.stroke,u=t.yAccessor,h=tn(s),d=tn(c),f=tn(l),p=.5*tn(t.width)(t,{xScale:n,xAccessor:e,plotData:o}),v=p>.7?Math.round(p):Math.floor(p),g=[],m=0;m<o.length;m++){var y=o[m],x=m>0?o[m-1]:{};if(sn(u(y).close)){var w=Math.round(n(e(y))),C=u(y),b=u(x),S=Math.round(r(Math.max(C.open,C.close))),k=Math.round(Math.abs(r(C.open)-r(C.close)));g.push({x:w-v,y:S,wick:{stroke:a(C,b),x:w,y1:Math.round(r(C.high)),y2:S,y3:S+k,y4:Math.round(r(C.low))},height:k,width:2*v,className:h(C),fill:d(C,b),stroke:f(C,b),direction:C.close-C.open})}}return g}Ts.propTypes={className:Xe().string,wickClassName:Xe().string,candleClassName:Xe().string,widthRatio:Xe().number,width:Xe().oneOfType([Xe().number,Xe().func]),classNames:Xe().oneOfType([Xe().func,Xe().string]),fill:Xe().oneOfType([Xe().func,Xe().string]),stroke:Xe().oneOfType([Xe().func,Xe().string]),wickStroke:Xe().oneOfType([Xe().func,Xe().string]),yAccessor:Xe().func,clip:Xe().bool},Ts.defaultProps={className:"zhn-charts-candlestick",wickClassName:"zhn-charts-candlestick-wick",candleClassName:"zhn-charts-candlestick-candle",yAccessor:function(t){return{open:t.open,high:t.high,low:t.low,close:t.close}},classNames:function(t){return t.close>t.open?"up":"down"},width:fn,wickStroke:"#000000",fill:function(t){return t.close>t.open?"#6BA583":"#FF0000"},stroke:"#000000",candleStrokeWidth:.5,widthRatio:.8,opacity:.5,clip:!0};const _s=Ts;var Os=function(t){function e(e){var n;return(n=t.call(this,e)||this).renderSVG=n.renderSVG.bind(tt(n)),n.drawOnCanvas=n.drawOnCanvas.bind(tt(n)),n}M(e,t);var n=e.prototype;return n.drawOnCanvas=function(t,e){var n=this.props,r=n.yAccessor,o=n.defined,i=n.base,a=n.canvasGradient,s=this.props,c=s.fill,l=s.stroke,u=s.opacity,h=s.interpolation,d=s.canvasClip,f=e.xScale,p=e.chartConfig.yScale,v=e.plotData,g=e.xAccessor;d&&(t.save(),d(t,e)),t.fillStyle=null!=a?a(e,t):ln(c,u),t.strokeStyle=l,t.beginPath();var m=tn(i),y=(0,vs.SO)().defined((function(t){return o(r(t))})).x((function(t){return Math.round(f(g(t)))})).y0((function(t){return m(p,t,e)})).y1((function(t){return Math.round(p(r(t)))})).context(t);sn(h)&&y.curve(h),y(v),t.fill(),d&&t.restore()},n.renderSVG=function(t){var e=this.props,n=e.yAccessor,r=e.defined,o=e.base,i=e.style,a=this.props,s=a.stroke,c=a.fill,l=a.className,u=a.opacity,h=a.interpolation,d=t.xScale,f=t.chartConfig.yScale,p=t.plotData,v=t.xAccessor,g=tn(o),m=(0,vs.SO)().defined((function(t){return r(n(t))})).x((function(t){return Math.round(d(v(t)))})).y0((function(e){return g(f,e,t)})).y1((function(t){return Math.round(f(n(t)))}));sn(h)&&m.curve(h);var y=m(p),x=l.concat(sn(s)?"":" line-stroke");return(0,D.jsx)("path",{style:i,d:y,stroke:s,fill:ln(c,u),className:x})},n.render=function(){return(0,D.jsx)(Ga,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Ka,drawOn:["pan"]})},e}(o.Component);Os.defaultProps={className:"line ",fill:"none",opacity:1,defined:function(t){return!isNaN(t)},base:function(t){return dn(t.range())}};const Ns=Os;var Is=function(t){function e(e){var n;return(n=t.call(this,e)||this).yAccessorForTop=n.yAccessorForTop.bind(tt(n)),n.yAccessorForMiddle=n.yAccessorForMiddle.bind(tt(n)),n.yAccessorForBottom=n.yAccessorForBottom.bind(tt(n)),n.yAccessorForScalledBottom=n.yAccessorForScalledBottom.bind(tt(n)),n}M(e,t);var n=e.prototype;return n.yAccessorForTop=function(t){var e=this.props.yAccessor;return e(t)&&e(t).top},n.yAccessorForMiddle=function(t){var e=this.props.yAccessor;return e(t)&&e(t).middle},n.yAccessorForBottom=function(t){var e=this.props.yAccessor;return e(t)&&e(t).bottom},n.yAccessorForScalledBottom=function(t,e){var n=this.props.yAccessor;return t(n(e)&&n(e).bottom)},n.render=function(){var t=this.props,e=t.areaClassName,n=t.className,r=t.opacity,o=this.props,i=o.stroke,a=o.fill;return(0,D.jsxs)("g",{className:n,children:[(0,D.jsx)(ys,{yAccessor:this.yAccessorForTop,stroke:i.top,fill:"none"}),(0,D.jsx)(ys,{yAccessor:this.yAccessorForMiddle,stroke:i.middle,fill:"none"}),(0,D.jsx)(ys,{yAccessor:this.yAccessorForBottom,stroke:i.bottom,fill:"none"}),(0,D.jsx)(Ns,{className:e,yAccessor:this.yAccessorForTop,base:this.yAccessorForScalledBottom,stroke:"none",fill:a,opacity:r})]})},e}(o.Component);Is.defaultProps={className:"zhn-charts-bb-series",areaClassName:"zhn-charts-bb-series-area",opacity:.2};const Es=Is;var js=function(t){function e(e){var n;return(n=t.call(this,e)||this).renderSVG=n.renderSVG.bind(tt(n)),n.drawOnCanvas=n.drawOnCanvas.bind(tt(n)),n}M(e,t);var n=e.prototype;return n.drawOnCanvas=function(t,e){var n=e.xAccessor;Rs(t,this.props,e,n,vs.kn)},n.renderSVG=function(t){var e=t.xAccessor;return(0,D.jsx)("g",{children:Ws(this.props,t,e,vs.kn)})},n.render=function(){var t=this.props.clip;return(0,D.jsx)(Ga,{clip:t,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Ka,drawOn:["pan"]})},e}(o.Component);function Fs(){var t=[];function e(e){var n=t.map((function(t,n){var r=e.map((function(e){var n=[0,e[t]];return n.data=e,n}));return r.key=t,r.index=n,r}));return n}return e.keys=function(n){return arguments.length?(t=n,e):t},e}function Rs(t,e,n,r,o,i,a){void 0===i&&(i=Ge),void 0===a&&(a=Bs);var s=n.xScale,c=n.chartConfig.yScale;Xs(e,t,zs(e,r,n.plotData,s,c,o,a,i))}function Ls(t){return Array.isArray(t)?t:[t]}function Ws(t,e,n,r,o,i){void 0===o&&(o=Ge),void 0===i&&(i=Bs);var a=e.xScale,s=e.chartConfig.yScale;return Us(t,zs(t,n,e.plotData,a,s,r,i,o))}function zs(t,e,n,r,o,i,a,s){var c=t.yAccessor,l=t.swapScales,u=function(t,e,n,r,o,i,a,s){void 0===a&&(a=Fs);void 0===s&&(s=Ge);var c=t.baseAt,l=t.className,u=t.fill,h=t.stroke,d=t.spaceBetweenBar,f=void 0===d?0:d,p=tn(l),v=tn(u),g=tn(c),m=tn(t.width)(t,{xScale:r,xAccessor:e,plotData:i}),y=Math.round(m),x=(y-f*(n.length-1))/n.length,w=1===y?0:.5*m,C=i.map((function(t){var r={appearance:{},x:e(t)};return n.forEach((function(e,n){var o="y"+n;r[o]=e(t);var i={className:p(t,n),stroke:h?v(t,n):"none",fill:v(t,n)};r.appearance[o]=i})),r})),S=n.map((function(t,e){return"y"+e})),k=a().keys(S)(C).map((function(t,e){var n=t.key;return t.map((function(t){var r=[t[0],t[1]];return r.data={x:t.data.x,i:e,appearance:t.data.appearance[n]},r}))})),D=(0,He.TS)(k).map((function(t){var e=o(t[1]),n=g(r,o,t.data)-o(t[1]-t[0]);return n<0&&(e+=n,n=-n),b({},t.data.appearance,{x:Math.round(r(t.data.x)-m/2),y:e,groupOffset:Math.round(w-(t.data.i>0?(x+f)*t.data.i:0)),groupWidth:Math.round(x),offset:Math.round(w),height:n,width:y})})).filter((function(t){return!isNaN(t.y)}));return s(D)}(t,l?c:e,Ls(l?t.xAccessor:c),l?o:r,l?r:o,n,i,l?a:s);return u}js.defaultProps={baseAt:function(t,e){return hn(e.range())},direction:"up",className:"bar",stroke:!0,fill:"#4682B4",opacity:.5,width:fn,widthRatio:.8,clip:!0,swapScales:!1};var Bs=function(t){return t.map((function(t){return b({},t,{x:t.y,y:t.x,height:t.width,width:t.height})}))};function Us(t,e){var n=t.opacity;return e.map((function(t,e){return t.width<=1?(0,D.jsx)("line",{className:t.className,stroke:t.fill,x1:t.x,y1:t.y,x2:t.x,y2:t.y+t.height},e):(0,D.jsx)("rect",{className:t.className,stroke:t.stroke,fill:t.fill,x:t.x,y:t.y,width:t.width,fillOpacity:n,height:t.height},e)}))}function Xs(t,e,n){var r=t.stroke;(0,Ds.b1)().key((function(t){return t.fill})).entries(n).forEach((function(n){var o=n.key,i=n.values;hn(i).width>1&&(e.strokeStyle=o);var a=hn(i).width<=1?o:ln(o,t.opacity);e.fillStyle=a,i.forEach((function(t){t.width<=1?e.fillRect(t.x-.5,t.y,1,t.height):(e.fillRect(t.x,t.y,t.width,t.height),r&&e.strokeRect(t.x,t.y,t.width,t.height))}))}))}const Hs=js;var Ys=function(t){function e(e){var n;return(n=t.call(this,e)||this).renderSVG=n.renderSVG.bind(tt(n)),n.drawOnCanvas=n.drawOnCanvas.bind(tt(n)),n}M(e,t);var n=e.prototype;return n.drawOnCanvas=function(t,e){if(this.props.swapScales){var n=e.xAccessor;Rs(t,this.props,e,n,Fs)}else{var r=qs(this.props,e);Xs(this.props,t,r)}},n.renderSVG=function(t){if(this.props.swapScales){var e=t.xAccessor;return(0,D.jsx)("g",{children:Ws(this.props,t,e,Fs)})}var n=qs(this.props,t);return(0,D.jsx)("g",{children:Us(this.props,n)})},n.render=function(){var t=this.props.clip;return(0,D.jsx)(Ga,{clip:t,svgDraw:this.renderSVG,canvasToDraw:Ka,canvasDraw:this.drawOnCanvas,drawOn:["pan"]})},e}(o.Component);Ys.defaultProps=Hs.defaultProps;const Vs=Ys;function qs(t,e){var n=t.baseAt,r=t.fill,o=t.stroke,i=t.yAccessor,a=e.xScale,s=e.xAccessor,c=e.plotData,l=e.chartConfig.yScale,u=tn(n),h=tn(t.width)(t,{xScale:a,xAccessor:s,plotData:c}),d=Math.floor(.5*h);return c.filter((function(t){return sn(i(t))})).map((function(t,e,n){var c=n[e-1]||t,h=i(t),f=l(h),p=Math.round(a(s(t)))-d,v=u(a,l,t)-l(h);return v<0&&(f+=v,v=-v),{x:p,y:Math.round(f),height:Math.round(v),width:2*d,fill:r(t,c),stroke:o(t,c)}}))}var Zs=["strokeDasharray"];function Gs(t,e){var n=e.mouseXY,r=e.currentItem,o=e.show,i=e.height,a=e.width,s=t.customX,c=t.stroke,l=t.opacity,u=t.strokeDasharray;if(!o||cn(r))return null;var h={x1:0,x2:a,y1:n[1],y2:n[1],stroke:c,strokeDasharray:u,opacity:l},d=s(t,e);return[h,{x1:d,x2:d,y1:0,y2:i,stroke:c,strokeDasharray:u,opacity:l}]}var $s=function(t){function e(e){var n;return(n=t.call(this,e)||this).renderSVG=n.renderSVG.bind(tt(n)),n.drawOnCanvas=n.drawOnCanvas.bind(tt(n)),n}M(e,t);var n=e.prototype;return n.drawOnCanvas=function(t,e){var n=Gs(this.props,e);if(sn(n)){var r=this.context,o=r.margin,i=r.ratio,a=.5*i+o.left,s=.5*i+o.top;t.save(),t.setTransform(1,0,0,1,0,0),t.scale(i,i),t.translate(a,s),n.forEach((function(e){var n=nn(e.strokeDasharray).split(",").map((function(t){return+t}));t.strokeStyle=ln(e.stroke,e.opacity),t.setLineDash(n),t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.stroke()})),t.restore()}},n.renderSVG=function(t){var e=this.props.className,n=Gs(this.props,t);return cn(n)?null:(0,D.jsx)("g",{className:"zhn-charts-crosshair "+e,children:n.map((function(t,e){var n=t.strokeDasharray,r=S(t,Zs);return(0,D.jsx)("line",b({strokeDasharray:nn(n)},r),e)}))})},n.render=function(){return(0,D.jsx)(qa,{svgDraw:this.renderSVG,clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:Ja,drawOn:["mousemove","pan","drag"]})},e}(o.Component);$s.contextTypes={margin:Xe().object.isRequired,ratio:Xe().number.isRequired},$s.defaultProps={stroke:"#000000",opacity:.3,strokeDasharray:"ShortDash",snapX:!0,customX:function(t,e){var n=e.xScale,r=e.xAccessor,o=e.currentItem,i=e.mouseXY;return t.snapX?Math.round(n(r(o))):i[0]}};const Ks=$s;const Js=function(t){var e=(0,o.useRef)(null);return(0,o.useLayoutEffect)((function(){e.current=t})),(0,o.useCallback)((function(){var t=e.current;return t?t.apply(void 0,arguments):void 0}),[])};function Qs(t){var e,n,r=t.coordinate,o=t.show,i=t.type,a=t.orient,s=t.edgeAt,c=t.hideLine,l=t.lineStrokeDasharray,u=t.fill,h=t.opacity,d=t.fontFamily,f=t.fontSize,p=t.textFill,v=t.lineStroke,g=t.lineOpacity,m=t.stroke,y=t.strokeOpacity,x=t.strokeWidth,w=t.arrowWidth,C=t.rectWidth,b=t.rectHeight,S=t.rectRadius,k=t.x1,D=t.y1,T=t.x2,A=t.y2,P=t.dx;if(!o)return null;if(sn(r)){var M,_,O,N;if("horizontal"===i)M=P+("right"===a?s+1:s-C-1),_=D-b/2-x,O=P+("right"===a?s+C/2:s-C/2),N=D;else{var I="bottom"===a?x-1:1-x;M=k-C/2,_=("bottom"===a?s:s-b)+I,O=k,N=("bottom"===a?s+b/2:s-b/2)+I}e={edgeXRect:M,edgeYRect:_,rectHeight:b+x,rectWidth:C,rectRadius:S,fill:u,opacity:h,arrowWidth:w,stroke:m,strokeOpacity:y,strokeWidth:x},n={edgeXText:O,edgeYText:N,textAnchor:"middle",fontFamily:d,fontSize:f,textFill:p,displayCoordinate:r}}return{coordinateBase:e,coordinate:n,orient:a,line:c?void 0:{opacity:g,stroke:v,strokeDasharray:l,x1:k,y1:D,x2:T,y2:A}}}const tc=function(t,e){return Js((function(n){var r=e(t,n);return cn(r)?null:function(t){var e,n,r,o=t.className,i=Qs(t);if(null===i)return null;if(sn(i.line)&&(e=(0,D.jsx)("line",{className:"zhn-charts-cross_hair",strokeOpacity:i.line.opacity,stroke:i.line.stroke,strokeDasharray:nn(i.line.strokeDasharray),x1:i.line.x1,y1:i.line.y1,x2:i.line.x2,y2:i.line.y2})),sn(i.coordinateBase)){var a=i.coordinateBase,s=a.rectWidth,c=a.rectHeight,l=a.arrowWidth,u="left"===i.orient?"M0,0L0,"+c+"L"+s+","+c+"L"+(s+l)+",10L"+s+",0L0,0L0,0":"M0,"+l+"L"+l+","+c+"L"+(s+l)+","+c+"L"+(s+l)+",0L"+l+",0L0,"+l;n="left"===i.orient||"right"===i.orient?(0,D.jsx)("g",{transform:"translate("+i.coordinateBase.edgeXRect+","+i.coordinateBase.edgeYRect+")",children:(0,D.jsx)("path",{d:u,className:ma,height:c,width:s,stroke:i.coordinateBase.stroke,strokeLinejoin:"miter",strokeOpacity:i.coordinateBase.strokeOpacity,strokeWidth:i.coordinateBase.strokeWidth,fill:i.coordinateBase.fill,fillOpacity:i.coordinateBase.opacity})},1):(0,D.jsx)("rect",{className:ma,x:i.coordinateBase.edgeXRect,y:i.coordinateBase.edgeYRect,height:c,width:s,fill:i.coordinateBase.fill,opacity:i.coordinateBase.opacity},1);var h=i.coordinate,d=h.edgeXText,f=h.edgeYText,p=h.textAnchor,v=h.fontFamily,g=h.fontSize,m=h.textFill,y=h.displayCoordinate;r=(0,D.jsx)("text",{x:d,y:f,textAnchor:p,fontFamily:v,fontSize:g,dy:".32em",fill:m,children:sn(y)?y:""},2)}return(0,D.jsxs)("g",{className:o,children:[e,n,r]})}(r)}))};const ec=function(t,e){return Js((function(n,r){var o=e(t,r);if(cn(o))return null;!function(t,e){var n=e.fontSize,r=e.fontFamily;t.font=n+"px "+r,t.textBaseline="middle";var o=Qs(b({},e,{rectWidth:Math.round(t.measureText(e.coordinate).width+10)}));if(null!==o){if(sn(o.line)){var i=nn(o.line.strokeDasharray).split(",").map((function(t){return+t}));t.setLineDash(i),t.strokeStyle=ln(o.line.stroke,o.line.opacity),t.lineWidth=1,t.beginPath(),t.moveTo(o.line.x1,o.line.y1),t.lineTo(o.line.x2,o.line.y2),t.stroke()}if(t.setLineDash([]),sn(o.coordinateBase)){var a=o.coordinateBase,s=a.rectWidth,c=a.rectHeight,l=a.rectRadius,u=a.arrowWidth;t.fillStyle=ln(o.coordinateBase.fill,o.coordinateBase.opacity),sn(o.coordinateBase.stroke)&&(t.strokeStyle=ln(o.coordinateBase.stroke,o.coordinateBase.strokeOpacity),t.lineWidth=o.coordinateBase.strokeWidth);var h=o.coordinateBase.edgeXRect,d=o.coordinateBase.edgeYRect,f=c/2;t.beginPath(),"right"===o.orient?(h-=u,t.moveTo(h,d+f),t.lineTo(h+u,d),t.lineTo(h+s+u,d),t.lineTo(h+s+u,d+c),t.lineTo(h+u,d+c),t.closePath()):"left"===o.orient?(t.moveTo(h,d),t.lineTo(h+s,d),t.lineTo(h+s+u,d+f),t.lineTo(h+s,d+c),t.lineTo(h,d+c),t.closePath()):l?function(t,e,n,r,o,i){t.beginPath(),t.moveTo(e+i,n),t.lineTo(e+r-i,n),t.quadraticCurveTo(e+r,n,e+r,n+i),t.lineTo(e+r,n+o-i),t.quadraticCurveTo(e+r,n+o,e+r-i,n+o),t.lineTo(e+i,n+o),t.quadraticCurveTo(e,n+o,e,n+o-i),t.lineTo(e,n+i),t.quadraticCurveTo(e,n,e+i,n),t.closePath()}(t,h,d,s,c,3):t.rect(h,d,s,c),t.fill(),sn(o.coordinateBase.stroke)&&t.stroke(),t.fillStyle=o.coordinate.textFill,t.textAlign="middle"===o.coordinate.textAnchor?"center":o.coordinate.textAnchor,t.fillText(o.coordinate.displayCoordinate,o.coordinate.edgeXText,o.coordinate.edgeYText)}}}(n,o)}))};const nc=function(t){return function(e){var n=tc(e,t),r=ec(e,t);return(0,D.jsx)(Ga,{clip:!1,svgDraw:n,canvasDraw:r,canvasToDraw:Ja,drawOn:["mousemove","pan","drag"]})}};var rc="#525252",oc="#ffffff",ic="Helvetica Neue, Helvetica, Arial, sans-serif",ac=nc((function(t,e){var n=e.show,r=e.currentItem,o=e.chartConfig.height;if(cn(r))return null;var i=t.orient,a=t.at,s=t.stroke,c=t.strokeOpacity,l=t.strokeWidth,u=t.rectRadius,h=t.rectWidth,d=t.rectHeight,f=t.fill,p=t.opacity,v=t.fontFamily,g=t.fontSize,m=t.textFill,y=(0,t.customX)(t,e),x=y.x;return{type:"vertical",hideLine:!0,edgeAt:"bottom"===a?o:0,coordinate:y.coordinate,show:n,orient:i,fill:f,opacity:p,fontFamily:v,fontSize:g,textFill:m,stroke:s,strokeOpacity:c,strokeWidth:l,rectWidth:h,rectHeight:d,rectRadius:u,arrowWidth:0,x1:x,x2:x,y1:0,y2:o}}));ac.defaultProps={fill:rc,textFill:oc,fontFamily:ic,fontSize:13,yAxisPad:0,rectWidth:80,rectHeight:20,strokeOpacity:1,strokeWidth:1,orient:"bottom",at:"bottom",opacity:1,snapX:!0,customX:function(t,e){var n=t.snapX,r=t.displayFormat,o=e.xScale,i=e.xAccessor,a=e.currentItem,s=e.mouseXY,c=e.displayXAccessor,l=n?[o(i(a)),c(a)]:[s[0],o.invert(u)],u=l[0];return{x:u,coordinate:r(l[1])}}};const sc=ac;var cc=nc((function(t,e){var n=e.chartId,r=e.currentCharts,o=e.mouseXY,i=e.show;if(cn(o))return null;if(r.indexOf(n)<0)return null;if(!i)return null;var a=o[1],s=e.chartConfig.yScale;return function(t,e,n,r){var o=r.width,i=n.orient,a=n.at,s=n.rectWidth,c=n.rectHeight,l=n.dx,u=n.fill,h=n.opacity,d=n.fontFamily,f=n.fontSize,p=n.textFill,v=n.arrowWidth;return{coordinate:e,show:!0,type:"horizontal",hideLine:!0,edgeAt:"right"===a?o:0,orient:i,fill:u,opacity:h,fontFamily:d,fontSize:f,textFill:p,stroke:n.stroke,strokeOpacity:n.strokeOpacity,strokeWidth:n.strokeWidth,rectWidth:s,rectHeight:c,arrowWidth:v,dx:l,x1:0,x2:o,y1:t,y2:t}}(a,(0,t.displayFormat)(s.invert(a)),t,e)}));cc.defaultProps={fill:rc,textFill:oc,fontFamily:ic,fontSize:13,yAxisPad:0,rectWidth:50,rectHeight:20,orient:"left",at:"left",dx:0,arrowWidth:10,opacity:1,strokeOpacity:1,strokeWidth:1};const lc=cc;var uc=["className","fontFamily","fontSize","children"];const hc=function(t){var e=t.className,n=void 0===e?sa:e,r=t.fontFamily,o=void 0===r?"-apple-system, system-ui, 'Helvetica Neue', Ubuntu, sans-serif":r,i=t.fontSize,a=void 0===i?11:i,s=t.children,c=S(t,uc);return(0,D.jsx)("text",b({className:n,fontFamily:o,fontSize:a},c,{children:s}))};var dc=["className","fill","children"];const fc=function(t){var e=t.className,n=void 0===e?"zhn-charts-tooltip-label":e,r=t.fill,o=void 0===r?"#4682b4":r,i=t.children,a=S(t,dc);return(0,D.jsx)("tspan",b({className:n,fill:o},a,{children:i}))};var pc=function(t){var e=Js((function(e){var n,r=t.onClick,o=t.displayFormat,i=t.yAccessor,a=t.options,s=t.origin,c=t.textFill,l=t.labelFill,u=t.labelFontWeight,h=t.className,d=t.displayValuesFor,f=t.displayInit,p=t.fontFamily,v=t.fontSize,g=t.fontWeight,m=e.chartConfig,y=m.width,x=m.height,w=e.fullData,C=null!=(n=d(t,e))?n:un(w),b=f,S=f,k=f;if(void 0!==C){var T=i(C);void 0!==T&&(b=o(T.top),S=o(T.middle),k=o(T.bottom))}var A=tn(s)(y,x),P=A[0],M=A[1],_="BB("+a.sourcePath+", "+a.windowSize+", "+a.multiplier+", "+a.movingAverageType+"): ",O=b+", "+S+", "+k,N=on([P,M]);return(0,D.jsx)("g",{transform:N,className:h,onClick:r,children:(0,D.jsxs)(hc,{x:0,y:0,fontFamily:p,fontSize:v,fontWeight:g,children:[(0,D.jsx)(fc,{fill:l,fontWeight:u,children:_}),(0,D.jsx)("tspan",{fill:c,children:O})]})})}));return(0,D.jsx)(Ga,{clip:!1,svgDraw:e,drawOn:["mousemove"]})};pc.defaultProps={className:"zhn-charts-bb-tooltip",displayFormat:(0,Oo.WU)(".2f"),displayValuesFor:function(t,e){return e.currentItem},displayInit:"n/a",origin:[8,8],yAccessor:function(t){return t.bb}};const vc=pc;const gc=function(t){var e=t.color,n=t.displayName,r=t.fontSize,i=t.fontFamily,a=t.fontWeight,s=t.textFill,c=t.labelFill,l=t.labelFontWeight,u=t.value,h=t.origin,d=t.onClick,f=t.forChart,p=t.options,v=(0,o.useCallback)((function(t){void 0!==d&&d(t,b({chartId:f},p))}),[d,f,p]),g=on(h);return(0,D.jsxs)("g",{transform:g,children:[(0,D.jsx)("line",{x1:0,y1:2,x2:0,y2:28,stroke:e,strokeWidth:4}),(0,D.jsxs)(hc,{x:5,y:11,fontFamily:i,fontSize:r,fontWeight:a,children:[(0,D.jsx)(fc,{fill:c,fontWeight:l,children:n}),(0,D.jsx)("tspan",{x:5,dy:15,fill:s,children:u})]}),(0,D.jsx)("rect",{x:0,y:0,width:55,height:30,fill:"none",stroke:"none",onClick:v})]})};var mc=function(t){var e=Js((function(e){var n,r=e.chartId,o=e.chartConfig,i=e.chartConfig.height,a=e.fullData,s=t.className,c=t.displayInit,l=t.onClick,u=t.width,h=t.fontFamily,d=t.fontSize,f=t.fontWeight,p=t.textFill,v=t.labelFill,g=t.origin,m=t.displayFormat,y=t.displayValuesFor,x=t.options,w=null!=(n=y(t,e))?n:un(a),C=tn(g)(u,i),b=C[0],S=C[1],k=o.origin,T=k[0],A=k[1],P=on([T+b,A+S]);return(0,D.jsx)("g",{transform:P,className:s,children:x.map((function(t,e){var n=w&&t.yAccessor(w),o=t.type+" ("+t.windowSize+")",i=n?m(n):c;return(0,D.jsx)(gc,{origin:[u*e,0],color:t.stroke,displayName:o,value:i,options:t,forChart:r,onClick:l,fontFamily:h,fontSize:d,fontWeight:f,textFill:p,labelFill:v},e)}))})}));return(0,D.jsx)(Ga,{clip:!1,svgDraw:e,drawOn:["mousemove"]})};mc.defaultProps={className:"zhn-charts-ma-tooltip",displayFormat:(0,Oo.WU)(".2f"),displayInit:"n/a",displayValuesFor:function(t,e){return e.currentItem},origin:[0,10],width:65};const yc=mc;var xc=function(t){var e=t.labelFill,n=t.labelFontWeight,r=t.text,o=t.valueFill,i=t.value;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(fc,{fill:e,fontWeight:n,children:r}),(0,D.jsx)("tspan",{fill:o,children:i},"value_O")]})},wc=function(t){var e=Js((function(e){var n,r=t.accessor,o=t.changeFormat,i=t.className,a=t.displayTexts,s=t.displayValuesFor,c=t.fontFamily,l=t.fontSize,u=t.fontWeight,h=t.labelFill,d=t.labelFontWeight,f=t.ohlcFormat,p=t.onClick,v=t.percentFormat,g=t.textFill,m=e.chartConfig,y=m.width,x=m.height,w=e.fullData,C=null!=(n=s(t,e))?n:un(w),b=a.na,S=b,k=b,T=b,A=b,P=b;if(void 0!==C&&void 0!==r){var M=r(C);void 0!==M&&(S=f(M.open),k=f(M.high),T=f(M.low),A=f(M.close),P=o(M.close-M.open)+" ("+v((M.close-M.open)/M.open)+")")}var _=t.origin,O=tn(_)(y,x),N=O[0],I=O[1],E=tn(g)(C),j=on([N,I]);return(0,D.jsx)("g",{className:i,transform:j,onClick:p,children:(0,D.jsxs)(hc,{x:0,y:0,fontFamily:c,fontSize:l,fontWeight:u,children:[(0,D.jsx)(xc,{fill:h,fontWeight:d,text:a.o,valueFill:E,value:S}),(0,D.jsx)(xc,{fill:h,fontWeight:d,text:a.h,valueFill:E,value:k}),(0,D.jsx)(xc,{fill:h,fontWeight:d,text:a.l,valueFill:E,value:T}),(0,D.jsx)(xc,{fill:h,fontWeight:d,text:a.c,valueFill:E,value:A}),(0,D.jsx)("tspan",{fill:E,children:" "+P},"value_Change")]})})}));return(0,D.jsx)(Ga,{clip:!1,svgDraw:e,drawOn:["mousemove"]})};wc.defaultProps={accessor:function(t){return t},changeFormat:(0,Oo.WU)("+.2f"),className:"zhn-charts-ohlc-tooltip",displayTexts:{o:"O: ",h:" H: ",l:" L: ",c:" C: ",na:"n/a"},displayValuesFor:function(t,e){return e.currentItem},fontFamily:"-apple-system, system-ui, 'Helvetica Neue', Ubuntu, sans-serif",fontWeight:"bold",ohlcFormat:(0,Oo.WU)(".2f"),origin:[0,0],percentFormat:(0,Oo.WU)("+.2%")};const Cc=wc;var bc=(0,Oo.WU)(".2f"),Sc=function(t,e){return e.currentItem},kc=[0,0];const Dc=function(t){var e=t.className,n=void 0===e?sa:e,r=t.displayInit,o=void 0===r?"n/a":r,i=t.displayFormat,a=void 0===i?bc:i,s=t.displayValuesFor,c=void 0===s?Sc:s,l=t.origin,u=void 0===l?kc:l,h=t.fontFamily,d=t.fontSize,f=t.fontWeight,p=t.yAccessor,v=t.options,g=t.labelFill,m=t.labelFontWeight,y=t.textFill,x=t.onClick,w=Js((function(e){var r=e.chartConfig,i=r.width,s=r.height,l=c(t,e),w=sn(l)&&p(l),C=w&&a(w)||o,b=tn(u)(i,s),S=b[0],k=b[1],T="RSI ("+v.windowSize+"): ";return(0,D.jsx)("g",{className:n,transform:"translate("+S+", "+k+")",onClick:x,children:(0,D.jsxs)(hc,{x:0,y:0,fontFamily:h,fontSize:d,fontWeight:f,children:[(0,D.jsx)(fc,{fill:g,fontWeight:m,children:T}),(0,D.jsx)("tspan",{fill:y,children:C})]})})}));return(0,D.jsx)(Ga,{clip:!1,svgDraw:w,drawOn:["mousemove"]})};var Tc={sourcePath:"close",multiplier:2,movingAverageType:"sma",windowSize:20},Ac={sourcePath:"close",windowSize:10},Pc={sourcePath:"close",windowSize:14},Mc={sourcePath:"close",windowSize:10};function _c(){var t=Tc,e=function(e){var n=t,r=n.windowSize,o=n.multiplier,i=n.movingAverageType,a=n.sourcePath,s=Qe(a),c="ema"===i?function(){var t=Ac,e=function(e){var n,r=t,o=r.windowSize,i=r.sourcePath,a=Qe(i),s=2/(o+1),c=0,l=0;return e.map((function(t,e){var r=a(t,e);if(void 0!==n||void 0!==r){if(!(e<o+l-1)){if(e===o+l-1){var i=(c+=r)/o;return n=i,i}var u=r*s+(1-s)*n;return n=u,u}c+=r}else l++}))};return e.undefinedLength=function(){return t.windowSize-1},e.options=function(){return arguments.length?(t=b({},Ac,arguments.length<=0?void 0:arguments[0]),e):t},e}().options({windowSize:r,sourcePath:a}):en().windowSize(r).accumulator((function(t){return(0,He.J6)(t)})).sourcePath(a),l=en().windowSize(r).accumulator((function(t){var e=t[t.length-1].mean,n=(0,He.P3)(t,(function(t){return s(t.datum)}));return void 0===n?void 0:{top:e+o*n,middle:e,bottom:e-o*n}})),u=$e().combine((function(t,e){return{datum:t,mean:e}}));return l(u(e,c(e)))};return e.undefinedLength=function(){return t.windowSize-1},e.options=function(){return arguments.length?(t=b({},Tc,arguments.length<=0?void 0:arguments[0]),e):t},e}var Oc=0;function Nc(){var t,e,n,r,o,i=Oc++;function a(){}return a.id=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a.accessor=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.stroke=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e||(e=an(i))},a.fill=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n||(n=an(i))},a.echo=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.type=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],a):o},a}var Ic={merge:!0};const Ec=function(t,e,n,r){var o=function(o,i){if(void 0===i&&(i=Ic),i.merge){if(!e.accessor())throw new Error("Set an accessor to "+t+" before calculating");return r(o)}return n(o)};return Ze(o,e,"id","accessor","stroke","fill","echo","type"),Ze(o,n,"options","undefinedLength"),Ze(o,r,"merge","skipUndefined"),o};var jc="BollingerBand";var Fc={ChartCanvas:Ha,Chart:Ro,XAxis:us,YAxis:ps,LineSeries:ys,RSISeries:ks,CandlestickSeries:_s,BollingerSeries:Es,BarSeries:Vs,CrossHairCursor:Ks,MouseCoordinateX:sc,MouseCoordinateY:lc,RSITooltip:Dc,OHLCTooltip:Cc,MovingAverageTooltip:yc,BollingerBandTooltip:vc,sma:function(){var t=Nc().type("SMA").accessor((function(t){return t.sma})),e=function(){var t=Mc;function e(e){var n=t,r=n.windowSize,o=n.sourcePath,i=en().windowSize(r).sourcePath(o).accumulator((function(t){return(0,He.J6)(t)}));return i(e)}return e.undefinedLength=function(){return t.windowSize-1},e.options=function(){return arguments.length?(t=b({},Mc,arguments.length<=0?void 0:arguments[0]),e):t},e}(),n=Ke().algorithm(e).merge((function(t,e){t.sma=e}));return Ec("SMA",t,e,n)},rsi:function(){var t,e,n=Nc().type("RSI").accessor((function(t){return t.rsi})),r=(t=Pc,e=function(e){var n,r,o=t,i=o.windowSize,a=o.sourcePath,s=Qe(a),c=en().windowSize(i).accumulator((function(t){var e=void 0!==n?(n*(i-1)+t[t.length-1].gain)/i:(0,He.J6)(t,(function(t){return t.gain}));if(void 0!==e){var o=void 0!==r?(r*(i-1)+t[t.length-1].loss)/i:(0,He.J6)(t,(function(t){return t.loss}));if(void 0!==o)return n=e,r=o,100-100/(1+e/o)}}));return c(en().windowSize(2).undefinedValue((function(){return[0,0]})).accumulator((function(t){var e=t[0],n=t[1],r=s(n)-s(e);return{gain:Math.max(r,0),loss:Math.abs(Math.min(r,0))}}))(e))},e.undefinedLength=function(){return t.windowSize-1},e.options=function(){return arguments.length?(t=b({},Pc,arguments.length<=0?void 0:arguments[0]),e):t},e),o=Ke().algorithm(r).merge((function(t,e){t.rsi=e}));return Ec("RSI",n,r,o)},bollingerBand:function(){var t=Nc().type(jc),e=_c(),n=Ke().algorithm(e).merge((function(t,e){t.bollingerBand=e}));return Ec(jc,t,e,n)},useElementWidth:function(t){var e=void 0===t?{}:t,n=e.id,r=e.minWidth,i=void 0===r?100:r,a=e.initialWidth,s=void 0===a?1e3:a,c=(0,o.useRef)(),l=(0,o.useState)(s),u=l[0],h=l[1],d=(0,o.useCallback)((function(){var t=n?document.getElementById(n):function(t){return t.current}(c);if(t){var e=window.getComputedStyle(t),r=e.width,o=e.paddingLeft,a=e.paddingRight,s=parseFloat(r)-(parseFloat(o)+parseFloat(a));h(Math.round(Math.max(s,i)))}}),[]);return(0,o.useLayoutEffect)(d,[]),(0,o.useEffect)((function(){return window.addEventListener("resize",d),function(){return window.removeEventListener("resize",d)}}),[]),[u,c]}};const Rc=Fc,Lc=1e3,Wc=6e4,zc=36e5,Bc=864e5,Uc=6048e5,Xc=2592e6,Hc=31536e6;var Yc=new Date,Vc=new Date;function qc(t,e,n,r){function o(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return o.floor=function(e){return t(e=new Date(+e)),e},o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,r,i){var a,s=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return s;do{s.push(a=new Date(+n)),e(n,i),t(n)}while(a<n&&n<r);return s},o.filter=function(n){return qc((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(o.count=function(e,r){return Yc.setTime(+e),Vc.setTime(+r),t(Yc),t(Vc),Math.floor(n(Yc,Vc))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?function(e){return r(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}var Zc=qc((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Zc.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?qc((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Zc:null};const Gc=Zc;Zc.range;var $c=qc((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Lc)}),(function(t,e){return(e-t)/Lc}),(function(t){return t.getUTCSeconds()}));const Kc=$c;$c.range;var Jc=qc((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lc)}),(function(t,e){t.setTime(+t+e*Wc)}),(function(t,e){return(e-t)/Wc}),(function(t){return t.getMinutes()}));const Qc=Jc;Jc.range;var tl=qc((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lc-t.getMinutes()*Wc)}),(function(t,e){t.setTime(+t+e*zc)}),(function(t,e){return(e-t)/zc}),(function(t){return t.getHours()}));const el=tl;tl.range;var nl=qc((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wc)/Bc),(t=>t.getDate()-1));const rl=nl;nl.range;function ol(t){return qc((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wc)/Uc}))}var il=ol(0),al=ol(1),sl=ol(2),cl=ol(3),ll=ol(4),ul=ol(5),hl=ol(6),dl=(il.range,al.range,sl.range,cl.range,ll.range,ul.range,hl.range,qc((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));const fl=dl;dl.range;var pl=qc((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));pl.every=function(t){return isFinite(t=Math.floor(t))&&t>0?qc((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const vl=pl;pl.range;var gl=qc((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Wc)}),(function(t,e){return(e-t)/Wc}),(function(t){return t.getUTCMinutes()}));const ml=gl;gl.range;var yl=qc((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*zc)}),(function(t,e){return(e-t)/zc}),(function(t){return t.getUTCHours()}));const xl=yl;yl.range;var wl=qc((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Bc}),(function(t){return t.getUTCDate()-1}));const Cl=wl;wl.range;function bl(t){return qc((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Uc}))}var Sl=bl(0),kl=bl(1),Dl=bl(2),Tl=bl(3),Al=bl(4),Pl=bl(5),Ml=bl(6),_l=(Sl.range,kl.range,Dl.range,Tl.range,Al.range,Pl.range,Ml.range,qc((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})));const Ol=_l;_l.range;var Nl=qc((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Nl.every=function(t){return isFinite(t=Math.floor(t))&&t>0?qc((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const Il=Nl;Nl.range;function El(t,e,n,r,o,i){const a=[[Kc,1,Lc],[Kc,5,5e3],[Kc,15,15e3],[Kc,30,3e4],[i,1,Wc],[i,5,3e5],[i,15,9e5],[i,30,18e5],[o,1,zc],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,Bc],[r,2,1728e5],[n,1,Uc],[e,1,Xc],[e,3,7776e6],[t,1,Hc]];function s(e,n,r){const o=Math.abs(n-e)/r,i=Wn((([,,t])=>t)).right(a,o);if(i===a.length)return t.every(Rn(e/Hc,n/Hc,r));if(0===i)return Gc.every(Math.max(Rn(e,n,r),1));const[s,c]=a[o/a[i-1][2]<a[i][2]/o?i-1:i];return s.every(c)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const o=n&&"function"==typeof n.range?n:s(t,e,n),i=o?o.range(t,+e+1):[];return r?i.reverse():i},s]}const[jl,Fl]=El(Il,Ol,Sl,Cl,xl,ml),[Rl,Ll]=El(vl,fl,il,rl,el,Qc);var Wl=n(152);function zl(t){return new Date(t)}function Bl(t){return t instanceof Date?+t:+new Date(+t)}function Ul(t,e,n,r,o,i,a,s,c,l){var u=Po(),h=u.invert,d=u.domain,f=l(".%L"),p=l(":%S"),v=l("%I:%M"),g=l("%I %p"),m=l("%a %d"),y=l("%b %d"),x=l("%B"),w=l("%Y");function C(t){return(c(t)<t?f:s(t)<t?p:a(t)<t?v:i(t)<t?g:r(t)<t?o(t)<t?m:y:n(t)<t?x:w)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?d(Array.from(t,Bl)):d().map(zl)},u.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?C:l(e)},u.nice=function(t){var n=d();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d(function(t,e){var n,r=0,o=(t=t.slice()).length-1,i=t[r],a=t[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),t[r]=e.floor(i),t[o]=e.ceil(a),t}(n,t)):u},u.copy=function(){return To(u,Ul(t,e,n,r,o,i,a,s,c,l))},u}var Xl=n(692),Hl=n(829),Yl=n(222),Vl=(0,Hl.Z)((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Yl.yB)}),(function(t,e){return(e-t)/Yl.yB}),(function(t){return t.getUTCMinutes()}));const ql=Vl;Vl.range;var Zl=(0,Hl.Z)((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Yl.Y2)}),(function(t,e){return(e-t)/Yl.Y2}),(function(t){return t.getUTCHours()}));const Gl=Zl;Zl.range;var $l=n(326),Kl=(0,Hl.Z)((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const Jl=Kl;Kl.range;const Ql=function(t){return function(e,n){var r=e.widthRatio,o=n.xScale,i=(0,n.xAccessor)(function(t,e){if(!e||!t)return t?t[0]:void 0;for(var n=0;n<t.length;n++){var r=t[n];if(null!=e(r))return r}}(n.plotData));return Math.abs(o(t.offset(i,1))-o(i))*r}};var tu,eu,nu=function(t){return"string"==typeof t},ru=function(t,e){return-1!==t.indexOf(e)},ou={C:{UP:"black",DOWN:"#980032",TRANSPARENT:"transparent"},timeIntervalBarWidth:Ql,scaleTime:function(){return Ye.apply(Ul(Rl,Ll,vl,fl,il,rl,el,Qc,Kc,Wl.i$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},crTimeInterval:function(t){if(!t||!nu(t))return Xl.Z;var e=parseInt(t,10);return ru(t,"m")?ql.every(e):ru(t,"h")?Gl.every(e):ru(t,"d")?Xl.Z.every(e):ru(t,"w")?$l.Ox.every(e):ru(t,"M")?Jl.every(e):Xl.Z},crTimeFormat:function(t){return nu(t)&&(ru(t,"m")||ru(t,"h"))?(0,Wl.i$)("%m-%d %H:%M"):(0,Wl.i$)("%Y-%m-%d")},utcMinute:ql,utcHour:Gl,utcDay:Xl.Z,format:Oo.WU,timeFormat:Wl.i$,crExtends:function(t,e,n){var r=t.length-1,o=r<n?(t[0]||{}).date:(t[r-n]||{}).date,i=(t.slice(-1)[0]||{}).date,a="1m"===e?i+3e5:i;return o===tu&&a===eu||(tu=o),eu=a,[o,a]}};var iu=ou.C,au=ou.timeIntervalBarWidth,su=ou.format,cu="rs-tooltip",lu=function(){},uu=function(t,e){return(t||{}).close>(e||{}).close?iu.UP:iu.DOWN},hu=function(t,e){return(t||{}).close>(t||{}).open?iu.TRANSPARENT:uu(t,e)},du={top:"#964B00",middle:"#000000",bottom:"#964B00"},fu=function(t,e){return{type:"SMA",yAccessor:t,stroke:e.stroke,windowSize:e.windowSize}};const pu=function(t){var e=t.id,n=t.height,r=t.timeInterval,o=t.timeFormat,i=t.sma20,a=t.sma50,s=t.bb,c=i.accessor(),l=i.options(),u=a.accessor(),h=a.options();return(0,D.jsxs)(Rc.Chart,{id:e,height:n,yExtents:function(t){return[t.high,t.low]},origin:function(t,e){return[0,e-420]},children:[(0,D.jsx)(Rc.YAxis,{axisAt:"right",orient:"right",ticks:5,stroke:"black"}),(0,D.jsx)(Rc.BollingerSeries,{yAccessor:function(t){return t.bb},stroke:du,fill:"#4682B4"}),(0,D.jsx)(Rc.LineSeries,{yAccessor:c,stroke:l.stroke}),(0,D.jsx)(Rc.LineSeries,{yAccessor:u,stroke:h.stroke}),(0,D.jsx)(Rc.CandlestickSeries,{width:au(r),fill:hu,stroke:uu,wickStroke:uu,candleStrokeWidth:.8}),(0,D.jsx)(Rc.MouseCoordinateY,{at:"right",orient:"right",displayFormat:su(".4f")}),(0,D.jsx)(Rc.OHLCTooltip,{fontSize:15,xDisplayFormat:o,textFill:"black",ohlcFormat:su(".8f"),forChart:3,origin:[5,-90],onClick:lu}),(0,D.jsx)(Rc.MovingAverageTooltip,{className:cu,width:100,fontSize:15,origin:[5,320],options:[fu(c,l),fu(u,h)],onClick:lu}),(0,D.jsx)(Rc.BollingerBandTooltip,{className:cu,fontSize:15,origin:[190,440],yAccessor:function(t){return t.bb},options:s.options(),onClick:lu})]})};var vu=ou.C,gu=ou.timeIntervalBarWidth,mu=ou.format,yu=function(t,e){return(t||{}).close>(e||{}).close?vu.UP:vu.DOWN};const xu=function(t){var e=t.id,n=t.height,r=t.timeInterval,o=t.timeFormat;return(0,D.jsxs)(Rc.Chart,{id:e,height:n,yExtents:function(t){return t.volume},origin:function(t,e){return[0,e-140]},children:[(0,D.jsx)(Rc.YAxis,{axisAt:"left",orient:"left",ticks:5,tickFormat:mu(".0s"),stroke:"black"}),(0,D.jsx)(Rc.MouseCoordinateY,{at:"left",orient:"left",displayFormat:mu(".4s")}),(0,D.jsx)(Rc.BarSeries,{width:gu(r),yAccessor:function(t){return t.volume},fill:yu,stroke:yu}),(0,D.jsx)(Rc.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),(0,D.jsx)(Rc.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:o})]})};var wu=ou.format,Cu=function(){},bu={line:"#000000",top:"#b8b2bb",middle:"transparent",bottom:"#b8c2cc",outsideThreshold:"#b300b3",insideThreshold:"#4699cb"};const Su=function(t){var e=t.id,n=t.height,r=t.width,o=t.rsi;return(0,D.jsxs)(Rc.Chart,{id:e,height:n,yExtents:[0,100],origin:function(t,e){return[0,e-510]},children:[(0,D.jsx)(Rc.YAxis,{axisAt:"right",orient:"right",stroke:"black",tickStroke:"#4699cb",tickValues:[30,50,70]}),(0,D.jsx)(Rc.MouseCoordinateY,{at:"right",orient:"right",displayFormat:wu(".2f")}),(0,D.jsx)(Rc.RSISeries,{yAccessor:function(t){return t.rsi},stroke:bu}),(0,D.jsx)(Rc.RSITooltip,{className:"rs-tooltip",origin:[r-160,10],fontSize:15,yAccessor:function(t){return t.rsi},options:o.options(),onClick:Cu})]})};var ku=ou.format;const Du=function(t){var e=t.id,n=t.height;return(0,D.jsxs)(Rc.Chart,{id:e,height:n,yExtents:function(t){return[t.high,t.low]},origin:function(t,e){return[0,e-510]},children:[(0,D.jsx)(Rc.YAxis,{axisAt:"left",orient:"left",stroke:"black",ticks:5}),(0,D.jsx)(Rc.LineSeries,{yAccessor:function(t){return t.close},stroke:"black"}),(0,D.jsx)(Rc.MouseCoordinateY,{at:"left",orient:"left",displayFormat:ku(".2f")})]})};var Tu=Rc.sma,Au=Rc.rsi,Pu=Rc.bollingerBand,Mu=Rc.useElementWidth,_u=ou.scaleTime,Ou=ou.crTimeInterval,Nu=ou.crTimeFormat,Iu=ou.crExtends,Eu={left:50,right:80,top:0,bottom:30},ju={width:"98%"},Fu=function(t){return t?t.date:0},Ru=function(t){var e=t.id,n=t.style,r=t.data,o=t.height,i=t.timeframe,a=Mu({id:e})[0],s=Tu().options({windowSize:20,stroke:"green"}).merge((function(t,e){t.sma20=e})).accessor((function(t){return t.sma20})),c=Tu().options({windowSize:50,stroke:"orange"}).merge((function(t,e){t.sma50=e})).accessor((function(t){return t.sma50})),l=Pu().merge((function(t,e){t.bb=e})).accessor((function(t){return t.bb})),u=Au().options({windowSize:14}).merge((function(t,e){t.rsi=e})).accessor((function(t){return t.rsi})),h=c(s(l(u(r)))),d=Ou(i),f=Nu(i),p=Iu(h,i,150);return(0,D.jsx)("div",{id:e,style:b({},ju,n),children:(0,D.jsxs)(Rc.ChartCanvas,{ratio:2,width:a,height:o,margin:Eu,seriesName:"Item",data:h,xAccessor:Fu,displayXAccessor:Fu,xScale:_u(),xExtents:p,children:[Su({id:1,height:100,width:a,rsi:u}),Du({id:2,height:100}),pu({id:3,height:300,timeInterval:d,timeFormat:f,sma20:s,sma50:c,bb:l}),xu({id:4,height:120,timeInterval:d,timeFormat:f}),(0,D.jsx)(Rc.CrossHairCursor,{})]})})};const Lu=(0,o.memo)(Ru);const Wu={providerTitle:v.INITIAL_PROVIDER_TITLE,itemTitle:v.INITIAL_ITEM_TITLE,data:v.DF_DATA,timeframe:v.DF_TIMEFRAME,fetchStatus:A.INITIAL,isLiveUpdating:!1};const zu=Object.freeze({LOADING:"DATA_LOADING",LOADED:"DATA_LOADED",LOAD_FAILED:"DATA_LOAD_FAILED",UPDATE:"DATA_UPDATE"});const Bu=function(t,e){switch(e.type){case zu.LOADING:return b({},t,{fetchStatus:A.LOADING});case zu.LOADED:return function(t){return Array.isArray(t)||t.length>20}(e.data)?b({},t,{data:e.data,providerTitle:e.providerTitle,itemTitle:e.itemTitle,timeframe:e.timeframe,fetchStatus:A.SUCCESS}):t;case zu.LOAD_FAILED:return b({},t,{fetchStatus:A.FAILED});case zu.UPDATE:return b({},t,{data:[].concat(t.data,[e.point])});default:throw new TypeError("Not existed action "+e.type)}};var Uu,Xu="wss://stream.binance.com:9443/ws/",Hu="@kline_1m";function Yu(t,e,n,r,o){var i;(Uu=new WebSocket(""+Xu+t+Hu)).addEventListener("open",(function(){i=(new Date).getMinutes(),n()})),Uu.addEventListener("message",(function(t){try{var n=JSON.parse(t.data),r=n.E,a=n.k,s=new Date(r),c=s.getMinutes();i!==c?(i=c,e(function(t,e){return{date:t,high:parseFloat(e.h),low:parseFloat(e.l),open:parseFloat(e.o),close:parseFloat(e.c),volume:parseFloat(e.v)}}(r,a)),o("")):o(s.getSeconds())}catch(t){console.log(t)}})),Uu.addEventListener("error",(function(t){r()})),Uu.addEventListener("close",(function(t){r()}))}const Vu={startLiveUpdate:function(t){var e=t.pair,n=t.onMessage,r=t.onOpen,o=t.onClose,i=t.onSecond;Yu(function(t){return(""+t).replace("/","").toLowerCase()}(e),n,r,o,i)},stopLiveUpdate:function(){try{void 0===(t=1e3)&&(t=1005),Uu&&Uu.close(t)}catch(t){console.log(t)}var t}};var qu=["timeframe"];const Zu=function(t){var e=t.appSettings,n=t.theme,r=t.setThemeId,o=t.dispatch,i=t.setLiveUpdating;return{appSettings:e,theme:n,setThemeId:r,dataAction:{loading:function(){return o({type:zu.LOADING})},loadData:function(t){var e=t.timeframe,n=void 0===e?v.DF_TIMEFRAME:e,r=S(t,qu);i({isLiveUpdating:!1}),Vu.stopLiveUpdate(),o(b({type:zu.LOADED,timeframe:n},r))},loadFailed:function(){return o({type:zu.LOAD_FAILED})}},onLiveUpdate:function(t){Vu.startLiveUpdate({pair:t,onMessage:function(t,e){return o({type:zu.UPDATE,point:t})},onOpen:function(){return i({isLiveUpdating:!0})},onClose:function(){return i({isLiveUpdating:!1})},onSecond:function(t){return i({isLiveUpdating:!0,sec:t})}})},onStopUpdate:function(){Vu.stopLiveUpdate()}}};var Gu={paddingTop:8},$u={isLiveUpdating:!1,sec:""};const Ku=function(){var t=(0,o.useState)(1),e=t[0],n=t[1],r=(0,o.useReducer)(Bu,Wu),i=r[0],u=r[1],h=i.providerTitle,d=i.itemTitle,f=i.data,p=i.timeframe,v=i.fetchStatus,g=(0,o.useState)($u),y=g[0],x=g[1],w=a((function(){return Zu({appSettings:m,theme:C,setThemeId:n,dispatch:u,setLiveUpdating:x})}));return(0,D.jsx)(s.Provider,{value:w,children:(0,D.jsx)(c.Provider,{value:e,children:(0,D.jsxs)(l.Provider,{value:y,children:[(0,D.jsx)(Be,{fetchStatus:v,providerTitle:h,itemTitle:d,timeframe:p}),(0,D.jsx)("main",{style:Gu,children:(0,D.jsx)(Lu,{id:"chart_wrapper",height:550,data:f,timeframe:p})})]})})})};(0,r.render)((0,D.jsx)(Ku,{}),document.getElementById("app"))},251:(t,e,n)=>{n(418);var r=n(294),o=60103;if(e.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),e.Fragment=i("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,i={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(u=e.ref),e)s.call(e,r)&&!c.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:o,type:t,key:l,ref:u,props:i,_owner:a.current}}e.jsx=l,e.jsxs=l},893:(t,e,n)=>{t.exports=n(251)}},t=>{var e;e=21,t(t.s=e)}]);